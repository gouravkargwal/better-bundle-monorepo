{% comment %}
  Centralized skeleton loader for all recommendation blocks
  Usage: {% render 'skeleton-loader', type: 'product-card', count: 4 %}
{% endcomment %}

{% assign skeleton_count = count | default: 4 %}
{% assign skeleton_type = type | default: 'product-card' %}

{% if skeleton_type == 'product-card' %}
  <div class="loading-placeholder">
    {% for i in (1..skeleton_count) %}
      <div class="product-card loading-skeleton">
        <div class="product-card__image loading-skeleton"></div>
        <div class="product-card__body">
          <div class="product-card__title loading-skeleton"></div>
          <div class="product-card__price-quantity loading-skeleton">
            <div class="product-card__price loading-skeleton"></div>
            <div class="product-card__quantity loading-skeleton">
              <div class="qty-btn loading-skeleton"></div>
              <div class="qty-input loading-skeleton"></div>
              <div class="qty-btn loading-skeleton"></div>
            </div>
          </div>
          <div class="product-card__variants loading-skeleton">
            <div class="variant-select loading-skeleton"></div>
          </div>
          <div class="product-card__btn loading-skeleton"></div>
        </div>
      </div>
    {% endfor %}
  </div>
{% elsif skeleton_type == 'carousel' %}
  <div class="loading-placeholder">
    <div class="swiper loading-skeleton">
      <div class="swiper-wrapper">
        {% for i in (1..skeleton_count) %}
          <div class="swiper-slide loading-skeleton">
            <div class="product-card loading-skeleton">
              <div class="product-card__image loading-skeleton"></div>
              <div class="product-card__body">
                <div class="product-card__title loading-skeleton"></div>
                <div class="product-card__price-quantity loading-skeleton">
                  <div class="product-card__price loading-skeleton"></div>
                  <div class="product-card__quantity loading-skeleton">
                    <div class="qty-btn loading-skeleton"></div>
                    <div class="qty-input loading-skeleton"></div>
                    <div class="qty-btn loading-skeleton"></div>
                  </div>
                </div>
                <div class="product-card__variants loading-skeleton">
                  <div class="variant-select loading-skeleton"></div>
                </div>
                <div class="product-card__btn loading-skeleton"></div>
              </div>
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% elsif skeleton_type == 'heading' %}
  <div class="loading-placeholder">
    <div class="section-heading loading-skeleton">
      <div class="heading loading-skeleton"></div>
    </div>
  </div>
{% endif %}
