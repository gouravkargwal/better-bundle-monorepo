var kt,z,sr,ke,Pn,cr,ur,lr,un,jt,Zt,je={},fr=[],ei=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ot=Array.isArray;function ge(e,t){for(var n in t)e[n]=t[n];return e}function ln(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ti(e,t,n){var r,i,o,a={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?kt.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return Et(e,a,r,i,null)}function Et(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++sr,__i:-1,__u:0};return i==null&&z.vnode!=null&&z.vnode(o),o}function xt(e){return e.children}function wt(e,t){this.props=e,this.context=t}function ze(e,t){if(t==null)return e.__?ze(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ze(e):null}function _r(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return _r(e)}}function kn(e){(!e.__d&&(e.__d=!0)&&ke.push(e)&&!It.__r++||Pn!=z.debounceRendering)&&((Pn=z.debounceRendering)||cr)(It)}function It(){for(var e,t,n,r,i,o,a,u=1;ke.length;)ke.length>u&&ke.sort(ur),e=ke.shift(),u=ke.length,e.__d&&(n=void 0,r=void 0,i=(r=(t=e).__v).__e,o=[],a=[],t.__P&&((n=ge({},r)).__v=r.__v+1,z.vnode&&z.vnode(n),fn(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,o,i??ze(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,hr(o,n,a),r.__e=r.__=null,n.__e!=i&&_r(n)));It.__r=0}function dr(e,t,n,r,i,o,a,u,l,s,f){var c,m,_,h,d,p,v,g=r&&r.__k||fr,y=t.length;for(l=ni(n,t,g,l,y),c=0;c<y;c++)(_=n.__k[c])!=null&&(m=_.__i==-1?je:g[_.__i]||je,_.__i=c,p=fn(e,_,m,i,o,a,u,l,s,f),h=_.__e,_.ref&&m.ref!=_.ref&&(m.ref&&_n(m.ref,null,_),f.push(_.ref,_.__c||h,_)),d==null&&h!=null&&(d=h),(v=!!(4&_.__u))||m.__k===_.__k?l=vr(_,l,e,v):typeof _.type=="function"&&p!==void 0?l=p:h&&(l=h.nextSibling),_.__u&=-7);return n.__e=d,l}function ni(e,t,n,r,i){var o,a,u,l,s,f=n.length,c=f,m=0;for(e.__k=new Array(i),o=0;o<i;o++)(a=t[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=o+m,(a=e.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?Et(null,a,null,null,null):Ot(a)?Et(xt,{children:a},null,null,null):a.constructor==null&&a.__b>0?Et(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,u=null,(s=a.__i=ri(a,n,l,c))!=-1&&(c--,(u=n[s])&&(u.__u|=2)),u==null||u.__v==null?(s==-1&&(i>f?m--:i<f&&m++),typeof a.type!="function"&&(a.__u|=4)):s!=l&&(s==l-1?m--:s==l+1?m++:(s>l?m--:m++,a.__u|=4))):e.__k[o]=null;if(c)for(o=0;o<f;o++)(u=n[o])!=null&&(2&u.__u)==0&&(u.__e==r&&(r=ze(u)),gr(u,u));return r}function vr(e,t,n,r){var i,o;if(typeof e.type=="function"){for(i=e.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=e,t=vr(i[o],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=ze(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ri(e,t,n,r){var i,o,a,u=e.key,l=e.type,s=t[n],f=s!=null&&(2&s.__u)==0;if(s===null&&e.key==null||f&&u==s.key&&l==s.type)return n;if(r>(f?1:0)){for(i=n-1,o=n+1;i>=0||o<t.length;)if((s=t[a=i>=0?i--:o++])!=null&&(2&s.__u)==0&&u==s.key&&l==s.type)return a}return-1}function On(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||ei.test(t)?n:n+"px"}function gt(e,t,n,r,i){var o,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||On(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||On(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(lr,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=un,e.addEventListener(t,o?Zt:jt,o)):e.removeEventListener(t,o?Zt:jt,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function xn(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=un++;else if(t.t<n.u)return;return n(z.event?z.event(t):t)}}}function fn(e,t,n,r,i,o,a,u,l,s){var f,c,m,_,h,d,p,v,g,y,E,A,T,S,R,x,P,b=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),o=[u=t.__e=n.__e]),(f=z.__b)&&f(t);e:if(typeof b=="function")try{if(v=t.props,g="prototype"in b&&b.prototype.render,y=(f=b.contextType)&&r[f.__c],E=f?y?y.props.value:f.__:r,n.__c?p=(c=t.__c=n.__c).__=c.__E:(g?t.__c=c=new b(v,E):(t.__c=c=new wt(v,E),c.constructor=b,c.render=oi),y&&y.sub(c),c.props=v,c.state||(c.state={}),c.context=E,c.__n=r,m=c.__d=!0,c.__h=[],c._sb=[]),g&&c.__s==null&&(c.__s=c.state),g&&b.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=ge({},c.__s)),ge(c.__s,b.getDerivedStateFromProps(v,c.__s))),_=c.props,h=c.state,c.__v=t,m)g&&b.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),g&&c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(g&&b.getDerivedStateFromProps==null&&v!==_&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(v,E),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(v,c.__s,E)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(c.props=v,c.state=c.__s,c.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(w){w&&(w.__=t)}),A=0;A<c._sb.length;A++)c.__h.push(c._sb[A]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(v,c.__s,E),g&&c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(_,h,d)})}if(c.context=E,c.props=v,c.__P=e,c.__e=!1,T=z.__r,S=0,g){for(c.state=c.__s,c.__d=!1,T&&T(t),f=c.render(c.props,c.state,c.context),R=0;R<c._sb.length;R++)c.__h.push(c._sb[R]);c._sb=[]}else do c.__d=!1,T&&T(t),f=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++S<25);c.state=c.__s,c.getChildContext!=null&&(r=ge(ge({},r),c.getChildContext())),g&&!m&&c.getSnapshotBeforeUpdate!=null&&(d=c.getSnapshotBeforeUpdate(_,h)),x=f,f!=null&&f.type===xt&&f.key==null&&(x=mr(f.props.children)),u=dr(e,Ot(x)?x:[x],t,n,r,i,o,a,u,l,s),c.base=t.__e,t.__u&=-161,c.__h.length&&a.push(c),p&&(c.__E=c.__=null)}catch(w){if(t.__v=null,l||o!=null)if(w.then){for(t.__u|=l?160:128;u&&u.nodeType==8&&u.nextSibling;)u=u.nextSibling;o[o.indexOf(u)]=null,t.__e=u}else{for(P=o.length;P--;)ln(o[P]);Qt(t)}else t.__e=n.__e,t.__k=n.__k,w.then||Qt(t);z.__e(w,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):u=t.__e=ii(n.__e,t,n,r,i,o,a,l,s);return(f=z.diffed)&&f(t),128&t.__u?void 0:u}function Qt(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Qt)}function hr(e,t,n){for(var r=0;r<n.length;r++)_n(n[r],n[++r],n[++r]);z.__c&&z.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){z.__e(o,i.__v)}})}function mr(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Ot(e)?e.map(mr):ge({},e)}function ii(e,t,n,r,i,o,a,u,l){var s,f,c,m,_,h,d,p=n.props,v=t.props,g=t.type;if(g=="svg"?i="http://www.w3.org/2000/svg":g=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(s=0;s<o.length;s++)if((_=o[s])&&"setAttribute"in _==!!g&&(g?_.localName==g:_.nodeType==3)){e=_,o[s]=null;break}}if(e==null){if(g==null)return document.createTextNode(v);e=document.createElementNS(i,g,v.is&&v),u&&(z.__m&&z.__m(t,o),u=!1),o=null}if(g==null)p===v||u&&e.data==v||(e.data=v);else{if(o=o&&kt.call(e.childNodes),p=n.props||je,!u&&o!=null)for(p={},s=0;s<e.attributes.length;s++)p[(_=e.attributes[s]).name]=_.value;for(s in p)if(_=p[s],s!="children"){if(s=="dangerouslySetInnerHTML")c=_;else if(!(s in v)){if(s=="value"&&"defaultValue"in v||s=="checked"&&"defaultChecked"in v)continue;gt(e,s,null,_,i)}}for(s in v)_=v[s],s=="children"?m=_:s=="dangerouslySetInnerHTML"?f=_:s=="value"?h=_:s=="checked"?d=_:u&&typeof _!="function"||p[s]===_||gt(e,s,_,p[s],i);if(f)u||c&&(f.__html==c.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(c&&(e.innerHTML=""),dr(t.type=="template"?e.content:e,Ot(m)?m:[m],t,n,r,g=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:n.__k&&ze(n,0),u,l),o!=null)for(s=o.length;s--;)ln(o[s]);u||(s="value",g=="progress"&&h==null?e.removeAttribute("value"):h!=null&&(h!==e[s]||g=="progress"&&!h||g=="option"&&h!=p[s])&&gt(e,s,h,p[s],i),s="checked",d!=null&&d!=e[s]&&gt(e,s,d,p[s],i))}return e}function _n(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){z.__e(i,n)}}function gr(e,t,n){var r,i;if(z.unmount&&z.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||_n(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){z.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&gr(r[i],t,n||typeof e.type!="function");n||ln(e.__e),e.__c=e.__=e.__e=void 0}function oi(e,t,n){return this.constructor(e,n)}function ai(e,t,n){var r,i,o,a;t==document&&(t=document.documentElement),z.__&&z.__(e,t),i=(r=!1)?null:t.__k,o=[],a=[],fn(t,e=t.__k=ti(xt,null,[e]),i||je,je,t.namespaceURI,i?null:t.firstChild?kt.call(t.childNodes):null,o,i?i.__e:t.firstChild,r,a),hr(o,e,a)}kt=fr.slice,z={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(u){e=u}throw e}},sr=0,wt.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ge({},this.state),typeof e=="function"&&(e=e(ge({},n),this.props)),e&&ge(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),kn(this))},wt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),kn(this))},wt.prototype.render=xt,ke=[],cr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ur=function(e,t){return e.__v.__b-t.__v.__b},It.__r=0,lr=/(PointerCapture)$|Capture$/i,un=0,jt=xn(!1),Zt=xn(!0);var si=0;function M(e,t,n,r,i,o){t||(t={});var a,u,l=t;if("ref"in l)for(u in l={},t)u=="ref"?a=t[u]:l[u]=t[u];var s={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--si,__i:-1,__u:0,__source:i,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(u in a)l[u]===void 0&&(l[u]=a[u]);return z.vnode&&z.vnode(s),s}var Ze,J,Gt,Dn,Qe=0,pr=[],j=z,Mn=j.__b,Fn=j.__r,$n=j.diffed,Vn=j.__c,Un=j.unmount,Bn=j.__;function dn(e,t){j.__h&&j.__h(J,e,Qe||t),Qe=0;var n=J.__H||(J.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function ue(e){return Qe=1,ci(Er,e)}function ci(e,t,n){var r=dn(Ze++,2);if(r.t=e,!r.__c&&(r.__=[Er(void 0,t),function(u){var l=r.__N?r.__N[0]:r.__[0],s=r.t(l,u);l!==s&&(r.__N=[s,r.__[1]],r.__c.setState({}))}],r.__c=J,!J.__f)){var i=function(u,l,s){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(m){return!!m.__c});if(f.every(function(m){return!m.__N}))return!o||o.call(this,u,l,s);var c=r.__c.props!==u;return f.forEach(function(m){if(m.__N){var _=m.__[0];m.__=m.__N,m.__N=void 0,_!==m.__[0]&&(c=!0)}}),o&&o.call(this,u,l,s)||c};J.__f=!0;var o=J.shouldComponentUpdate,a=J.componentWillUpdate;J.componentWillUpdate=function(u,l,s){if(this.__e){var f=o;o=void 0,i(u,l,s),o=f}a&&a.call(this,u,l,s)},J.shouldComponentUpdate=i}return r.__N||r.__}function be(e,t){var n=dn(Ze++,3);!j.__s&&yr(n.__H,t)&&(n.__=e,n.u=t,J.__H.__h.push(n))}function zn(e){return Qe=5,Dt(function(){return{current:e}},[])}function Dt(e,t){var n=dn(Ze++,7);return yr(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ui(e,t){return Qe=8,Dt(function(){return e},t)}function li(){for(var e;e=pr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(St),e.__H.__h.forEach(en),e.__H.__h=[]}catch(t){e.__H.__h=[],j.__e(t,e.__v)}}j.__b=function(e){J=null,Mn&&Mn(e)},j.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Bn&&Bn(e,t)},j.__r=function(e){Fn&&Fn(e),Ze=0;var t=(J=e.__c).__H;t&&(Gt===J?(t.__h=[],J.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(St),t.__h.forEach(en),t.__h=[],Ze=0)),Gt=J},j.diffed=function(e){$n&&$n(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(pr.push(t)!==1&&Dn===j.requestAnimationFrame||((Dn=j.requestAnimationFrame)||fi)(li)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Gt=J=null},j.__c=function(e,t){t.some(function(n){try{n.__h.forEach(St),n.__h=n.__h.filter(function(r){return!r.__||en(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],j.__e(r,n.__v)}}),Vn&&Vn(e,t)},j.unmount=function(e){Un&&Un(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{St(r)}catch(i){t=i}}),n.__H=void 0,t&&j.__e(t,n.__v))};var Wn=typeof requestAnimationFrame=="function";function fi(e){var t,n=function(){clearTimeout(r),Wn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Wn&&(t=requestAnimationFrame(n))}function St(e){var t=J,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),J=t}function en(e){var t=J;e.__c=e.__(),J=t}function yr(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Er(e,t){return typeof t=="function"?t(e):t}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e,t,n){return t&&_i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var qn="(prefers-reduced-motion: reduce)",Ve=1,vi=2,We=3,He=4,ct=5,bt=6,Rt=7,hi={CREATED:Ve,MOUNTED:vi,IDLE:We,MOVING:He,SCROLLING:ct,DRAGGING:bt,DESTROYED:Rt};function we(e){e.length=0}function Re(e,t,n){return Array.prototype.slice.call(e,t,n)}function q(e){return e.bind.apply(e,[null].concat(Re(arguments,1)))}var wr=setTimeout,tn=function(){};function Hn(e){return requestAnimationFrame(e)}function Mt(e,t){return typeof t===e}function et(e){return!hn(e)&&Mt("object",e)}var vn=Array.isArray,Sr=q(Mt,"function"),Te=q(Mt,"string"),ut=q(Mt,"undefined");function hn(e){return e===null}function br(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch{return!1}}function lt(e){return vn(e)?e:[e]}function se(e,t){lt(e).forEach(t)}function mn(e,t){return e.indexOf(t)>-1}function At(e,t){return e.push.apply(e,lt(t)),e}function pe(e,t,n){e&&se(t,function(r){r&&e.classList[n?"add":"remove"](r)})}function _e(e,t){pe(e,Te(t)?t.split(" "):t,!0)}function ft(e,t){se(t,e.appendChild.bind(e))}function gn(e,t){se(e,function(n){var r=(t||n).parentNode;r&&r.insertBefore(n,t)})}function tt(e,t){return br(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function Ar(e,t){var n=e?Re(e.children):[];return t?n.filter(function(r){return tt(r,t)}):n}function _t(e,t){return t?Ar(e,t)[0]:e.firstElementChild}var nt=Object.keys;function Oe(e,t,n){return e&&(n?nt(e).reverse():nt(e)).forEach(function(r){r!=="__proto__"&&t(e[r],r)}),e}function rt(e){return Re(arguments,1).forEach(function(t){Oe(t,function(n,r){e[r]=t[r]})}),e}function Ae(e){return Re(arguments,1).forEach(function(t){Oe(t,function(n,r){vn(n)?e[r]=n.slice():et(n)?e[r]=Ae({},et(e[r])?e[r]:{},n):e[r]=n})}),e}function Gn(e,t){se(t||nt(e),function(n){delete e[n]})}function de(e,t){se(e,function(n){se(t,function(r){n&&n.removeAttribute(r)})})}function $(e,t,n){et(t)?Oe(t,function(r,i){$(e,i,r)}):se(e,function(r){hn(n)||n===""?de(r,t):r.setAttribute(t,String(n))})}function Ue(e,t,n){var r=document.createElement(e);return t&&(Te(t)?_e(r,t):$(r,t)),n&&ft(n,r),r}function ce(e,t,n){if(ut(n))return getComputedStyle(e)[t];hn(n)||(e.style[t]=""+n)}function it(e,t){ce(e,"display",t)}function Tr(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function le(e,t){return e.getAttribute(t)}function Kn(e,t){return e&&e.classList.contains(t)}function oe(e){return e.getBoundingClientRect()}function xe(e){se(e,function(t){t&&t.parentNode&&t.parentNode.removeChild(t)})}function Nr(e){return _t(new DOMParser().parseFromString(e,"text/html").body)}function he(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function Ir(e,t){return e&&e.querySelector(t)}function pn(e,t){return t?Re(e.querySelectorAll(t)):[]}function ye(e,t){pe(e,t,!1)}function nn(e){return e.timeStamp}function Pe(e){return Te(e)?e:e?e+"px":""}var dt="splide",yn="data-"+dt;function Je(e,t){if(!e)throw new Error("["+dt+"] "+(t||""))}var Ne=Math.min,Ct=Math.max,Lt=Math.floor,ot=Math.ceil,re=Math.abs;function Rr(e,t,n){return re(e-t)<n}function Tt(e,t,n,r){var i=Ne(t,n),o=Ct(t,n);return r?i<e&&e<o:i<=e&&e<=o}function Fe(e,t,n){var r=Ne(t,n),i=Ct(t,n);return Ne(Ct(r,e),i)}function rn(e){return+(e>0)-+(e<0)}function on(e,t){return se(t,function(n){e=e.replace("%s",""+n)}),e}function En(e){return e<10?"0"+e:""+e}var Yn={};function mi(e){return""+e+En(Yn[e]=(Yn[e]||0)+1)}function Cr(){var e=[];function t(a,u,l,s){i(a,u,function(f,c,m){var _="addEventListener"in f,h=_?f.removeEventListener.bind(f,c,l,s):f.removeListener.bind(f,l);_?f.addEventListener(c,l,s):f.addListener(l),e.push([f,c,m,l,h])})}function n(a,u,l){i(a,u,function(s,f,c){e=e.filter(function(m){return m[0]===s&&m[1]===f&&m[2]===c&&(!l||m[3]===l)?(m[4](),!1):!0})})}function r(a,u,l){var s,f=!0;return typeof CustomEvent=="function"?s=new CustomEvent(u,{bubbles:f,detail:l}):(s=document.createEvent("CustomEvent"),s.initCustomEvent(u,f,!1,l)),a.dispatchEvent(s),s}function i(a,u,l){se(a,function(s){s&&se(u,function(f){f.split(" ").forEach(function(c){var m=c.split(".");l(s,m[0],m[1])})})})}function o(){e.forEach(function(a){a[4]()}),we(e)}return{bind:t,unbind:n,dispatch:r,destroy:o}}var Me="mounted",Jn="ready",Ie="move",vt="moved",Lr="click",gi="active",pi="inactive",yi="visible",Ei="hidden",Z="refresh",ie="updated",at="resize",wn="resized",wi="drag",Si="dragging",bi="dragged",Sn="scroll",Ge="scrolled",Ai="overflow",Pr="destroy",Ti="arrows:mounted",Ni="arrows:updated",Ii="pagination:mounted",Ri="pagination:updated",kr="navigation:mounted",Or="autoplay:play",Ci="autoplay:playing",xr="autoplay:pause",Dr="lazyload:loaded",Mr="sk",Fr="sh",Pt="ei";function Y(e){var t=e?e.event.bus:document.createDocumentFragment(),n=Cr();function r(o,a){n.bind(t,lt(o).join(" "),function(u){a.apply(a,vn(u.detail)?u.detail:[])})}function i(o){n.dispatch(t,o,Re(arguments,1))}return e&&e.event.on(Pr,n.destroy),rt(n,{bus:t,on:r,off:q(n.unbind,t),emit:i})}function Ft(e,t,n,r){var i=Date.now,o,a=0,u,l=!0,s=0;function f(){if(!l){if(a=e?Ne((i()-o)/e,1):1,n&&n(a),a>=1&&(t(),o=i(),r&&++s>=r))return m();u=Hn(f)}}function c(v){v||h(),o=i()-(v?a*e:0),l=!1,u=Hn(f)}function m(){l=!0}function _(){o=i(),a=0,n&&n(a)}function h(){u&&cancelAnimationFrame(u),a=0,u=0,l=!0}function d(v){e=v}function p(){return l}return{start:c,rewind:_,pause:m,cancel:h,set:d,isPaused:p}}function Li(e){var t=e;function n(i){t=i}function r(i){return mn(lt(i),t)}return{set:n,is:r}}function Pi(e,t){var n=Ft(0,e,null,1);return function(){n.isPaused()&&n.start()}}function ki(e,t,n){var r=e.state,i=n.breakpoints||{},o=n.reducedMotion||{},a=Cr(),u=[];function l(){var h=n.mediaQuery==="min";nt(i).sort(function(d,p){return h?+d-+p:+p-+d}).forEach(function(d){f(i[d],"("+(h?"min":"max")+"-width:"+d+"px)")}),f(o,qn),c()}function s(h){h&&a.destroy()}function f(h,d){var p=matchMedia(d);a.bind(p,"change",c),u.push([h,p])}function c(){var h=r.is(Rt),d=n.direction,p=u.reduce(function(v,g){return Ae(v,g[1].matches?g[0]:{})},{});Gn(n),_(p),n.destroy?e.destroy(n.destroy==="completely"):h?(s(!0),e.mount()):d!==n.direction&&e.refresh()}function m(h){matchMedia(qn).matches&&(h?Ae(n,o):Gn(n,nt(o)))}function _(h,d,p){Ae(n,h),d&&Ae(Object.getPrototypeOf(n),h),(p||!r.is(Ve))&&e.emit(ie,n)}return{setup:l,destroy:s,reduce:m,set:_}}var $t="Arrow",Vt=$t+"Left",Ut=$t+"Right",$r=$t+"Up",Vr=$t+"Down",Xn="rtl",Bt="ttb",Kt={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[$r,Ut],ArrowRight:[Vr,Vt]};function Oi(e,t,n){function r(o,a,u){u=u||n.direction;var l=u===Xn&&!a?1:u===Bt?0:-1;return Kt[o]&&Kt[o][l]||o.replace(/width|left|right/i,function(s,f){var c=Kt[s.toLowerCase()][l]||s;return f>0?c.charAt(0).toUpperCase()+c.slice(1):c})}function i(o){return o*(n.direction===Xn?1:-1)}return{resolve:r,orient:i}}var Ee="role",Be="tabindex",xi="disabled",fe="aria-",ht=fe+"controls",Ur=fe+"current",jn=fe+"selected",ae=fe+"label",bn=fe+"labelledby",Br=fe+"hidden",An=fe+"orientation",st=fe+"roledescription",Zn=fe+"live",Qn=fe+"busy",er=fe+"atomic",Tn=[Ee,Be,xi,ht,Ur,ae,bn,Br,An,st],ve=dt+"__",Ce="is-",Yt=dt,tr=ve+"track",Di=ve+"list",zt=ve+"slide",zr=zt+"--clone",Mi=zt+"__container",Nn=ve+"arrows",Wt=ve+"arrow",Wr=Wt+"--prev",qr=Wt+"--next",qt=ve+"pagination",Hr=qt+"__page",Fi=ve+"progress",$i=Fi+"__bar",Vi=ve+"toggle",Ui=ve+"spinner",Bi=ve+"sr",zi=Ce+"initialized",De=Ce+"active",Gr=Ce+"prev",Kr=Ce+"next",an=Ce+"visible",sn=Ce+"loading",Yr=Ce+"focus-in",Jr=Ce+"overflow",Wi=[De,an,Gr,Kr,sn,Yr,Jr],qi={slide:zt,clone:zr,arrows:Nn,arrow:Wt,prev:Wr,next:qr,pagination:qt,page:Hr,spinner:Ui};function Hi(e,t){if(Sr(e.closest))return e.closest(t);for(var n=e;n&&n.nodeType===1&&!tt(n,t);)n=n.parentElement;return n}var Gi=5,nr=200,Xr="touchstart mousedown",Jt="touchmove mousemove",Xt="touchend touchcancel mouseup click";function Ki(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=e.root,u=n.i18n,l={},s=[],f=[],c=[],m,_,h;function d(){y(),E(),g()}function p(){i(Z,v),i(Z,d),i(ie,g),o(document,Xr+" keydown",function(S){h=S.type==="keydown"},{capture:!0}),o(a,"focusin",function(){pe(a,Yr,!!h)})}function v(S){var R=Tn.concat("style");we(s),ye(a,f),ye(m,c),de([m,_],R),de(a,S?R:["style",st])}function g(){ye(a,f),ye(m,c),f=T(Yt),c=T(tr),_e(a,f),_e(m,c),$(a,ae,n.label),$(a,bn,n.labelledby)}function y(){m=A("."+tr),_=_t(m,"."+Di),Je(m&&_,"A track/list element is missing."),At(s,Ar(_,"."+zt+":not(."+zr+")")),Oe({arrows:Nn,pagination:qt,prev:Wr,next:qr,bar:$i,toggle:Vi},function(S,R){l[R]=A("."+S)}),rt(l,{root:a,track:m,list:_,slides:s})}function E(){var S=a.id||mi(dt),R=n.role;a.id=S,m.id=m.id||S+"-track",_.id=_.id||S+"-list",!le(a,Ee)&&a.tagName!=="SECTION"&&R&&$(a,Ee,R),$(a,st,u.carousel),$(_,Ee,"presentation")}function A(S){var R=Ir(a,S);return R&&Hi(R,"."+Yt)===a?R:void 0}function T(S){return[S+"--"+n.type,S+"--"+n.direction,n.drag&&S+"--draggable",n.isNavigation&&S+"--nav",S===Yt&&De]}return rt(l,{setup:d,mount:p,destroy:v})}var qe="slide",Ke="loop",mt="fade";function Yi(e,t,n,r){var i=Y(e),o=i.on,a=i.emit,u=i.bind,l=e.Components,s=e.root,f=e.options,c=f.isNavigation,m=f.updateOnMove,_=f.i18n,h=f.pagination,d=f.slideFocus,p=l.Direction.resolve,v=le(r,"style"),g=le(r,ae),y=n>-1,E=_t(r,"."+Mi),A;function T(){y||(r.id=s.id+"-slide"+En(t+1),$(r,Ee,h?"tabpanel":"group"),$(r,st,_.slide),$(r,ae,g||on(_.slideLabel,[t+1,e.length]))),S()}function S(){u(r,"click",q(a,Lr,F)),u(r,"keydown",q(a,Mr,F)),o([vt,Fr,Ge],b),o(kr,x),m&&o(Ie,P)}function R(){A=!0,i.destroy(),ye(r,Wi),de(r,Tn),$(r,"style",v),$(r,ae,g||"")}function x(){var O=e.splides.map(function(I){var k=I.splide.Components.Slides.getAt(t);return k?k.slide.id:""}).join(" ");$(r,ae,on(_.slideX,(y?n:t)+1)),$(r,ht,O),$(r,Ee,d?"button":""),d&&de(r,st)}function P(){A||b()}function b(){if(!A){var O=e.index;w(),C(),pe(r,Gr,t===O-1),pe(r,Kr,t===O+1)}}function w(){var O=V();O!==Kn(r,De)&&(pe(r,De,O),$(r,Ur,c&&O||""),a(O?gi:pi,F))}function C(){var O=G(),I=!O&&(!V()||y);if(e.state.is([He,ct])||$(r,Br,I||""),$(pn(r,f.focusableNodes||""),Be,I?-1:""),d&&$(r,Be,I?-1:0),O!==Kn(r,an)&&(pe(r,an,O),a(O?yi:Ei,F)),!O&&document.activeElement===r){var k=l.Slides.getAt(e.index);k&&Tr(k.slide)}}function D(O,I,k){ce(k&&E||r,O,I)}function V(){var O=e.index;return O===t||f.cloneStatus&&O===n}function G(){if(e.is(mt))return V();var O=oe(l.Elements.track),I=oe(r),k=p("left",!0),U=p("right",!0);return Lt(O[k])<=ot(I[k])&&Lt(I[U])<=ot(O[U])}function H(O,I){var k=re(O-t);return!y&&(f.rewind||e.is(Ke))&&(k=Ne(k,e.length-k)),k<=I}var F={index:t,slideIndex:n,slide:r,container:E,isClone:y,mount:T,destroy:R,update:b,style:D,isWithin:H};return F}function Ji(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=r.bind,u=t.Elements,l=u.slides,s=u.list,f=[];function c(){m(),i(Z,_),i(Z,m)}function m(){l.forEach(function(b,w){d(b,w,-1)})}function _(){A(function(b){b.destroy()}),we(f)}function h(){A(function(b){b.update()})}function d(b,w,C){var D=Yi(e,w,C,b);D.mount(),f.push(D),f.sort(function(V,G){return V.index-G.index})}function p(b){return b?T(function(w){return!w.isClone}):f}function v(b){var w=t.Controller,C=w.toIndex(b),D=w.hasFocus()?1:n.perPage;return T(function(V){return Tt(V.index,C,C+D-1)})}function g(b){return T(b)[0]}function y(b,w){se(b,function(C){if(Te(C)&&(C=Nr(C)),br(C)){var D=l[w];D?gn(C,D):ft(s,C),_e(C,n.classes.slide),R(C,q(o,at))}}),o(Z)}function E(b){xe(T(b).map(function(w){return w.slide})),o(Z)}function A(b,w){p(w).forEach(b)}function T(b){return f.filter(Sr(b)?b:function(w){return Te(b)?tt(w.slide,b):mn(lt(b),w.index)})}function S(b,w,C){A(function(D){D.style(b,w,C)})}function R(b,w){var C=pn(b,"img"),D=C.length;D?C.forEach(function(V){a(V,"load error",function(){--D||w()})}):w()}function x(b){return b?l.length:f.length}function P(){return f.length>n.perPage}return{mount:c,destroy:_,update:h,register:d,get:p,getIn:v,getAt:g,add:y,remove:E,forEach:A,filter:T,style:S,getLength:x,isEnough:P}}function Xi(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=r.emit,u=t.Slides,l=t.Direction.resolve,s=t.Elements,f=s.root,c=s.track,m=s.list,_=u.getAt,h=u.style,d,p,v;function g(){y(),o(window,"resize load",Pi(q(a,at))),i([ie,Z],y),i(at,E)}function y(){d=n.direction===Bt,ce(f,"maxWidth",Pe(n.width)),ce(c,l("paddingLeft"),A(!1)),ce(c,l("paddingRight"),A(!0)),E(!0)}function E(F){var O=oe(f);(F||p.width!==O.width||p.height!==O.height)&&(ce(c,"height",T()),h(l("marginRight"),Pe(n.gap)),h("width",R()),h("height",x(),!0),p=O,a(wn),v!==(v=H())&&(pe(f,Jr,v),a(Ai,v)))}function A(F){var O=n.padding,I=l(F?"right":"left");return O&&Pe(O[I]||(et(O)?0:O))||"0px"}function T(){var F="";return d&&(F=S(),Je(F,"height or heightRatio is missing."),F="calc("+F+" - "+A(!1)+" - "+A(!0)+")"),F}function S(){return Pe(n.height||oe(m).width*n.heightRatio)}function R(){return n.autoWidth?null:Pe(n.fixedWidth)||(d?"":P())}function x(){return Pe(n.fixedHeight)||(d?n.autoHeight?null:P():S())}function P(){var F=Pe(n.gap);return"calc((100%"+(F&&" + "+F)+")/"+(n.perPage||1)+(F&&" - "+F)+")"}function b(){return oe(m)[l("width")]}function w(F,O){var I=_(F||0);return I?oe(I.slide)[l("width")]+(O?0:V()):0}function C(F,O){var I=_(F);if(I){var k=oe(I.slide)[l("right")],U=oe(m)[l("left")];return re(k-U)+(O?0:V())}return 0}function D(F){return C(e.length-1)-C(0)+w(0,F)}function V(){var F=_(0);return F&&parseFloat(ce(F.slide,l("marginRight")))||0}function G(F){return parseFloat(ce(c,l("padding"+(F?"Right":"Left"))))||0}function H(){return e.is(mt)||D(!0)>b()}return{mount:g,resize:E,listSize:b,slideSize:w,sliderSize:D,totalSize:C,getPadding:G,isOverflow:H}}var ji=2;function Zi(e,t,n){var r=Y(e),i=r.on,o=t.Elements,a=t.Slides,u=t.Direction.resolve,l=[],s;function f(){i(Z,c),i([ie,at],_),(s=p())&&(h(s),t.Layout.resize(!0))}function c(){m(),f()}function m(){xe(l),we(l),r.destroy()}function _(){var v=p();s!==v&&(s<v||!v)&&r.emit(Z)}function h(v){var g=a.get().slice(),y=g.length;if(y){for(;g.length<v;)At(g,g);At(g.slice(-v),g.slice(0,v)).forEach(function(E,A){var T=A<v,S=d(E.slide,A);T?gn(S,g[0].slide):ft(o.list,S),At(l,S),a.register(S,A-v+(T?0:y),E.index)})}}function d(v,g){var y=v.cloneNode(!0);return _e(y,n.classes.clone),y.id=e.root.id+"-clone"+En(g+1),y}function p(){var v=n.clones;if(!e.is(Ke))v=0;else if(ut(v)){var g=n[u("fixedWidth")]&&t.Layout.slideSize(0),y=g&&ot(oe(o.track)[u("width")]/g);v=y||n[u("autoWidth")]&&e.length||n.perPage*ji}return v}return{mount:f,destroy:m}}function Qi(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=e.state.set,u=t.Layout,l=u.slideSize,s=u.getPadding,f=u.totalSize,c=u.listSize,m=u.sliderSize,_=t.Direction,h=_.resolve,d=_.orient,p=t.Elements,v=p.list,g=p.track,y;function E(){y=t.Transition,i([Me,wn,ie,Z],A)}function A(){t.Controller.isBusy()||(t.Scroll.cancel(),S(e.index),t.Slides.update())}function T(I,k,U,ee){I!==k&&F(I>U)&&(b(),R(P(D(),I>U),!0)),a(He),o(Ie,k,U,I),y.start(k,function(){a(We),o(vt,k,U,I),ee&&ee()})}function S(I){R(C(I,!0))}function R(I,k){if(!e.is(mt)){var U=k?I:x(I);ce(v,"transform","translate"+h("X")+"("+U+"px)"),I!==U&&o(Fr)}}function x(I){if(e.is(Ke)){var k=w(I),U=k>t.Controller.getEnd(),ee=k<0;(ee||U)&&(I=P(I,U))}return I}function P(I,k){var U=I-H(k),ee=m();return I-=d(ee*(ot(re(U)/ee)||1))*(k?1:-1),I}function b(){R(D(),!0),y.cancel()}function w(I){for(var k=t.Slides.get(),U=0,ee=1/0,Q=0;Q<k.length;Q++){var Se=k[Q].index,N=re(C(Se,!0)-I);if(N<=ee)ee=N,U=Se;else break}return U}function C(I,k){var U=d(f(I-1)-G(I));return k?V(U):U}function D(){var I=h("left");return oe(v)[I]-oe(g)[I]+d(s(!1))}function V(I){return n.trimSpace&&e.is(qe)&&(I=Fe(I,0,d(m(!0)-c()))),I}function G(I){var k=n.focus;return k==="center"?(c()-l(I,!0))/2:+k*l(I)||0}function H(I){return C(I?t.Controller.getEnd():0,!!n.trimSpace)}function F(I){var k=d(P(D(),I));return I?k>=0:k<=v[h("scrollWidth")]-oe(g)[h("width")]}function O(I,k){k=ut(k)?D():k;var U=I!==!0&&d(k)<d(H(!1)),ee=I!==!1&&d(k)>d(H(!0));return U||ee}return{mount:E,move:T,jump:S,translate:R,shift:P,cancel:b,toIndex:w,toPosition:C,getPosition:D,getLimit:H,exceededLimit:O,reposition:A}}function eo(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=t.Move,u=a.getPosition,l=a.getLimit,s=a.toPosition,f=t.Slides,c=f.isEnough,m=f.getLength,_=n.omitEnd,h=e.is(Ke),d=e.is(qe),p=q(D,!1),v=q(D,!0),g=n.start||0,y,E=g,A,T,S;function R(){x(),i([ie,Z,Pt],x),i(wn,P)}function x(){A=m(!0),T=n.perMove,S=n.perPage,y=F();var N=Fe(g,0,_?y:A-1);N!==g&&(g=N,a.reposition())}function P(){y!==F()&&o(Pt)}function b(N,W,ne){if(!Se()){var X=C(N),te=H(X);te>-1&&(W||te!==g)&&(U(te),a.move(X,te,E,ne))}}function w(N,W,ne,X){t.Scroll.scroll(N,W,ne,function(){var te=H(a.toIndex(u()));U(_?Ne(te,y):te),X&&X()})}function C(N){var W=g;if(Te(N)){var ne=N.match(/([+\-<>])(\d+)?/)||[],X=ne[1],te=ne[2];X==="+"||X==="-"?W=V(g+ +(""+X+(+te||1)),g):X===">"?W=te?O(+te):p(!0):X==="<"&&(W=v(!0))}else W=h?N:Fe(N,0,y);return W}function D(N,W){var ne=T||(Q()?1:S),X=V(g+ne*(N?-1:1),g,!(T||Q()));return X===-1&&d&&!Rr(u(),l(!N),1)?N?0:y:W?X:H(X)}function V(N,W,ne){if(c()||Q()){var X=G(N);X!==N&&(W=N,N=X,ne=!1),N<0||N>y?!T&&(Tt(0,N,W,!0)||Tt(y,W,N,!0))?N=O(I(N)):h?N=ne?N<0?-(A%S||S):A:N:n.rewind?N=N<0?y:0:N=-1:ne&&N!==W&&(N=O(I(W)+(N<W?-1:1)))}else N=-1;return N}function G(N){if(d&&n.trimSpace==="move"&&N!==g)for(var W=u();W===s(N,!0)&&Tt(N,0,e.length-1,!n.rewind);)N<g?--N:++N;return N}function H(N){return h?(N+A)%A||0:N}function F(){for(var N=A-(Q()||h&&T?1:S);_&&N-- >0;)if(s(A-1,!0)!==s(N,!0)){N++;break}return Fe(N,0,A-1)}function O(N){return Fe(Q()?N:S*N,0,y)}function I(N){return Q()?Ne(N,y):Lt((N>=y?A-1:N)/S)}function k(N){var W=a.toIndex(N);return d?Fe(W,0,y):W}function U(N){N!==g&&(E=g,g=N)}function ee(N){return N?E:g}function Q(){return!ut(n.focus)||n.isNavigation}function Se(){return e.state.is([He,ct])&&!!n.waitForTransition}return{mount:R,go:b,scroll:w,getNext:p,getPrev:v,getAdjacent:D,getEnd:F,setIndex:U,getIndex:ee,toIndex:O,toPage:I,toDest:k,hasFocus:Q,isBusy:Se}}var to="http://www.w3.org/2000/svg",no="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",pt=40;function ro(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=r.emit,u=n.classes,l=n.i18n,s=t.Elements,f=t.Controller,c=s.arrows,m=s.track,_=c,h=s.prev,d=s.next,p,v,g={};function y(){A(),i(ie,E)}function E(){T(),y()}function A(){var w=n.arrows;w&&!(h&&d)&&x(),h&&d&&(rt(g,{prev:h,next:d}),it(_,w?"":"none"),_e(_,v=Nn+"--"+n.direction),w&&(S(),b(),$([h,d],ht,m.id),a(Ti,h,d)))}function T(){r.destroy(),ye(_,v),p?(xe(c?[h,d]:_),h=d=null):de([h,d],Tn)}function S(){i([Me,vt,Z,Ge,Pt],b),o(d,"click",q(R,">")),o(h,"click",q(R,"<"))}function R(w){f.go(w,!0)}function x(){_=c||Ue("div",u.arrows),h=P(!0),d=P(!1),p=!0,ft(_,[h,d]),!c&&gn(_,m)}function P(w){var C='<button class="'+u.arrow+" "+(w?u.prev:u.next)+'" type="button"><svg xmlns="'+to+'" viewBox="0 0 '+pt+" "+pt+'" width="'+pt+'" height="'+pt+'" focusable="false"><path d="'+(n.arrowPath||no)+'" />';return Nr(C)}function b(){if(h&&d){var w=e.index,C=f.getPrev(),D=f.getNext(),V=C>-1&&w<C?l.last:l.prev,G=D>-1&&w>D?l.first:l.next;h.disabled=C<0,d.disabled=D<0,$(h,ae,V),$(d,ae,G),a(Ni,h,d,C,D)}}return{arrows:g,mount:y,destroy:T,update:b}}var io=yn+"-interval";function oo(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=r.emit,u=Ft(n.interval,e.go.bind(e,">"),S),l=u.isPaused,s=t.Elements,f=t.Elements,c=f.root,m=f.toggle,_=n.autoplay,h,d,p=_==="pause";function v(){_&&(g(),m&&$(m,ht,s.track.id),p||y(),T())}function g(){n.pauseOnHover&&o(c,"mouseenter mouseleave",function(x){h=x.type==="mouseenter",A()}),n.pauseOnFocus&&o(c,"focusin focusout",function(x){d=x.type==="focusin",A()}),m&&o(m,"click",function(){p?y():E(!0)}),i([Ie,Sn,Z],u.rewind),i(Ie,R)}function y(){l()&&t.Slides.isEnough()&&(u.start(!n.resetProgress),d=h=p=!1,T(),a(Or))}function E(x){x===void 0&&(x=!0),p=!!x,T(),l()||(u.pause(),a(xr))}function A(){p||(h||d?E(!1):y())}function T(){m&&(pe(m,De,!p),$(m,ae,n.i18n[p?"play":"pause"]))}function S(x){var P=s.bar;P&&ce(P,"width",x*100+"%"),a(Ci,x)}function R(x){var P=t.Slides.getAt(x);u.set(P&&+le(P.slide,io)||n.interval)}return{mount:v,destroy:u.cancel,play:y,pause:E,isPaused:l}}function ao(e,t,n){var r=Y(e),i=r.on;function o(){n.cover&&(i(Dr,q(u,!0)),i([Me,ie,Z],q(a,!0)))}function a(l){t.Slides.forEach(function(s){var f=_t(s.container||s.slide,"img");f&&f.src&&u(l,f,s)})}function u(l,s,f){f.style("background",l?'center/cover no-repeat url("'+s.src+'")':"",!0),it(s,l?"none":"")}return{mount:o,destroy:q(a,!1)}}var so=10,co=600,uo=.6,lo=1.5,fo=800;function _o(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=e.state.set,u=t.Move,l=u.getPosition,s=u.getLimit,f=u.exceededLimit,c=u.translate,m=e.is(qe),_,h,d=1;function p(){i(Ie,E),i([ie,Z],A)}function v(S,R,x,P,b){var w=l();if(E(),x&&(!m||!f())){var C=t.Layout.sliderSize(),D=rn(S)*C*Lt(re(S)/C)||0;S=u.toPosition(t.Controller.toDest(S%C))+D}var V=Rr(w,S,1);d=1,R=V?0:R||Ct(re(S-w)/lo,fo),h=P,_=Ft(R,g,q(y,w,S,b),1),a(ct),o(Sn),_.start()}function g(){a(We),h&&h(),o(Ge)}function y(S,R,x,P){var b=l(),w=S+(R-S)*T(P),C=(w-b)*d;c(b+C),m&&!x&&f()&&(d*=uo,re(C)<so&&v(s(f(!0)),co,!1,h,!0))}function E(){_&&_.cancel()}function A(){_&&!_.isPaused()&&(E(),g())}function T(S){var R=n.easingFunc;return R?R(S):1-Math.pow(1-S,4)}return{mount:p,destroy:E,scroll:v,cancel:A}}var $e={passive:!1,capture:!0};function vo(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=r.bind,u=r.unbind,l=e.state,s=t.Move,f=t.Scroll,c=t.Controller,m=t.Elements.track,_=t.Media.reduce,h=t.Direction,d=h.resolve,p=h.orient,v=s.getPosition,g=s.exceededLimit,y,E,A,T,S,R=!1,x,P,b;function w(){a(m,Jt,tn,$e),a(m,Xt,tn,$e),a(m,Xr,D,$e),a(m,"click",H,{capture:!0}),a(m,"dragstart",he),i([Me,ie],C)}function C(){var L=n.drag;Ln(!L),T=L==="free"}function D(L){if(x=!1,!P){var K=te(L);X(L.target)&&(K||!L.button)&&(c.isBusy()?he(L,!0):(b=K?m:window,S=l.is([He,ct]),A=null,a(b,Jt,V,$e),a(b,Xt,G,$e),s.cancel(),f.cancel(),F(L)))}}function V(L){if(l.is(bt)||(l.set(bt),o(wi)),L.cancelable)if(S){s.translate(y+ne(Q(L)));var K=Se(L)>nr,Le=R!==(R=g());(K||Le)&&F(L),x=!0,o(Si),he(L)}else k(L)&&(S=I(L),he(L))}function G(L){l.is(bt)&&(l.set(We),o(bi)),S&&(O(L),he(L)),u(b,Jt,V),u(b,Xt,G),S=!1}function H(L){!P&&x&&he(L,!0)}function F(L){A=E,E=L,y=v()}function O(L){var K=U(L),Le=ee(K),Ye=n.rewind&&n.rewindByDrag;_(!1),T?c.scroll(Le,0,n.snap):e.is(mt)?c.go(p(rn(K))<0?Ye?"<":"-":Ye?">":"+"):e.is(qe)&&R&&Ye?c.go(g(!0)?">":"<"):c.go(c.toDest(Le),!0),_(!0)}function I(L){var K=n.dragMinThreshold,Le=et(K),Ye=Le&&K.mouse||0,Qr=(Le?K.touch:+K)||10;return re(Q(L))>(te(L)?Qr:Ye)}function k(L){return re(Q(L))>re(Q(L,!0))}function U(L){if(e.is(Ke)||!R){var K=Se(L);if(K&&K<nr)return Q(L)/K}return 0}function ee(L){return v()+rn(L)*Ne(re(L)*(n.flickPower||600),T?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}function Q(L,K){return W(L,K)-W(N(L),K)}function Se(L){return nn(L)-nn(N(L))}function N(L){return E===L&&A||E}function W(L,K){return(te(L)?L.changedTouches[0]:L)["page"+d(K?"Y":"X")]}function ne(L){return L/(R&&e.is(qe)?Gi:1)}function X(L){var K=n.noDrag;return!tt(L,"."+Hr+", ."+Wt)&&(!K||!tt(L,K))}function te(L){return typeof TouchEvent<"u"&&L instanceof TouchEvent}function Zr(){return S}function Ln(L){P=L}return{mount:w,disable:Ln,isDragging:Zr}}var ho={Spacebar:" ",Right:Ut,Left:Vt,Up:$r,Down:Vr};function In(e){return e=Te(e)?e:e.key,ho[e]||e}var rr="keydown";function mo(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=r.unbind,u=e.root,l=t.Direction.resolve,s,f;function c(){m(),i(ie,_),i(ie,m),i(Ie,d)}function m(){var v=n.keyboard;v&&(s=v==="global"?window:u,o(s,rr,p))}function _(){a(s,rr)}function h(v){f=v}function d(){var v=f;f=!0,wr(function(){f=v})}function p(v){if(!f){var g=In(v);g===l(Vt)?e.go("<"):g===l(Ut)&&e.go(">")}}return{mount:c,destroy:_,disable:h}}var Xe=yn+"-lazy",Nt=Xe+"-srcset",go="["+Xe+"], ["+Nt+"]";function po(e,t,n){var r=Y(e),i=r.on,o=r.off,a=r.bind,u=r.emit,l=n.lazyLoad==="sequential",s=[vt,Ge],f=[];function c(){n.lazyLoad&&(m(),i(Z,m))}function m(){we(f),_(),l?v():(o(s),i(s,h),h())}function _(){t.Slides.forEach(function(g){pn(g.slide,go).forEach(function(y){var E=le(y,Xe),A=le(y,Nt);if(E!==y.src||A!==y.srcset){var T=n.classes.spinner,S=y.parentElement,R=_t(S,"."+T)||Ue("span",T,S);f.push([y,g,R]),y.src||it(y,"none")}})})}function h(){f=f.filter(function(g){var y=n.perPage*((n.preloadPages||1)+1)-1;return g[1].isWithin(e.index,y)?d(g):!0}),f.length||o(s)}function d(g){var y=g[0];_e(g[1].slide,sn),a(y,"load error",q(p,g)),$(y,"src",le(y,Xe)),$(y,"srcset",le(y,Nt)),de(y,Xe),de(y,Nt)}function p(g,y){var E=g[0],A=g[1];ye(A.slide,sn),y.type!=="error"&&(xe(g[2]),it(E,""),u(Dr,E,A),u(at)),l&&v()}function v(){f.length&&d(f.shift())}return{mount:c,destroy:q(we,f),check:h}}function yo(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=r.bind,u=t.Slides,l=t.Elements,s=t.Controller,f=s.hasFocus,c=s.getIndex,m=s.go,_=t.Direction.resolve,h=l.pagination,d=[],p,v;function g(){y(),i([ie,Z,Pt],g);var P=n.pagination;h&&it(h,P?"":"none"),P&&(i([Ie,Sn,Ge],x),E(),x(),o(Ii,{list:p,items:d},R(e.index)))}function y(){p&&(xe(h?Re(p.children):p),ye(p,v),we(d),p=null),r.destroy()}function E(){var P=e.length,b=n.classes,w=n.i18n,C=n.perPage,D=f()?s.getEnd()+1:ot(P/C);p=h||Ue("ul",b.pagination,l.track.parentElement),_e(p,v=qt+"--"+S()),$(p,Ee,"tablist"),$(p,ae,w.select),$(p,An,S()===Bt?"vertical":"");for(var V=0;V<D;V++){var G=Ue("li",null,p),H=Ue("button",{class:b.page,type:"button"},G),F=u.getIn(V).map(function(I){return I.slide.id}),O=!f()&&C>1?w.pageX:w.slideX;a(H,"click",q(A,V)),n.paginationKeyboard&&a(H,"keydown",q(T,V)),$(G,Ee,"presentation"),$(H,Ee,"tab"),$(H,ht,F.join(" ")),$(H,ae,on(O,V+1)),$(H,Be,-1),d.push({li:G,button:H,page:V})}}function A(P){m(">"+P,!0)}function T(P,b){var w=d.length,C=In(b),D=S(),V=-1;C===_(Ut,!1,D)?V=++P%w:C===_(Vt,!1,D)?V=(--P+w)%w:C==="Home"?V=0:C==="End"&&(V=w-1);var G=d[V];G&&(Tr(G.button),m(">"+V),he(b,!0))}function S(){return n.paginationDirection||n.direction}function R(P){return d[s.toPage(P)]}function x(){var P=R(c(!0)),b=R(c());if(P){var w=P.button;ye(w,De),de(w,jn),$(w,Be,-1)}if(b){var C=b.button;_e(C,De),$(C,jn,!0),$(C,Be,"")}o(Ri,{list:p,items:d},P,b)}return{items:d,mount:g,destroy:y,getAt:R,update:x}}var Eo=[" ","Enter"];function wo(e,t,n){var r=n.isNavigation,i=n.slideFocus,o=[];function a(){e.splides.forEach(function(h){h.isParent||(s(e,h.splide),s(h.splide,e))}),r&&f()}function u(){o.forEach(function(h){h.destroy()}),we(o)}function l(){u(),a()}function s(h,d){var p=Y(h);p.on(Ie,function(v,g,y){d.go(d.is(Ke)?y:v)}),o.push(p)}function f(){var h=Y(e),d=h.on;d(Lr,m),d(Mr,_),d([Me,ie],c),o.push(h),h.emit(kr,e.splides)}function c(){$(t.Elements.list,An,n.direction===Bt?"vertical":"")}function m(h){e.go(h.index)}function _(h,d){mn(Eo,In(d))&&(m(h),he(d))}return{setup:q(t.Media.set,{slideFocus:ut(i)?r:i},!0),mount:a,destroy:u,remount:l}}function So(e,t,n){var r=Y(e),i=r.bind,o=0;function a(){n.wheel&&i(t.Elements.track,"wheel",u,$e)}function u(s){if(s.cancelable){var f=s.deltaY,c=f<0,m=nn(s),_=n.wheelMinThreshold||0,h=n.wheelSleep||0;re(f)>_&&m-o>h&&(e.go(c?"<":">"),o=m),l(c)&&he(s)}}function l(s){return!n.releaseWheel||e.state.is(He)||t.Controller.getAdjacent(s)!==-1}return{mount:a}}var bo=90;function Ao(e,t,n){var r=Y(e),i=r.on,o=t.Elements.track,a=n.live&&!n.isNavigation,u=Ue("span",Bi),l=Ft(bo,q(f,!1));function s(){a&&(m(!t.Autoplay.isPaused()),$(o,er,!0),u.textContent="…",i(Or,q(m,!0)),i(xr,q(m,!1)),i([vt,Ge],q(f,!0)))}function f(_){$(o,Qn,_),_?(ft(o,u),l.start()):(xe(u),l.cancel())}function c(){de(o,[Zn,er,Qn]),xe(u)}function m(_){a&&$(o,Zn,_?"off":"polite")}return{mount:s,disable:m,destroy:c}}var To=Object.freeze({__proto__:null,Media:ki,Direction:Oi,Elements:Ki,Slides:Ji,Layout:Xi,Clones:Zi,Move:Qi,Controller:eo,Arrows:ro,Autoplay:oo,Cover:ao,Scroll:_o,Drag:vo,Keyboard:mo,LazyLoad:po,Pagination:yo,Sync:wo,Wheel:So,Live:Ao}),No={prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},Io={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:qi,i18n:No,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Ro(e,t,n){var r=t.Slides;function i(){Y(e).on([Me,Z],o)}function o(){r.forEach(function(u){u.style("transform","translateX(-"+100*u.index+"%)")})}function a(u,l){r.style("transition","opacity "+n.speed+"ms "+n.easing),wr(l)}return{mount:i,start:a,cancel:tn}}function Co(e,t,n){var r=t.Move,i=t.Controller,o=t.Scroll,a=t.Elements.list,u=q(ce,a,"transition"),l;function s(){Y(e).bind(a,"transitionend",function(_){_.target===a&&l&&(c(),l())})}function f(_,h){var d=r.toPosition(_,!0),p=r.getPosition(),v=m(_);re(d-p)>=1&&v>=1?n.useScroll?o.scroll(d,v,!1,h):(u("transform "+v+"ms "+n.easing),r.translate(d,!0),l=h):(r.jump(_),h())}function c(){u(""),o.cancel()}function m(_){var h=n.rewindSpeed;if(e.is(qe)&&h){var d=i.getIndex(!0),p=i.getEnd();if(d===0&&_>=p||d>=p&&_===0)return h}return n.speed}return{mount:s,start:f,cancel:c}}var Lo=(function(){function e(n,r){this.event=Y(),this.Components={},this.state=Li(Ve),this.splides=[],this._o={},this._E={};var i=Te(n)?Ir(document,n):n;Je(i,i+" is invalid."),this.root=i,r=Ae({label:le(i,ae)||"",labelledby:le(i,bn)||""},Io,e.defaults,r||{});try{Ae(r,JSON.parse(le(i,yn)))}catch{Je(!1,"Invalid JSON")}this._o=Object.create(Ae({},r))}var t=e.prototype;return t.mount=function(r,i){var o=this,a=this.state,u=this.Components;Je(a.is([Ve,Rt]),"Already mounted!"),a.set(Ve),this._C=u,this._T=i||this._T||(this.is(mt)?Ro:Co),this._E=r||this._E;var l=rt({},To,this._E,{Transition:this._T});return Oe(l,function(s,f){var c=s(o,u,o._o);u[f]=c,c.setup&&c.setup()}),Oe(u,function(s){s.mount&&s.mount()}),this.emit(Me),_e(this.root,zi),a.set(We),this.emit(Jn),this},t.sync=function(r){return this.splides.push({splide:r}),r.splides.push({splide:this,isParent:!0}),this.state.is(We)&&(this._C.Sync.remount(),r.Components.Sync.remount()),this},t.go=function(r){return this._C.Controller.go(r),this},t.on=function(r,i){return this.event.on(r,i),this},t.off=function(r){return this.event.off(r),this},t.emit=function(r){var i;return(i=this.event).emit.apply(i,[r].concat(Re(arguments,1))),this},t.add=function(r,i){return this._C.Slides.add(r,i),this},t.remove=function(r){return this._C.Slides.remove(r),this},t.is=function(r){return this._o.type===r},t.refresh=function(){return this.emit(Z),this},t.destroy=function(r){r===void 0&&(r=!0);var i=this.event,o=this.state;return o.is(Ve)?Y(this).on(Jn,this.destroy.bind(this,r)):(Oe(this._C,function(a){a.destroy&&a.destroy(r)},!0),i.emit(Pr),i.destroy(),r&&we(this.splides),o.set(Rt)),this},di(e,[{key:"options",get:function(){return this._o},set:function(r){this._C.Media.set(r,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}]),e})(),Rn=Lo;Rn.defaults={};Rn.STATES=hi;function ir(e,t){const n=t==="JPY"||t==="KRW";let i=new Intl.NumberFormat(void 0,{style:"currency",currency:t,minimumFractionDigits:n?0:2,maximumFractionDigits:n?0:2}).format(e);return t==="INR"&&(i=i.replace("₹","Rs. ")),i}const Po="_phoenixCarousel_euwwi_2",ko="_productCard_euwwi_126",Oo="_imageSection_euwwi_145",xo="_productImage_euwwi_150",Do="_discountBadge_euwwi_169",Mo="_contentSection_euwwi_184",Fo="_productTitle_euwwi_192",$o="_priceSection_euwwi_206",Vo="_priceGroup_euwwi_213",Uo="_currentPrice_euwwi_221",Bo="_originalPrice_euwwi_228",zo="_discountPercent_euwwi_235",Wo="_qtyGroup_euwwi_244",qo="_qtyLabel_euwwi_252",Ho="_qtyControls_euwwi_260",Go="_qtyBtn_euwwi_268",Ko="_qtyValue_euwwi_292",Yo="_variantsRow_euwwi_306",Jo="_variantSelect_euwwi_311",Xo="_addToCartBtn_euwwi_336",jo="_disabled_euwwi_356",Zo="_loading_euwwi_361",Qo="_spinner_euwwi_366",B={phoenixCarousel:Po,productCard:ko,imageSection:Oo,productImage:xo,discountBadge:Do,contentSection:Mo,productTitle:Fo,priceSection:$o,priceGroup:Vo,currentPrice:Uo,originalPrice:Bo,discountPercent:zo,qtyGroup:Wo,qtyLabel:qo,qtyControls:Ho,qtyBtn:Go,qtyValue:Ko,variantsRow:Yo,variantSelect:Jo,addToCartBtn:Xo,disabled:jo,loading:Zo,spinner:Qo},ea=({product:e,position:t,currency:n,onClick:r,onAddToCart:i})=>{const[o,a]=ue(1),[u,l]=ue(e.image),[s,f]=ue(!1),[c,m]=ue(()=>{if(e.options?.length&&e.variants.length){const v=e.variants.find(y=>y.available)||e.variants[0],g={};return e.options.forEach((y,E)=>{const A=`option${E+1}`,T=v[A];T&&(g[y.name]=String(T))}),g}return{}}),_=Dt(()=>e.options?.length?e.variants?.find(v=>e.options.every((g,y)=>{const E=`option${y+1}`;return String(v[E])===c[g.name]})):e.variants?.[0],[e.variants,e.options,c]);be(()=>{_?.image&&l(_.image)},[_]);const h=(v,g)=>{m(y=>({...y,[v]:g}))},d=async()=>{if(!(!_||s)){f(!0);try{await i(e.id,_.variant_id,t)}finally{f(!1)}}},p=_?.compare_at_price&&_.compare_at_price>(_.price||e.price);return M("article",{className:B.productCard,"data-product-id":e.id,children:[M("div",{className:B.imageSection,children:M("div",{className:B.productImage,onClick:()=>r(e.id,t,e.url),role:"button",tabIndex:0,children:[M("img",{src:u,alt:e.title,loading:"lazy"}),p&&M("span",{className:B.discountBadge,children:[Math.round((_.compare_at_price-(_.price||e.price))/_.compare_at_price*100),"% OFF"]})]})}),M("div",{className:B.contentSection,children:[M("h3",{className:B.productTitle,children:e.title}),M("div",{className:B.priceSection,children:[M("div",{className:B.priceGroup,children:[M("span",{className:B.currentPrice,children:ir(_?.price??e.price,n)}),p&&M("span",{className:B.originalPrice,children:ir(_.compare_at_price,n)}),p&&M("span",{className:B.discountPercent,children:[Math.round((_.compare_at_price-(_.price||e.price))/_.compare_at_price*100),"% off"]})]}),M("div",{className:B.qtyGroup,children:[M("span",{className:B.qtyLabel,children:"Qty"}),M("div",{className:B.qtyControls,children:[M("button",{className:B.qtyBtn,onClick:()=>a(Math.max(1,o-1)),disabled:o<=1,children:"−"}),M("span",{className:B.qtyValue,children:o}),M("button",{className:B.qtyBtn,onClick:()=>a(o+1),children:"+"})]})]})]}),e.options?.length?M("div",{className:B.variantsRow,children:e.options.map(v=>M("select",{className:B.variantSelect,value:c[v.name]||"",onChange:g=>h(v.name,g.currentTarget.value),children:v.values.map(g=>M("option",{value:g,children:g},g))},v.name))}):null,M("button",{className:`${B.addToCartBtn} ${s?B.loading:""} ${_?.available?"":B.disabled}`,disabled:!_?.available||s,onClick:d,children:s?M("span",{className:B.spinner}):_?.available?"Add to Cart":"Out of Stock"})]})]})},Ht="https://nonconscientious-annette-saddeningly.ngrok-free.dev";class Cn{constructor(t={}){this.levels={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},this.logBuffer=[],this.batchTimeout=null,this.trace=this.createLogMethod("trace",this.levels.trace),this.debug=this.createLogMethod("debug",this.levels.debug),this.info=this.createLogMethod("info",this.levels.info),this.warn=this.createLogMethod("warn",this.levels.warn),this.error=this.createLogMethod("error",this.levels.error),this.fatal=this.createLogMethod("fatal",this.levels.fatal),this.currentLevel=this.levels[t.level||"info"],this.base={service:"phoenix-extension",env:"development",...t.base},this.batchSize=t.batchSize||5,this.interval=t.interval||3e3}createLogMethod(t,n){return(r,i,...o)=>{if(n<this.currentLevel)return;const a=new Date().toISOString(),u={level:n,time:a,...this.base,...typeof r=="object"&&r!==null?r:{},msg:i||(typeof r=="string"?r:""),...o.length>0?{args:o}:{}};this.sendToBackend(u)}}async sendToBackend(t){this.logBuffer.push(t),this.logBuffer.length>=this.batchSize?await this.flushLogs():this.batchTimeout||(this.batchTimeout=setTimeout(()=>{this.flushLogs(),this.batchTimeout=null},this.interval))}async flushLogs(){if(this.logBuffer.length===0)return;const n=`${Ht}/logs`;await fetch(n,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({logs:this.logBuffer,source:"phoenix-extension",timestamp:new Date().toISOString()})}),this.logBuffer=[]}child(t){return new Cn({level:"info",base:{...this.base,...t},batchSize:this.batchSize,interval:this.interval})}async flush(){this.batchTimeout&&(clearTimeout(this.batchTimeout),this.batchTimeout=null),await this.flushLogs()}}const me=new Cn({level:"info",base:{service:"phoenix-extension",env:"development"},batchSize:5,interval:3e3});class ta{constructor(){this.makeAuthenticatedRequest=null,this.baseUrl=Ht,this.logger=me}setJWT(t){this.makeAuthenticatedRequest=t}async getRecommendations(t){try{if(!this.makeAuthenticatedRequest)throw new Error("JWT authentication not initialized");const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/v1/recommendations`,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw n.status===403?new Error("Services suspended"):(this.logger.error({error:new Error(`HTTP error! status: ${n.status}`),shop_domain:t.shop_domain},"Failed to fetch recommendations"),new Error(`HTTP error! status: ${n.status}`));return await n.json()}catch(n){throw this.logger.error({error:n instanceof Error?n.message:String(n),shop_domain:t.shop_domain},"Failed to fetch recommendations"),n}}}const or=new ta;class na{constructor(){this.makeAuthenticatedRequest=null,this.baseUrl=Ht,this.logger=me}setJWT(t){this.makeAuthenticatedRequest=t}getCurrentSessionId(){return null}async getOrCreateSession(t,n){try{if(!this.makeAuthenticatedRequest)throw new Error("JWT authentication not initialized");const r=`${this.baseUrl}/api/phoenix/get-or-create-session`,i={shop_domain:t,customer_id:n,user_agent:navigator.userAgent,ip_address:void 0,referrer:void 0},o=await this.makeAuthenticatedRequest(r,{method:"POST",body:JSON.stringify(i),keepalive:!0});if(!o.ok)throw o.status===403?new Error("Services suspended"):new Error(`Session creation failed: ${o.status}`);const a=await o.json();if(a.success&&a.data&&a.data.session_id)return a.data.session_id;throw this.logger.error({message:a.message,shop_domain:t},"Failed to create session"),new Error(a.message||"Failed to create session")}catch(r){throw this.logger.error({error:r instanceof Error?r.message:String(r),shop_domain:t},"Session creation error"),r}}async trackUnifiedInteraction(t){try{if(!this.makeAuthenticatedRequest)return{success:!1};const n=`${this.baseUrl}/api/phoenix/track-interaction`,r=await this.makeAuthenticatedRequest(n,{method:"POST",body:JSON.stringify(t),keepalive:!0});if(!r.ok)throw new Error(`Interaction tracking failed: ${r.status}`);const i=await r.json();if(i.success)return{success:!0,sessionRecovery:i.session_recovery||null};throw this.logger.error({message:i.message,shop_domain:t.shop_domain},"Failed to track interaction"),new Error(i.message||"Failed to track interaction")}catch(n){return this.logger.error({error:n instanceof Error?n.message:String(n),shop_domain:t.shop_domain},"Interaction tracking error"),{success:!1}}}buildRecommendationMetadata(t){const{extensionType:n,source:r="phoenix_theme_extension",cartProductCount:i,recommendationCount:o,recommendations:a,widget:u="phoenix_recommendation",algorithm:l="phoenix_algorithm",extra:s={}}=t;return{source:r,cart_product_count:i??s.cart_product_count??0,recommendation_count:o,extension_type:n,data:{recommendations:a.map(f=>({id:String(f.id),position:f.position})),type:"recommendation",widget:s.widget??u,algorithm:s.algorithm??l},...s}}async trackRecommendationView(t,n,r,i,o,a){try{const u=(o||[]).map((s,f)=>({id:s,position:f+1})),l={session_id:r,shop_domain:t,context:n,interaction_type:"recommendation_viewed",customer_id:i,page_url:null,referrer:null,metadata:this.buildRecommendationMetadata({extensionType:"phoenix",recommendationCount:u.length,recommendations:u,cartProductCount:a?.cart_product_count,extra:a})};return await this.trackUnifiedInteraction(l)}catch(u){return this.logger.error({error:u instanceof Error?u.message:String(u),shop_domain:t},"Failed to track recommendation view"),{success:!1}}}async trackRecommendationClick(t,n,r,i,o,a,u){try{const l={session_id:o,shop_domain:t,context:n,interaction_type:"recommendation_clicked",customer_id:a,product_id:r,page_url:null,referrer:null,metadata:{source:u?.source||"phoenix_recommendation",cart_product_count:u?.cart_product_count??0,recommendation_count:1,extension_type:"phoenix",data:{product:{id:r},position:i,type:"recommendation",widget:u?.widget||"phoenix_recommendation",algorithm:u?.algorithm||"phoenix_algorithm"},...u}};return await this.trackUnifiedInteraction(l)}catch(l){return this.logger.error({error:l instanceof Error?l.message:String(l),shop_domain:t},"Failed to track recommendation click"),{success:!1}}}}const yt=new na;function ra(e,t){const[n,r]=ue(null),[i,o]=ue(!1),a="betterbundle_jwt_token",u="betterbundle_jwt_expiry",l="betterbundle_shop_domain",s=d=>{if(!d||!d.expiresIn)return!1;const p=Date.now()/1e3;return d.expiresIn-p>60},f=async()=>{try{const d=localStorage.getItem(a),p=localStorage.getItem(l);return!d||!p?null:{token:d,expiresIn:parseInt(localStorage.getItem(u)||"0"),shopDomain:p,shopStatus:"unknown",permissions:[]}}catch{return null}},c=async d=>{try{localStorage.setItem(a,d.token);const p=Math.floor(Date.now()/1e3)+d.expiresIn;localStorage.setItem(u,p.toString()),localStorage.setItem(l,d.shopDomain)}catch{}},m=async(d,p)=>{const v={};if(d)v.shop_domain=d;else if(p)v.customer_id=p;else throw new Error("Either shopDomain or customerId must be provided");const g=await fetch(`${Ht}/api/v1/auth/shop-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(v)});if(!g.ok)throw new Error(`Token generation failed: ${g.status}`);const y=await g.json();return{token:y.token,expiresIn:y.expires_in,shopDomain:y.shop_domain,shopStatus:y.shop_status,permissions:y.permissions}},_=ui(async(d,p)=>{try{const v=await f();if(v&&v.token&&s(v)&&(!d||v.shopDomain===d))return v.token;const g=await m(d,p);return await c(g),g.token}catch(v){return me.error({error:v instanceof Error?v.message:String(v),shop_domain:d,customer_id:p},"Failed to get JWT token"),null}},[]),h=async(d,p={})=>n?fetch(d,{...p,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...p.headers}}):new Response(JSON.stringify({error:"No token available"}),{status:401});return be(()=>{(async()=>{if(!(!e&&!t))try{const p=await _(e,t);p?(r(p),o(!0)):o(!1)}catch(p){me.error({error:p instanceof Error?p.message:String(p),shop_domain:e,customer_id:t},"Failed to initialize JWT"),o(!1)}})()},[e,t,_]),{token:n,isReady:i,makeAuthenticatedRequest:h}}const ia=()=>window.Shopify?.designMode||!1,jr=(e,t)=>{try{const n=parseFloat(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:t==="JPY"||t==="KRW"?0:2,maximumFractionDigits:t==="JPY"||t==="KRW"?0:2}).format(n)}catch{return`${{USD:"$",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$",JPY:"¥",INR:"₹",KRW:"₩",BRL:"R$",MXN:"$"}[t]||t}${e}`}},oa=(e,t="USD")=>Array.from({length:e},(n,r)=>{const i=29.99+r*10,o=`https://via.placeholder.com/300x300/4a90e2/ffffff?text=Product+${r+1}`;return{id:`dummy-${r}`,title:`Sample Product ${r+1}`,handle:`sample-product-${r+1}`,price:jr(String(i),t),image:{url:o,alt_text:`Sample Product ${r+1}`},images:[{url:o,alt_text:`Sample Product ${r+1}`,position:0},{url:`https://via.placeholder.com/300x300/ff6b6b/ffffff?text=Alt+${r+1}`,alt_text:`Alternative view ${r+1}`,position:1}],inStock:!0,url:"#",variant_id:`var-${r}-1`}});function aa({context:e,limit:t,customerId:n,shopDomain:r,currency:i="USD"}){const{makeAuthenticatedRequest:o,isReady:a}=ra(r,n),[u,l]=ue(!1),[s,f]=ue(null),[c,m]=ue(null),[_,h]=ue(null),[d,p]=ue(!1);be(()=>{const y=ia();if(p(y),y){f(oa(t,i)),l(!1);return}},[t,i]),be(()=>{a&&o&&(or.setJWT(o),yt.setJWT(o))},[a,o]),be(()=>{if(d)return;a&&(async()=>{try{const E=sessionStorage.getItem("unified_session_id");if(E){h(E);return}const A=await yt.getOrCreateSession(r,n);sessionStorage.setItem("unified_session_id",A),h(A)}catch(E){me.error({error:E instanceof Error?E.message:String(E),shop_domain:r},"Failed to initialize session"),m("Failed to initialize session")}})()},[r,n,a,d]);const v=async(y,E,A)=>{if(d)return A;try{const T=await yt.trackRecommendationClick(r,e,y,E,_,n,{source:`${e}_recommendation`});T.success&&T.sessionRecovery&&(sessionStorage.setItem("unified_session_id",T.sessionRecovery.new_session_id),h(T.sessionRecovery.new_session_id))}catch(T){me.error({error:T instanceof Error?T.message:String(T),shop_domain:r},"Failed to track recommendation click")}return A},g=async()=>{if(!(d||!s||s.length===0))try{const y=s.map(A=>A.id),E=await yt.trackRecommendationView(r,e,_,n,y,{source:`${e}_page`});E.success&&E.sessionRecovery&&(sessionStorage.setItem("unified_session_id",E.sessionRecovery.new_session_id),h(E.sessionRecovery.new_session_id))}catch(y){me.error({error:y instanceof Error?y.message:String(y),shop_domain:r},"Failed to track recommendation view")}};return be(()=>{if(d)return;if(!_||!a){me.error({shop_domain:r},"Waiting for session and JWT initialization");return}(async()=>{try{l(!0),m(null);const E=await or.getRecommendations({context:e,limit:t,user_id:n,session_id:_,...r&&{shop_domain:r}});if(E.success&&E.recommendations){const A=E.recommendations.map(T=>({id:T.id,title:T.title,handle:T.handle,price:jr(T.price.amount,T.price.currency_code),image:T.image,images:T.images||[],inStock:T.available??!0,url:T.url||(r?`https://${r}/products/${T.handle}`:T.handle),variants:T.variants||[],options:T.options||[]}));f(A)}else throw new Error(`Failed to fetch ${e} recommendations`)}catch(E){me.error({error:E instanceof Error?E.message:String(E),shop_domain:r},"Failed to fetch recommendations"),m("Failed to load recommendations")}finally{l(!1)}})()},[n,e,t,_,r,a,d]),{loading:u,products:s,error:c,isDesignMode:d,trackRecommendationClick:v,trackRecommendationView:g}}const sa=({productIds:e,customerId:t,shopDomain:n,limit:r,context:i,enableAutoplay:o,autoplayDelay:a,showArrows:u,showPagination:l,currency:s})=>{const f=zn(null),c=zn(null),{products:m,error:_,isDesignMode:h,trackRecommendationClick:d,trackRecommendationView:p}=aa({context:i,limit:r,customerId:t||"",shopDomain:n,currency:s}),v=Dt(()=>m?m.map(E=>{const A=E.price.match(/[\d.]+/),T=A?parseFloat(A[0]):0,S=E,R=S.options||[],P=(S.variants||[]).map(w=>{const C=w.title?.split(" / ")||[],D={};return R.forEach((V,G)=>{const H=`option${G+1}`;D[H]=C[G]||""}),{variant_id:w.variant_id||w.variantId,title:w.title||"",price:typeof w.price=="number"?w.price:parseFloat(String(w.price||"0")),compare_at_price:w.compare_at_price??null,available:(w.inventory??0)>0,inventory:w.inventory??null,option1:D.option1||null,option2:D.option2||null,option3:D.option3||null,image:w.image||null}}),b=R.map(w=>({name:w.name||"",values:w.values||[]}));return{id:E.id,title:E.title,image:E.image?.url||"",url:E.url||"#",price:T,compare_at_price:P[0]?.compare_at_price??null,currency:s,variants:P,options:b.length>0?b:void 0,images:E.images?.map(w=>w.url)||[]}}):null,[m,s]);be(()=>{v&&v.length>0&&!h&&p()},[v,h,p]),be(()=>{if(!v?.length||!f.current||c.current)return;const E=l&&v.length>4;return c.current=new Rn(f.current,{type:v.length>4?"loop":"slide",perPage:4,perMove:1,gap:"1rem",arrows:u,pagination:E,autoplay:o,interval:a,pauseOnHover:!0,pauseOnFocus:!0,arrowPath:"M15.5 0.932L11.2 5.312 12.612 6.724 20.68 -1.344 12.612 -9.412 11.2 -8 15.5 -3.62 0 -3.62 0 -1.38 15.5 0.932Z",breakpoints:{1200:{perPage:3,pagination:l&&v.length>3},768:{perPage:2,pagination:l&&v.length>2},480:{perPage:1,pagination:l&&v.length>1}},lazyLoad:"nearby",preloadPages:1}),c.current.mount(),()=>{c.current&&(c.current.destroy(),c.current=null)}},[v,u,l,o,a]);const g=async(E,A,T)=>{if(h)return;const S=await d(String(E),A,T);window.location.href=S},y=async(E,A,T)=>{if(h){alert("Add to cart works in live preview only");return}try{const S=window.Shopify;if(S?.analytics?.addToCart){const R={_bb_rec_product_id:String(E),_bb_rec_extension:"phoenix",_bb_rec_context:i,_bb_rec_position:String(T),_bb_rec_timestamp:new Date().toISOString(),_bb_rec_source:"betterbundle"};await S.analytics.addToCart(A,1,R),window.location.reload()}else{const R=v?.find(x=>x.id===E);R&&(window.location.href=R.url)}}catch{}};return _?M("div",{className:B.phoenixCarousel,children:M("div",{className:B.error,children:["Failed to load recommendations: ",_]})}):v?v.length===0?null:M("div",{className:B.phoenixCarousel,children:M("div",{ref:f,className:"splide",children:M("div",{className:"splide__track",children:M("ul",{className:"splide__list",children:v.map((E,A)=>M("li",{className:"splide__slide",children:M(ea,{product:E,position:A+1,currency:s,onClick:g,onAddToCart:y})},String(E.id)))})})})}):M("div",{className:B.phoenixCarousel,children:M("div",{className:B.loading,children:"Loading recommendations..."})})},ca=({type:e,settings:t,shopify:n})=>{const r=t,i=n;return e==="product-carousel"?M("div",{className:"phoenix-extension",children:M(sa,{productIds:r.product_ids||(i.productId?[i.productId]:[]),customerId:i.customerId,shopDomain:String(i.shop||""),limit:Number(r.limit??6),context:r.context||"product_page",enableAutoplay:!!r.enable_autoplay,autoplayDelay:Number(r.autoplay_delay??2500),showArrows:!!r.show_arrows,showPagination:!!r.show_pagination,currency:String(r.currency||"USD")})}):e==="test-component"?M("div",{style:{padding:"20px",backgroundColor:String(r.background_color||"#f0f0f0"),color:String(r.primary_color||"#333"),borderRadius:"8px",border:"2px solid #007acc"},children:[M("h3",{children:String(r.title||"Phoenix Test Component")}),M("p",{children:["Preact is working with hot reload! Updated"," ",new Date().toLocaleTimeString()]}),M("p",{children:["Product ID: ",String(i.productId||"None")]}),M("div",{style:{fontSize:"12px",marginTop:"10px"},children:[M("strong",{children:"Settings:"})," ",JSON.stringify(r,null,2)]})]}):M("div",{className:"phoenix-component-error",children:[M("h3",{children:['Component "',e,'" not found']}),M("p",{children:"Available: product-carousel, test-component"})]})},ar=()=>{const e=document.querySelectorAll("[data-phoenix-component]");return e.length===0?!1:(e.forEach((t,n)=>{try{const r=t.getAttribute("data-phoenix-component"),i=t.getAttribute("data-phoenix-props");if(!r)return;const o=i?JSON.parse(i):{},a={productId:t.getAttribute("data-product-id"),collectionId:t.getAttribute("data-collection-id"),customerId:window.meta?.customer?.id,shop:window.Shopify?.shop};t&&t.nodeType===Node.ELEMENT_NODE&&ai(M(ca,{type:r,settings:o,shopify:a}),t)}catch{}}),!0)},cn=()=>{ar()||setTimeout(()=>{ar()},100)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",cn):(document.readyState==="interactive"||document.readyState==="complete")&&cn();window.addEventListener("load",()=>{const e=document.querySelectorAll("[data-phoenix-component]");e.length>0&&Array.from(e).filter(n=>!n.querySelector(".phoenix-extension, .phoenix-component-error")).length>0&&cn()});
