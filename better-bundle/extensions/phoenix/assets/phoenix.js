var xt,W,sr,ke,kn,cr,ur,lr,ln,jt,Zt,je={},fr=[],ei=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Dt=Array.isArray;function ge(e,t){for(var n in t)e[n]=t[n];return e}function fn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ti(e,t,n){var r,o,i,a={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:a[i]=t[i];if(arguments.length>2&&(a.children=arguments.length>3?xt.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)a[i]===void 0&&(a[i]=e.defaultProps[i]);return St(e,a,r,o,null)}function St(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:o??++sr,__i:-1,__u:0};return o==null&&W.vnode!=null&&W.vnode(i),i}function Ot(e){return e.children}function bt(e,t){this.props=e,this.context=t}function ze(e,t){if(t==null)return e.__?ze(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?ze(e):null}function _r(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return _r(e)}}function xn(e){(!e.__d&&(e.__d=!0)&&ke.push(e)&&!Ct.__r++||kn!=W.debounceRendering)&&((kn=W.debounceRendering)||cr)(Ct)}function Ct(){for(var e,t,n,r,o,i,a,c=1;ke.length;)ke.length>c&&ke.sort(ur),e=ke.shift(),c=ke.length,e.__d&&(n=void 0,r=void 0,o=(r=(t=e).__v).__e,i=[],a=[],t.__P&&((n=ge({},r)).__v=r.__v+1,W.vnode&&W.vnode(n),_n(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,i,o??ze(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,hr(i,n,a),r.__e=r.__=null,n.__e!=o&&_r(n)));Ct.__r=0}function dr(e,t,n,r,o,i,a,c,l,u,f){var s,h,d,v,_,g,m,y=r&&r.__k||fr,p=t.length;for(l=ni(n,t,y,l,p),s=0;s<p;s++)(d=n.__k[s])!=null&&(h=d.__i==-1?je:y[d.__i]||je,d.__i=s,g=_n(e,d,h,o,i,a,c,l,u,f),v=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&dn(h.ref,null,d),f.push(d.ref,d.__c||v,d)),_==null&&v!=null&&(_=v),(m=!!(4&d.__u))||h.__k===d.__k?l=vr(d,l,e,m):typeof d.type=="function"&&g!==void 0?l=g:v&&(l=v.nextSibling),d.__u&=-7);return n.__e=_,l}function ni(e,t,n,r,o){var i,a,c,l,u,f=n.length,s=f,h=0;for(e.__k=new Array(o),i=0;i<o;i++)(a=t[i])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=i+h,(a=e.__k[i]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?St(null,a,null,null,null):Dt(a)?St(Ot,{children:a},null,null,null):a.constructor==null&&a.__b>0?St(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,c=null,(u=a.__i=ri(a,n,l,s))!=-1&&(s--,(c=n[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(o>f?h--:o<f&&h++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?h--:u==l+1?h++:(u>l?h--:h++,a.__u|=4))):e.__k[i]=null;if(s)for(i=0;i<f;i++)(c=n[i])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=ze(c)),gr(c,c));return r}function vr(e,t,n,r){var o,i;if(typeof e.type=="function"){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=vr(o[i],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=ze(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ri(e,t,n,r){var o,i,a,c=e.key,l=e.type,u=t[n],f=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||f&&c==u.key&&l==u.type)return n;if(r>(f?1:0)){for(o=n-1,i=n+1;o>=0||i<t.length;)if((u=t[a=o>=0?o--:i++])!=null&&(2&u.__u)==0&&c==u.key&&l==u.type)return a}return-1}function Dn(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||ei.test(t)?n:n+"px"}function pt(e,t,n,r,o){var i,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Dn(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||Dn(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")i=t!=(t=t.replace(lr,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=ln,e.addEventListener(t,i?Zt:jt,i)):e.removeEventListener(t,i?Zt:jt,i);else{if(o=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function On(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ln++;else if(t.t<n.u)return;return n(W.event?W.event(t):t)}}}function _n(e,t,n,r,o,i,a,c,l,u){var f,s,h,d,v,_,g,m,y,p,w,C,T,E,R,O,k,S=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),i=[c=t.__e=n.__e]),(f=W.__b)&&f(t);e:if(typeof S=="function")try{if(m=t.props,y="prototype"in S&&S.prototype.render,p=(f=S.contextType)&&r[f.__c],w=f?p?p.props.value:f.__:r,n.__c?g=(s=t.__c=n.__c).__=s.__E:(y?t.__c=s=new S(m,w):(t.__c=s=new bt(m,w),s.constructor=S,s.render=oi),p&&p.sub(s),s.props=m,s.state||(s.state={}),s.context=w,s.__n=r,h=s.__d=!0,s.__h=[],s._sb=[]),y&&s.__s==null&&(s.__s=s.state),y&&S.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=ge({},s.__s)),ge(s.__s,S.getDerivedStateFromProps(m,s.__s))),d=s.props,v=s.state,s.__v=t,h)y&&S.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),y&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(y&&S.getDerivedStateFromProps==null&&m!==d&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(m,w),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(m,s.__s,w)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(s.props=m,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(A){A&&(A.__=t)}),C=0;C<s._sb.length;C++)s.__h.push(s._sb[C]);s._sb=[],s.__h.length&&a.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(m,s.__s,w),y&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(d,v,_)})}if(s.context=w,s.props=m,s.__P=e,s.__e=!1,T=W.__r,E=0,y){for(s.state=s.__s,s.__d=!1,T&&T(t),f=s.render(s.props,s.state,s.context),R=0;R<s._sb.length;R++)s.__h.push(s._sb[R]);s._sb=[]}else do s.__d=!1,T&&T(t),f=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++E<25);s.state=s.__s,s.getChildContext!=null&&(r=ge(ge({},r),s.getChildContext())),y&&!h&&s.getSnapshotBeforeUpdate!=null&&(_=s.getSnapshotBeforeUpdate(d,v)),O=f,f!=null&&f.type===Ot&&f.key==null&&(O=mr(f.props.children)),c=dr(e,Dt(O)?O:[O],t,n,r,o,i,a,c,l,u),s.base=t.__e,t.__u&=-161,s.__h.length&&a.push(s),g&&(s.__E=s.__=null)}catch(A){if(t.__v=null,l||i!=null)if(A.then){for(t.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;i[i.indexOf(c)]=null,t.__e=c}else{for(k=i.length;k--;)fn(i[k]);Qt(t)}else t.__e=n.__e,t.__k=n.__k,A.then||Qt(t);W.__e(A,t,n)}else i==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=ii(n.__e,t,n,r,o,i,a,l,u);return(f=W.diffed)&&f(t),128&t.__u?void 0:c}function Qt(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Qt)}function hr(e,t,n){for(var r=0;r<n.length;r++)dn(n[r],n[++r],n[++r]);W.__c&&W.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(i){i.call(o)})}catch(i){W.__e(i,o.__v)}})}function mr(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Dt(e)?e.map(mr):ge({},e)}function ii(e,t,n,r,o,i,a,c,l){var u,f,s,h,d,v,_,g=n.props,m=t.props,y=t.type;if(y=="svg"?o="http://www.w3.org/2000/svg":y=="math"?o="http://www.w3.org/1998/Math/MathML":o||(o="http://www.w3.org/1999/xhtml"),i!=null){for(u=0;u<i.length;u++)if((d=i[u])&&"setAttribute"in d==!!y&&(y?d.localName==y:d.nodeType==3)){e=d,i[u]=null;break}}if(e==null){if(y==null)return document.createTextNode(m);e=document.createElementNS(o,y,m.is&&m),c&&(W.__m&&W.__m(t,i),c=!1),i=null}if(y==null)g===m||c&&e.data==m||(e.data=m);else{if(i=i&&xt.call(e.childNodes),g=n.props||je,!c&&i!=null)for(g={},u=0;u<e.attributes.length;u++)g[(d=e.attributes[u]).name]=d.value;for(u in g)if(d=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")s=d;else if(!(u in m)){if(u=="value"&&"defaultValue"in m||u=="checked"&&"defaultChecked"in m)continue;pt(e,u,null,d,o)}}for(u in m)d=m[u],u=="children"?h=d:u=="dangerouslySetInnerHTML"?f=d:u=="value"?v=d:u=="checked"?_=d:c&&typeof d!="function"||g[u]===d||pt(e,u,d,g[u],o);if(f)c||s&&(f.__html==s.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(s&&(e.innerHTML=""),dr(t.type=="template"?e.content:e,Dt(h)?h:[h],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":o,i,a,i?i[0]:n.__k&&ze(n,0),c,l),i!=null)for(u=i.length;u--;)fn(i[u]);c||(u="value",y=="progress"&&v==null?e.removeAttribute("value"):v!=null&&(v!==e[u]||y=="progress"&&!v||y=="option"&&v!=g[u])&&pt(e,u,v,g[u],o),u="checked",_!=null&&_!=e[u]&&pt(e,u,_,g[u],o))}return e}function dn(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(o){W.__e(o,n)}}function gr(e,t,n){var r,o;if(W.unmount&&W.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||dn(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){W.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&gr(r[o],t,n||typeof e.type!="function");n||fn(e.__e),e.__c=e.__=e.__e=void 0}function oi(e,t,n){return this.constructor(e,n)}function ai(e,t,n){var r,o,i,a;t==document&&(t=document.documentElement),W.__&&W.__(e,t),o=(r=!1)?null:t.__k,i=[],a=[],_n(t,e=t.__k=ti(Ot,null,[e]),o||je,je,t.namespaceURI,o?null:t.firstChild?xt.call(t.childNodes):null,i,o?o.__e:t.firstChild,r,a),hr(i,e,a)}xt=fr.slice,W={__e:function(e,t,n,r){for(var o,i,a;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),a=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),a=o.__d),a)return o.__E=o}catch(c){e=c}throw e}},sr=0,bt.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ge({},this.state),typeof e=="function"&&(e=e(ge({},n),this.props)),e&&ge(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),xn(this))},bt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),xn(this))},bt.prototype.render=Ot,ke=[],cr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ur=function(e,t){return e.__v.__b-t.__v.__b},Ct.__r=0,lr=/(PointerCapture)$|Capture$/i,ln=0,jt=On(!1),Zt=On(!0);var si=0;function $(e,t,n,r,o,i){t||(t={});var a,c,l=t;if("ref"in l)for(c in l={},t)c=="ref"?a=t[c]:l[c]=t[c];var u={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--si,__i:-1,__u:0,__source:o,__self:i};if(typeof e=="function"&&(a=e.defaultProps))for(c in a)l[c]===void 0&&(l[c]=a[c]);return W.vnode&&W.vnode(u),u}var Ze,J,Gt,Mn,Qe=0,pr=[],j=W,$n=j.__b,Fn=j.__r,Vn=j.diffed,Un=j.__c,Bn=j.unmount,zn=j.__;function vn(e,t){j.__h&&j.__h(J,e,Qe||t),Qe=0;var n=J.__H||(J.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function oe(e){return Qe=1,ci(Er,e)}function ci(e,t,n){var r=vn(Ze++,2);if(r.t=e,!r.__c&&(r.__=[Er(void 0,t),function(c){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,c);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=J,!J.__f)){var o=function(c,l,u){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!i||i.call(this,c,l,u);var s=r.__c.props!==c;return f.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(s=!0)}}),i&&i.call(this,c,l,u)||s};J.__f=!0;var i=J.shouldComponentUpdate,a=J.componentWillUpdate;J.componentWillUpdate=function(c,l,u){if(this.__e){var f=i;i=void 0,o(c,l,u),i=f}a&&a.call(this,c,l,u)},J.shouldComponentUpdate=o}return r.__N||r.__}function pe(e,t){var n=vn(Ze++,3);!j.__s&&yr(n.__H,t)&&(n.__=e,n.u=t,J.__H.__h.push(n))}function en(e){return Qe=5,et(function(){return{current:e}},[])}function et(e,t){var n=vn(Ze++,7);return yr(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ui(e,t){return Qe=8,et(function(){return e},t)}function li(){for(var e;e=pr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(wt),e.__H.__h.forEach(tn),e.__H.__h=[]}catch(t){e.__H.__h=[],j.__e(t,e.__v)}}j.__b=function(e){J=null,$n&&$n(e)},j.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),zn&&zn(e,t)},j.__r=function(e){Fn&&Fn(e),Ze=0;var t=(J=e.__c).__H;t&&(Gt===J?(t.__h=[],J.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(wt),t.__h.forEach(tn),t.__h=[],Ze=0)),Gt=J},j.diffed=function(e){Vn&&Vn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(pr.push(t)!==1&&Mn===j.requestAnimationFrame||((Mn=j.requestAnimationFrame)||fi)(li)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Gt=J=null},j.__c=function(e,t){t.some(function(n){try{n.__h.forEach(wt),n.__h=n.__h.filter(function(r){return!r.__||tn(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],j.__e(r,n.__v)}}),Un&&Un(e,t)},j.unmount=function(e){Bn&&Bn(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{wt(r)}catch(o){t=o}}),n.__H=void 0,t&&j.__e(t,n.__v))};var Hn=typeof requestAnimationFrame=="function";function fi(e){var t,n=function(){clearTimeout(r),Hn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);Hn&&(t=requestAnimationFrame(n))}function wt(e){var t=J,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),J=t}function tn(e){var t=J;e.__c=e.__(),J=t}function yr(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Er(e,t){return typeof t=="function"?t(e):t}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e,t,n){return t&&_i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Wn="(prefers-reduced-motion: reduce)",Ve=1,vi=2,He=3,qe=4,ut=5,At=6,Pt=7,hi={CREATED:Ve,MOUNTED:vi,IDLE:He,MOVING:qe,SCROLLING:ut,DRAGGING:At,DESTROYED:Pt};function be(e){e.length=0}function Ce(e,t,n){return Array.prototype.slice.call(e,t,n)}function G(e){return e.bind.apply(e,[null].concat(Ce(arguments,1)))}var Sr=setTimeout,nn=function(){};function qn(e){return requestAnimationFrame(e)}function Mt(e,t){return typeof t===e}function tt(e){return!mn(e)&&Mt("object",e)}var hn=Array.isArray,br=G(Mt,"function"),Te=G(Mt,"string"),lt=G(Mt,"undefined");function mn(e){return e===null}function wr(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch{return!1}}function ft(e){return hn(e)?e:[e]}function ce(e,t){ft(e).forEach(t)}function gn(e,t){return e.indexOf(t)>-1}function Tt(e,t){return e.push.apply(e,ft(t)),e}function ye(e,t,n){e&&ce(t,function(r){r&&e.classList[n?"add":"remove"](r)})}function _e(e,t){ye(e,Te(t)?t.split(" "):t,!0)}function _t(e,t){ce(t,e.appendChild.bind(e))}function pn(e,t){ce(e,function(n){var r=(t||n).parentNode;r&&r.insertBefore(n,t)})}function nt(e,t){return wr(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function Ar(e,t){var n=e?Ce(e.children):[];return t?n.filter(function(r){return nt(r,t)}):n}function dt(e,t){return t?Ar(e,t)[0]:e.firstElementChild}var rt=Object.keys;function xe(e,t,n){return e&&(n?rt(e).reverse():rt(e)).forEach(function(r){r!=="__proto__"&&t(e[r],r)}),e}function it(e){return Ce(arguments,1).forEach(function(t){xe(t,function(n,r){e[r]=t[r]})}),e}function Ae(e){return Ce(arguments,1).forEach(function(t){xe(t,function(n,r){hn(n)?e[r]=n.slice():tt(n)?e[r]=Ae({},tt(e[r])?e[r]:{},n):e[r]=n})}),e}function Gn(e,t){ce(t||rt(e),function(n){delete e[n]})}function de(e,t){ce(e,function(n){ce(t,function(r){n&&n.removeAttribute(r)})})}function U(e,t,n){tt(t)?xe(t,function(r,o){U(e,o,r)}):ce(e,function(r){mn(n)||n===""?de(r,t):r.setAttribute(t,String(n))})}function Ue(e,t,n){var r=document.createElement(e);return t&&(Te(t)?_e(r,t):U(r,t)),n&&_t(n,r),r}function ue(e,t,n){if(lt(n))return getComputedStyle(e)[t];mn(n)||(e.style[t]=""+n)}function ot(e,t){ue(e,"display",t)}function Tr(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function le(e,t){return e.getAttribute(t)}function Kn(e,t){return e&&e.classList.contains(t)}function ae(e){return e.getBoundingClientRect()}function De(e){ce(e,function(t){t&&t.parentNode&&t.parentNode.removeChild(t)})}function Nr(e){return dt(new DOMParser().parseFromString(e,"text/html").body)}function he(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function Ir(e,t){return e&&e.querySelector(t)}function yn(e,t){return t?Ce(e.querySelectorAll(t)):[]}function Ee(e,t){ye(e,t,!1)}function rn(e){return e.timeStamp}function Le(e){return Te(e)?e:e?e+"px":""}var vt="splide",En="data-"+vt;function Je(e,t){if(!e)throw new Error("["+vt+"] "+(t||""))}var Ne=Math.min,Rt=Math.max,Lt=Math.floor,at=Math.ceil,re=Math.abs;function Cr(e,t,n){return re(e-t)<n}function Nt(e,t,n,r){var o=Ne(t,n),i=Rt(t,n);return r?o<e&&e<i:o<=e&&e<=i}function $e(e,t,n){var r=Ne(t,n),o=Rt(t,n);return Ne(Rt(r,e),o)}function on(e){return+(e>0)-+(e<0)}function an(e,t){return ce(t,function(n){e=e.replace("%s",""+n)}),e}function Sn(e){return e<10?"0"+e:""+e}var Yn={};function mi(e){return""+e+Sn(Yn[e]=(Yn[e]||0)+1)}function Pr(){var e=[];function t(a,c,l,u){o(a,c,function(f,s,h){var d="addEventListener"in f,v=d?f.removeEventListener.bind(f,s,l,u):f.removeListener.bind(f,l);d?f.addEventListener(s,l,u):f.addListener(l),e.push([f,s,h,l,v])})}function n(a,c,l){o(a,c,function(u,f,s){e=e.filter(function(h){return h[0]===u&&h[1]===f&&h[2]===s&&(!l||h[3]===l)?(h[4](),!1):!0})})}function r(a,c,l){var u,f=!0;return typeof CustomEvent=="function"?u=new CustomEvent(c,{bubbles:f,detail:l}):(u=document.createEvent("CustomEvent"),u.initCustomEvent(c,f,!1,l)),a.dispatchEvent(u),u}function o(a,c,l){ce(a,function(u){u&&ce(c,function(f){f.split(" ").forEach(function(s){var h=s.split(".");l(u,h[0],h[1])})})})}function i(){e.forEach(function(a){a[4]()}),be(e)}return{bind:t,unbind:n,dispatch:r,destroy:i}}var Me="mounted",Jn="ready",Ie="move",ht="moved",Rr="click",gi="active",pi="inactive",yi="visible",Ei="hidden",Z="refresh",ie="updated",st="resize",bn="resized",Si="drag",bi="dragging",wi="dragged",wn="scroll",Ge="scrolled",Ai="overflow",Lr="destroy",Ti="arrows:mounted",Ni="arrows:updated",Ii="pagination:mounted",Ci="pagination:updated",kr="navigation:mounted",xr="autoplay:play",Pi="autoplay:playing",Dr="autoplay:pause",Or="lazyload:loaded",Mr="sk",$r="sh",kt="ei";function Y(e){var t=e?e.event.bus:document.createDocumentFragment(),n=Pr();function r(i,a){n.bind(t,ft(i).join(" "),function(c){a.apply(a,hn(c.detail)?c.detail:[])})}function o(i){n.dispatch(t,i,Ce(arguments,1))}return e&&e.event.on(Lr,n.destroy),it(n,{bus:t,on:r,off:G(n.unbind,t),emit:o})}function $t(e,t,n,r){var o=Date.now,i,a=0,c,l=!0,u=0;function f(){if(!l){if(a=e?Ne((o()-i)/e,1):1,n&&n(a),a>=1&&(t(),i=o(),r&&++u>=r))return h();c=qn(f)}}function s(m){m||v(),i=o()-(m?a*e:0),l=!1,c=qn(f)}function h(){l=!0}function d(){i=o(),a=0,n&&n(a)}function v(){c&&cancelAnimationFrame(c),a=0,c=0,l=!0}function _(m){e=m}function g(){return l}return{start:s,rewind:d,pause:h,cancel:v,set:_,isPaused:g}}function Ri(e){var t=e;function n(o){t=o}function r(o){return gn(ft(o),t)}return{set:n,is:r}}function Li(e,t){var n=$t(0,e,null,1);return function(){n.isPaused()&&n.start()}}function ki(e,t,n){var r=e.state,o=n.breakpoints||{},i=n.reducedMotion||{},a=Pr(),c=[];function l(){var v=n.mediaQuery==="min";rt(o).sort(function(_,g){return v?+_-+g:+g-+_}).forEach(function(_){f(o[_],"("+(v?"min":"max")+"-width:"+_+"px)")}),f(i,Wn),s()}function u(v){v&&a.destroy()}function f(v,_){var g=matchMedia(_);a.bind(g,"change",s),c.push([v,g])}function s(){var v=r.is(Pt),_=n.direction,g=c.reduce(function(m,y){return Ae(m,y[1].matches?y[0]:{})},{});Gn(n),d(g),n.destroy?e.destroy(n.destroy==="completely"):v?(u(!0),e.mount()):_!==n.direction&&e.refresh()}function h(v){matchMedia(Wn).matches&&(v?Ae(n,i):Gn(n,rt(i)))}function d(v,_,g){Ae(n,v),_&&Ae(Object.getPrototypeOf(n),v),(g||!r.is(Ve))&&e.emit(ie,n)}return{setup:l,destroy:u,reduce:h,set:d}}var Ft="Arrow",Vt=Ft+"Left",Ut=Ft+"Right",Fr=Ft+"Up",Vr=Ft+"Down",Xn="rtl",Bt="ttb",Kt={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[Fr,Ut],ArrowRight:[Vr,Vt]};function xi(e,t,n){function r(i,a,c){c=c||n.direction;var l=c===Xn&&!a?1:c===Bt?0:-1;return Kt[i]&&Kt[i][l]||i.replace(/width|left|right/i,function(u,f){var s=Kt[u.toLowerCase()][l]||u;return f>0?s.charAt(0).toUpperCase()+s.slice(1):s})}function o(i){return i*(n.direction===Xn?1:-1)}return{resolve:r,orient:o}}var Se="role",Be="tabindex",Di="disabled",fe="aria-",mt=fe+"controls",Ur=fe+"current",jn=fe+"selected",se=fe+"label",An=fe+"labelledby",Br=fe+"hidden",Tn=fe+"orientation",ct=fe+"roledescription",Zn=fe+"live",Qn=fe+"busy",er=fe+"atomic",Nn=[Se,Be,Di,mt,Ur,se,An,Br,Tn,ct],ve=vt+"__",Pe="is-",Yt=vt,tr=ve+"track",Oi=ve+"list",zt=ve+"slide",zr=zt+"--clone",Mi=zt+"__container",In=ve+"arrows",Ht=ve+"arrow",Hr=Ht+"--prev",Wr=Ht+"--next",Wt=ve+"pagination",qr=Wt+"__page",$i=ve+"progress",Fi=$i+"__bar",Vi=ve+"toggle",Ui=ve+"spinner",Bi=ve+"sr",zi=Pe+"initialized",Oe=Pe+"active",Gr=Pe+"prev",Kr=Pe+"next",sn=Pe+"visible",cn=Pe+"loading",Yr=Pe+"focus-in",Jr=Pe+"overflow",Hi=[Oe,sn,Gr,Kr,cn,Yr,Jr],Wi={slide:zt,clone:zr,arrows:In,arrow:Ht,prev:Hr,next:Wr,pagination:Wt,page:qr,spinner:Ui};function qi(e,t){if(br(e.closest))return e.closest(t);for(var n=e;n&&n.nodeType===1&&!nt(n,t);)n=n.parentElement;return n}var Gi=5,nr=200,Xr="touchstart mousedown",Jt="touchmove mousemove",Xt="touchend touchcancel mouseup click";function Ki(e,t,n){var r=Y(e),o=r.on,i=r.bind,a=e.root,c=n.i18n,l={},u=[],f=[],s=[],h,d,v;function _(){p(),w(),y()}function g(){o(Z,m),o(Z,_),o(ie,y),i(document,Xr+" keydown",function(E){v=E.type==="keydown"},{capture:!0}),i(a,"focusin",function(){ye(a,Yr,!!v)})}function m(E){var R=Nn.concat("style");be(u),Ee(a,f),Ee(h,s),de([h,d],R),de(a,E?R:["style",ct])}function y(){Ee(a,f),Ee(h,s),f=T(Yt),s=T(tr),_e(a,f),_e(h,s),U(a,se,n.label),U(a,An,n.labelledby)}function p(){h=C("."+tr),d=dt(h,"."+Oi),Je(h&&d,"A track/list element is missing."),Tt(u,Ar(d,"."+zt+":not(."+zr+")")),xe({arrows:In,pagination:Wt,prev:Hr,next:Wr,bar:Fi,toggle:Vi},function(E,R){l[R]=C("."+E)}),it(l,{root:a,track:h,list:d,slides:u})}function w(){var E=a.id||mi(vt),R=n.role;a.id=E,h.id=h.id||E+"-track",d.id=d.id||E+"-list",!le(a,Se)&&a.tagName!=="SECTION"&&R&&U(a,Se,R),U(a,ct,c.carousel),U(d,Se,"presentation")}function C(E){var R=Ir(a,E);return R&&qi(R,"."+Yt)===a?R:void 0}function T(E){return[E+"--"+n.type,E+"--"+n.direction,n.drag&&E+"--draggable",n.isNavigation&&E+"--nav",E===Yt&&Oe]}return it(l,{setup:_,mount:g,destroy:m})}var We="slide",Ke="loop",gt="fade";function Yi(e,t,n,r){var o=Y(e),i=o.on,a=o.emit,c=o.bind,l=e.Components,u=e.root,f=e.options,s=f.isNavigation,h=f.updateOnMove,d=f.i18n,v=f.pagination,_=f.slideFocus,g=l.Direction.resolve,m=le(r,"style"),y=le(r,se),p=n>-1,w=dt(r,"."+Mi),C;function T(){p||(r.id=u.id+"-slide"+Sn(t+1),U(r,Se,v?"tabpanel":"group"),U(r,ct,d.slide),U(r,se,y||an(d.slideLabel,[t+1,e.length]))),E()}function E(){c(r,"click",G(a,Rr,F)),c(r,"keydown",G(a,Mr,F)),i([ht,$r,Ge],S),i(kr,O),h&&i(Ie,k)}function R(){C=!0,o.destroy(),Ee(r,Hi),de(r,Nn),U(r,"style",m),U(r,se,y||"")}function O(){var D=e.splides.map(function(N){var M=N.splide.Components.Slides.getAt(t);return M?M.slide.id:""}).join(" ");U(r,se,an(d.slideX,(p?n:t)+1)),U(r,mt,D),U(r,Se,_?"button":""),_&&de(r,ct)}function k(){C||S()}function S(){if(!C){var D=e.index;A(),L(),ye(r,Gr,t===D-1),ye(r,Kr,t===D+1)}}function A(){var D=b();D!==Kn(r,Oe)&&(ye(r,Oe,D),U(r,Ur,s&&D||""),a(D?gi:pi,F))}function L(){var D=B(),N=!D&&(!b()||p);if(e.state.is([qe,ut])||U(r,Br,N||""),U(yn(r,f.focusableNodes||""),Be,N?-1:""),_&&U(r,Be,N?-1:0),D!==Kn(r,sn)&&(ye(r,sn,D),a(D?yi:Ei,F)),!D&&document.activeElement===r){var M=l.Slides.getAt(e.index);M&&Tr(M.slide)}}function P(D,N,M){ue(M&&w||r,D,N)}function b(){var D=e.index;return D===t||f.cloneStatus&&D===n}function B(){if(e.is(gt))return b();var D=ae(l.Elements.track),N=ae(r),M=g("left",!0),H=g("right",!0);return Lt(D[M])<=at(N[M])&&Lt(N[H])<=at(D[H])}function z(D,N){var M=re(D-t);return!p&&(f.rewind||e.is(Ke))&&(M=Ne(M,e.length-M)),M<=N}var F={index:t,slideIndex:n,slide:r,container:w,isClone:p,mount:T,destroy:R,update:S,style:P,isWithin:z};return F}function Ji(e,t,n){var r=Y(e),o=r.on,i=r.emit,a=r.bind,c=t.Elements,l=c.slides,u=c.list,f=[];function s(){h(),o(Z,d),o(Z,h)}function h(){l.forEach(function(S,A){_(S,A,-1)})}function d(){C(function(S){S.destroy()}),be(f)}function v(){C(function(S){S.update()})}function _(S,A,L){var P=Yi(e,A,L,S);P.mount(),f.push(P),f.sort(function(b,B){return b.index-B.index})}function g(S){return S?T(function(A){return!A.isClone}):f}function m(S){var A=t.Controller,L=A.toIndex(S),P=A.hasFocus()?1:n.perPage;return T(function(b){return Nt(b.index,L,L+P-1)})}function y(S){return T(S)[0]}function p(S,A){ce(S,function(L){if(Te(L)&&(L=Nr(L)),wr(L)){var P=l[A];P?pn(L,P):_t(u,L),_e(L,n.classes.slide),R(L,G(i,st))}}),i(Z)}function w(S){De(T(S).map(function(A){return A.slide})),i(Z)}function C(S,A){g(A).forEach(S)}function T(S){return f.filter(br(S)?S:function(A){return Te(S)?nt(A.slide,S):gn(ft(S),A.index)})}function E(S,A,L){C(function(P){P.style(S,A,L)})}function R(S,A){var L=yn(S,"img"),P=L.length;P?L.forEach(function(b){a(b,"load error",function(){--P||A()})}):A()}function O(S){return S?l.length:f.length}function k(){return f.length>n.perPage}return{mount:s,destroy:d,update:v,register:_,get:g,getIn:m,getAt:y,add:p,remove:w,forEach:C,filter:T,style:E,getLength:O,isEnough:k}}function Xi(e,t,n){var r=Y(e),o=r.on,i=r.bind,a=r.emit,c=t.Slides,l=t.Direction.resolve,u=t.Elements,f=u.root,s=u.track,h=u.list,d=c.getAt,v=c.style,_,g,m;function y(){p(),i(window,"resize load",Li(G(a,st))),o([ie,Z],p),o(st,w)}function p(){_=n.direction===Bt,ue(f,"maxWidth",Le(n.width)),ue(s,l("paddingLeft"),C(!1)),ue(s,l("paddingRight"),C(!0)),w(!0)}function w(F){var D=ae(f);(F||g.width!==D.width||g.height!==D.height)&&(ue(s,"height",T()),v(l("marginRight"),Le(n.gap)),v("width",R()),v("height",O(),!0),g=D,a(bn),m!==(m=z())&&(ye(f,Jr,m),a(Ai,m)))}function C(F){var D=n.padding,N=l(F?"right":"left");return D&&Le(D[N]||(tt(D)?0:D))||"0px"}function T(){var F="";return _&&(F=E(),Je(F,"height or heightRatio is missing."),F="calc("+F+" - "+C(!1)+" - "+C(!0)+")"),F}function E(){return Le(n.height||ae(h).width*n.heightRatio)}function R(){return n.autoWidth?null:Le(n.fixedWidth)||(_?"":k())}function O(){return Le(n.fixedHeight)||(_?n.autoHeight?null:k():E())}function k(){var F=Le(n.gap);return"calc((100%"+(F&&" + "+F)+")/"+(n.perPage||1)+(F&&" - "+F)+")"}function S(){return ae(h)[l("width")]}function A(F,D){var N=d(F||0);return N?ae(N.slide)[l("width")]+(D?0:b()):0}function L(F,D){var N=d(F);if(N){var M=ae(N.slide)[l("right")],H=ae(h)[l("left")];return re(M-H)+(D?0:b())}return 0}function P(F){return L(e.length-1)-L(0)+A(0,F)}function b(){var F=d(0);return F&&parseFloat(ue(F.slide,l("marginRight")))||0}function B(F){return parseFloat(ue(s,l("padding"+(F?"Right":"Left"))))||0}function z(){return e.is(gt)||P(!0)>S()}return{mount:y,resize:w,listSize:S,slideSize:A,sliderSize:P,totalSize:L,getPadding:B,isOverflow:z}}var ji=2;function Zi(e,t,n){var r=Y(e),o=r.on,i=t.Elements,a=t.Slides,c=t.Direction.resolve,l=[],u;function f(){o(Z,s),o([ie,st],d),(u=g())&&(v(u),t.Layout.resize(!0))}function s(){h(),f()}function h(){De(l),be(l),r.destroy()}function d(){var m=g();u!==m&&(u<m||!m)&&r.emit(Z)}function v(m){var y=a.get().slice(),p=y.length;if(p){for(;y.length<m;)Tt(y,y);Tt(y.slice(-m),y.slice(0,m)).forEach(function(w,C){var T=C<m,E=_(w.slide,C);T?pn(E,y[0].slide):_t(i.list,E),Tt(l,E),a.register(E,C-m+(T?0:p),w.index)})}}function _(m,y){var p=m.cloneNode(!0);return _e(p,n.classes.clone),p.id=e.root.id+"-clone"+Sn(y+1),p}function g(){var m=n.clones;if(!e.is(Ke))m=0;else if(lt(m)){var y=n[c("fixedWidth")]&&t.Layout.slideSize(0),p=y&&at(ae(i.track)[c("width")]/y);m=p||n[c("autoWidth")]&&e.length||n.perPage*ji}return m}return{mount:f,destroy:h}}function Qi(e,t,n){var r=Y(e),o=r.on,i=r.emit,a=e.state.set,c=t.Layout,l=c.slideSize,u=c.getPadding,f=c.totalSize,s=c.listSize,h=c.sliderSize,d=t.Direction,v=d.resolve,_=d.orient,g=t.Elements,m=g.list,y=g.track,p;function w(){p=t.Transition,o([Me,bn,ie,Z],C)}function C(){t.Controller.isBusy()||(t.Scroll.cancel(),E(e.index),t.Slides.update())}function T(N,M,H,ee){N!==M&&F(N>H)&&(S(),R(k(P(),N>H),!0)),a(qe),i(Ie,M,H,N),p.start(M,function(){a(He),i(ht,M,H,N),ee&&ee()})}function E(N){R(L(N,!0))}function R(N,M){if(!e.is(gt)){var H=M?N:O(N);ue(m,"transform","translate"+v("X")+"("+H+"px)"),N!==H&&i($r)}}function O(N){if(e.is(Ke)){var M=A(N),H=M>t.Controller.getEnd(),ee=M<0;(ee||H)&&(N=k(N,H))}return N}function k(N,M){var H=N-z(M),ee=h();return N-=_(ee*(at(re(H)/ee)||1))*(M?1:-1),N}function S(){R(P(),!0),p.cancel()}function A(N){for(var M=t.Slides.get(),H=0,ee=1/0,Q=0;Q<M.length;Q++){var we=M[Q].index,I=re(L(we,!0)-N);if(I<=ee)ee=I,H=we;else break}return H}function L(N,M){var H=_(f(N-1)-B(N));return M?b(H):H}function P(){var N=v("left");return ae(m)[N]-ae(y)[N]+_(u(!1))}function b(N){return n.trimSpace&&e.is(We)&&(N=$e(N,0,_(h(!0)-s()))),N}function B(N){var M=n.focus;return M==="center"?(s()-l(N,!0))/2:+M*l(N)||0}function z(N){return L(N?t.Controller.getEnd():0,!!n.trimSpace)}function F(N){var M=_(k(P(),N));return N?M>=0:M<=m[v("scrollWidth")]-ae(y)[v("width")]}function D(N,M){M=lt(M)?P():M;var H=N!==!0&&_(M)<_(z(!1)),ee=N!==!1&&_(M)>_(z(!0));return H||ee}return{mount:w,move:T,jump:E,translate:R,shift:k,cancel:S,toIndex:A,toPosition:L,getPosition:P,getLimit:z,exceededLimit:D,reposition:C}}function eo(e,t,n){var r=Y(e),o=r.on,i=r.emit,a=t.Move,c=a.getPosition,l=a.getLimit,u=a.toPosition,f=t.Slides,s=f.isEnough,h=f.getLength,d=n.omitEnd,v=e.is(Ke),_=e.is(We),g=G(P,!1),m=G(P,!0),y=n.start||0,p,w=y,C,T,E;function R(){O(),o([ie,Z,kt],O),o(bn,k)}function O(){C=h(!0),T=n.perMove,E=n.perPage,p=F();var I=$e(y,0,d?p:C-1);I!==y&&(y=I,a.reposition())}function k(){p!==F()&&i(kt)}function S(I,q,ne){if(!we()){var X=L(I),te=z(X);te>-1&&(q||te!==y)&&(H(te),a.move(X,te,w,ne))}}function A(I,q,ne,X){t.Scroll.scroll(I,q,ne,function(){var te=z(a.toIndex(c()));H(d?Ne(te,p):te),X&&X()})}function L(I){var q=y;if(Te(I)){var ne=I.match(/([+\-<>])(\d+)?/)||[],X=ne[1],te=ne[2];X==="+"||X==="-"?q=b(y+ +(""+X+(+te||1)),y):X===">"?q=te?D(+te):g(!0):X==="<"&&(q=m(!0))}else q=v?I:$e(I,0,p);return q}function P(I,q){var ne=T||(Q()?1:E),X=b(y+ne*(I?-1:1),y,!(T||Q()));return X===-1&&_&&!Cr(c(),l(!I),1)?I?0:p:q?X:z(X)}function b(I,q,ne){if(s()||Q()){var X=B(I);X!==I&&(q=I,I=X,ne=!1),I<0||I>p?!T&&(Nt(0,I,q,!0)||Nt(p,q,I,!0))?I=D(N(I)):v?I=ne?I<0?-(C%E||E):C:I:n.rewind?I=I<0?p:0:I=-1:ne&&I!==q&&(I=D(N(q)+(I<q?-1:1)))}else I=-1;return I}function B(I){if(_&&n.trimSpace==="move"&&I!==y)for(var q=c();q===u(I,!0)&&Nt(I,0,e.length-1,!n.rewind);)I<y?--I:++I;return I}function z(I){return v?(I+C)%C||0:I}function F(){for(var I=C-(Q()||v&&T?1:E);d&&I-- >0;)if(u(C-1,!0)!==u(I,!0)){I++;break}return $e(I,0,C-1)}function D(I){return $e(Q()?I:E*I,0,p)}function N(I){return Q()?Ne(I,p):Lt((I>=p?C-1:I)/E)}function M(I){var q=a.toIndex(I);return _?$e(q,0,p):q}function H(I){I!==y&&(w=y,y=I)}function ee(I){return I?w:y}function Q(){return!lt(n.focus)||n.isNavigation}function we(){return e.state.is([qe,ut])&&!!n.waitForTransition}return{mount:R,go:S,scroll:A,getNext:g,getPrev:m,getAdjacent:P,getEnd:F,setIndex:H,getIndex:ee,toIndex:D,toPage:N,toDest:M,hasFocus:Q,isBusy:we}}var to="http://www.w3.org/2000/svg",no="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",yt=40;function ro(e,t,n){var r=Y(e),o=r.on,i=r.bind,a=r.emit,c=n.classes,l=n.i18n,u=t.Elements,f=t.Controller,s=u.arrows,h=u.track,d=s,v=u.prev,_=u.next,g,m,y={};function p(){C(),o(ie,w)}function w(){T(),p()}function C(){var A=n.arrows;A&&!(v&&_)&&O(),v&&_&&(it(y,{prev:v,next:_}),ot(d,A?"":"none"),_e(d,m=In+"--"+n.direction),A&&(E(),S(),U([v,_],mt,h.id),a(Ti,v,_)))}function T(){r.destroy(),Ee(d,m),g?(De(s?[v,_]:d),v=_=null):de([v,_],Nn)}function E(){o([Me,ht,Z,Ge,kt],S),i(_,"click",G(R,">")),i(v,"click",G(R,"<"))}function R(A){f.go(A,!0)}function O(){d=s||Ue("div",c.arrows),v=k(!0),_=k(!1),g=!0,_t(d,[v,_]),!s&&pn(d,h)}function k(A){var L='<button class="'+c.arrow+" "+(A?c.prev:c.next)+'" type="button"><svg xmlns="'+to+'" viewBox="0 0 '+yt+" "+yt+'" width="'+yt+'" height="'+yt+'" focusable="false"><path d="'+(n.arrowPath||no)+'" />';return Nr(L)}function S(){if(v&&_){var A=e.index,L=f.getPrev(),P=f.getNext(),b=L>-1&&A<L?l.last:l.prev,B=P>-1&&A>P?l.first:l.next;v.disabled=L<0,_.disabled=P<0,U(v,se,b),U(_,se,B),a(Ni,v,_,L,P)}}return{arrows:y,mount:p,destroy:T,update:S}}var io=En+"-interval";function oo(e,t,n){var r=Y(e),o=r.on,i=r.bind,a=r.emit,c=$t(n.interval,e.go.bind(e,">"),E),l=c.isPaused,u=t.Elements,f=t.Elements,s=f.root,h=f.toggle,d=n.autoplay,v,_,g=d==="pause";function m(){d&&(y(),h&&U(h,mt,u.track.id),g||p(),T())}function y(){n.pauseOnHover&&i(s,"mouseenter mouseleave",function(O){v=O.type==="mouseenter",C()}),n.pauseOnFocus&&i(s,"focusin focusout",function(O){_=O.type==="focusin",C()}),h&&i(h,"click",function(){g?p():w(!0)}),o([Ie,wn,Z],c.rewind),o(Ie,R)}function p(){l()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),_=v=g=!1,T(),a(xr))}function w(O){O===void 0&&(O=!0),g=!!O,T(),l()||(c.pause(),a(Dr))}function C(){g||(v||_?w(!1):p())}function T(){h&&(ye(h,Oe,!g),U(h,se,n.i18n[g?"play":"pause"]))}function E(O){var k=u.bar;k&&ue(k,"width",O*100+"%"),a(Pi,O)}function R(O){var k=t.Slides.getAt(O);c.set(k&&+le(k.slide,io)||n.interval)}return{mount:m,destroy:c.cancel,play:p,pause:w,isPaused:l}}function ao(e,t,n){var r=Y(e),o=r.on;function i(){n.cover&&(o(Or,G(c,!0)),o([Me,ie,Z],G(a,!0)))}function a(l){t.Slides.forEach(function(u){var f=dt(u.container||u.slide,"img");f&&f.src&&c(l,f,u)})}function c(l,u,f){f.style("background",l?'center/cover no-repeat url("'+u.src+'")':"",!0),ot(u,l?"none":"")}return{mount:i,destroy:G(a,!1)}}var so=10,co=600,uo=.6,lo=1.5,fo=800;function _o(e,t,n){var r=Y(e),o=r.on,i=r.emit,a=e.state.set,c=t.Move,l=c.getPosition,u=c.getLimit,f=c.exceededLimit,s=c.translate,h=e.is(We),d,v,_=1;function g(){o(Ie,w),o([ie,Z],C)}function m(E,R,O,k,S){var A=l();if(w(),O&&(!h||!f())){var L=t.Layout.sliderSize(),P=on(E)*L*Lt(re(E)/L)||0;E=c.toPosition(t.Controller.toDest(E%L))+P}var b=Cr(A,E,1);_=1,R=b?0:R||Rt(re(E-A)/lo,fo),v=k,d=$t(R,y,G(p,A,E,S),1),a(ut),i(wn),d.start()}function y(){a(He),v&&v(),i(Ge)}function p(E,R,O,k){var S=l(),A=E+(R-E)*T(k),L=(A-S)*_;s(S+L),h&&!O&&f()&&(_*=uo,re(L)<so&&m(u(f(!0)),co,!1,v,!0))}function w(){d&&d.cancel()}function C(){d&&!d.isPaused()&&(w(),y())}function T(E){var R=n.easingFunc;return R?R(E):1-Math.pow(1-E,4)}return{mount:g,destroy:w,scroll:m,cancel:C}}var Fe={passive:!1,capture:!0};function vo(e,t,n){var r=Y(e),o=r.on,i=r.emit,a=r.bind,c=r.unbind,l=e.state,u=t.Move,f=t.Scroll,s=t.Controller,h=t.Elements.track,d=t.Media.reduce,v=t.Direction,_=v.resolve,g=v.orient,m=u.getPosition,y=u.exceededLimit,p,w,C,T,E,R=!1,O,k,S;function A(){a(h,Jt,nn,Fe),a(h,Xt,nn,Fe),a(h,Xr,P,Fe),a(h,"click",z,{capture:!0}),a(h,"dragstart",he),o([Me,ie],L)}function L(){var x=n.drag;Ln(!x),T=x==="free"}function P(x){if(O=!1,!k){var K=te(x);X(x.target)&&(K||!x.button)&&(s.isBusy()?he(x,!0):(S=K?h:window,E=l.is([qe,ut]),C=null,a(S,Jt,b,Fe),a(S,Xt,B,Fe),u.cancel(),f.cancel(),F(x)))}}function b(x){if(l.is(At)||(l.set(At),i(Si)),x.cancelable)if(E){u.translate(p+ne(Q(x)));var K=we(x)>nr,Re=R!==(R=y());(K||Re)&&F(x),O=!0,i(bi),he(x)}else M(x)&&(E=N(x),he(x))}function B(x){l.is(At)&&(l.set(He),i(wi)),E&&(D(x),he(x)),c(S,Jt,b),c(S,Xt,B),E=!1}function z(x){!k&&O&&he(x,!0)}function F(x){C=w,w=x,p=m()}function D(x){var K=H(x),Re=ee(K),Ye=n.rewind&&n.rewindByDrag;d(!1),T?s.scroll(Re,0,n.snap):e.is(gt)?s.go(g(on(K))<0?Ye?"<":"-":Ye?">":"+"):e.is(We)&&R&&Ye?s.go(y(!0)?">":"<"):s.go(s.toDest(Re),!0),d(!0)}function N(x){var K=n.dragMinThreshold,Re=tt(K),Ye=Re&&K.mouse||0,Qr=(Re?K.touch:+K)||10;return re(Q(x))>(te(x)?Qr:Ye)}function M(x){return re(Q(x))>re(Q(x,!0))}function H(x){if(e.is(Ke)||!R){var K=we(x);if(K&&K<nr)return Q(x)/K}return 0}function ee(x){return m()+on(x)*Ne(re(x)*(n.flickPower||600),T?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}function Q(x,K){return q(x,K)-q(I(x),K)}function we(x){return rn(x)-rn(I(x))}function I(x){return w===x&&C||w}function q(x,K){return(te(x)?x.changedTouches[0]:x)["page"+_(K?"Y":"X")]}function ne(x){return x/(R&&e.is(We)?Gi:1)}function X(x){var K=n.noDrag;return!nt(x,"."+qr+", ."+Ht)&&(!K||!nt(x,K))}function te(x){return typeof TouchEvent<"u"&&x instanceof TouchEvent}function Zr(){return E}function Ln(x){k=x}return{mount:A,disable:Ln,isDragging:Zr}}var ho={Spacebar:" ",Right:Ut,Left:Vt,Up:Fr,Down:Vr};function Cn(e){return e=Te(e)?e:e.key,ho[e]||e}var rr="keydown";function mo(e,t,n){var r=Y(e),o=r.on,i=r.bind,a=r.unbind,c=e.root,l=t.Direction.resolve,u,f;function s(){h(),o(ie,d),o(ie,h),o(Ie,_)}function h(){var m=n.keyboard;m&&(u=m==="global"?window:c,i(u,rr,g))}function d(){a(u,rr)}function v(m){f=m}function _(){var m=f;f=!0,Sr(function(){f=m})}function g(m){if(!f){var y=Cn(m);y===l(Vt)?e.go("<"):y===l(Ut)&&e.go(">")}}return{mount:s,destroy:d,disable:v}}var Xe=En+"-lazy",It=Xe+"-srcset",go="["+Xe+"], ["+It+"]";function po(e,t,n){var r=Y(e),o=r.on,i=r.off,a=r.bind,c=r.emit,l=n.lazyLoad==="sequential",u=[ht,Ge],f=[];function s(){n.lazyLoad&&(h(),o(Z,h))}function h(){be(f),d(),l?m():(i(u),o(u,v),v())}function d(){t.Slides.forEach(function(y){yn(y.slide,go).forEach(function(p){var w=le(p,Xe),C=le(p,It);if(w!==p.src||C!==p.srcset){var T=n.classes.spinner,E=p.parentElement,R=dt(E,"."+T)||Ue("span",T,E);f.push([p,y,R]),p.src||ot(p,"none")}})})}function v(){f=f.filter(function(y){var p=n.perPage*((n.preloadPages||1)+1)-1;return y[1].isWithin(e.index,p)?_(y):!0}),f.length||i(u)}function _(y){var p=y[0];_e(y[1].slide,cn),a(p,"load error",G(g,y)),U(p,"src",le(p,Xe)),U(p,"srcset",le(p,It)),de(p,Xe),de(p,It)}function g(y,p){var w=y[0],C=y[1];Ee(C.slide,cn),p.type!=="error"&&(De(y[2]),ot(w,""),c(Or,w,C),c(st)),l&&m()}function m(){f.length&&_(f.shift())}return{mount:s,destroy:G(be,f),check:v}}function yo(e,t,n){var r=Y(e),o=r.on,i=r.emit,a=r.bind,c=t.Slides,l=t.Elements,u=t.Controller,f=u.hasFocus,s=u.getIndex,h=u.go,d=t.Direction.resolve,v=l.pagination,_=[],g,m;function y(){p(),o([ie,Z,kt],y);var k=n.pagination;v&&ot(v,k?"":"none"),k&&(o([Ie,wn,Ge],O),w(),O(),i(Ii,{list:g,items:_},R(e.index)))}function p(){g&&(De(v?Ce(g.children):g),Ee(g,m),be(_),g=null),r.destroy()}function w(){var k=e.length,S=n.classes,A=n.i18n,L=n.perPage,P=f()?u.getEnd()+1:at(k/L);g=v||Ue("ul",S.pagination,l.track.parentElement),_e(g,m=Wt+"--"+E()),U(g,Se,"tablist"),U(g,se,A.select),U(g,Tn,E()===Bt?"vertical":"");for(var b=0;b<P;b++){var B=Ue("li",null,g),z=Ue("button",{class:S.page,type:"button"},B),F=c.getIn(b).map(function(N){return N.slide.id}),D=!f()&&L>1?A.pageX:A.slideX;a(z,"click",G(C,b)),n.paginationKeyboard&&a(z,"keydown",G(T,b)),U(B,Se,"presentation"),U(z,Se,"tab"),U(z,mt,F.join(" ")),U(z,se,an(D,b+1)),U(z,Be,-1),_.push({li:B,button:z,page:b})}}function C(k){h(">"+k,!0)}function T(k,S){var A=_.length,L=Cn(S),P=E(),b=-1;L===d(Ut,!1,P)?b=++k%A:L===d(Vt,!1,P)?b=(--k+A)%A:L==="Home"?b=0:L==="End"&&(b=A-1);var B=_[b];B&&(Tr(B.button),h(">"+b),he(S,!0))}function E(){return n.paginationDirection||n.direction}function R(k){return _[u.toPage(k)]}function O(){var k=R(s(!0)),S=R(s());if(k){var A=k.button;Ee(A,Oe),de(A,jn),U(A,Be,-1)}if(S){var L=S.button;_e(L,Oe),U(L,jn,!0),U(L,Be,"")}i(Ci,{list:g,items:_},k,S)}return{items:_,mount:y,destroy:p,getAt:R,update:O}}var Eo=[" ","Enter"];function So(e,t,n){var r=n.isNavigation,o=n.slideFocus,i=[];function a(){e.splides.forEach(function(v){v.isParent||(u(e,v.splide),u(v.splide,e))}),r&&f()}function c(){i.forEach(function(v){v.destroy()}),be(i)}function l(){c(),a()}function u(v,_){var g=Y(v);g.on(Ie,function(m,y,p){_.go(_.is(Ke)?p:m)}),i.push(g)}function f(){var v=Y(e),_=v.on;_(Rr,h),_(Mr,d),_([Me,ie],s),i.push(v),v.emit(kr,e.splides)}function s(){U(t.Elements.list,Tn,n.direction===Bt?"vertical":"")}function h(v){e.go(v.index)}function d(v,_){gn(Eo,Cn(_))&&(h(v),he(_))}return{setup:G(t.Media.set,{slideFocus:lt(o)?r:o},!0),mount:a,destroy:c,remount:l}}function bo(e,t,n){var r=Y(e),o=r.bind,i=0;function a(){n.wheel&&o(t.Elements.track,"wheel",c,Fe)}function c(u){if(u.cancelable){var f=u.deltaY,s=f<0,h=rn(u),d=n.wheelMinThreshold||0,v=n.wheelSleep||0;re(f)>d&&h-i>v&&(e.go(s?"<":">"),i=h),l(s)&&he(u)}}function l(u){return!n.releaseWheel||e.state.is(qe)||t.Controller.getAdjacent(u)!==-1}return{mount:a}}var wo=90;function Ao(e,t,n){var r=Y(e),o=r.on,i=t.Elements.track,a=n.live&&!n.isNavigation,c=Ue("span",Bi),l=$t(wo,G(f,!1));function u(){a&&(h(!t.Autoplay.isPaused()),U(i,er,!0),c.textContent="…",o(xr,G(h,!0)),o(Dr,G(h,!1)),o([ht,Ge],G(f,!0)))}function f(d){U(i,Qn,d),d?(_t(i,c),l.start()):(De(c),l.cancel())}function s(){de(i,[Zn,er,Qn]),De(c)}function h(d){a&&U(i,Zn,d?"off":"polite")}return{mount:u,disable:h,destroy:s}}var To=Object.freeze({__proto__:null,Media:ki,Direction:xi,Elements:Ki,Slides:Ji,Layout:Xi,Clones:Zi,Move:Qi,Controller:eo,Arrows:ro,Autoplay:oo,Cover:ao,Scroll:_o,Drag:vo,Keyboard:mo,LazyLoad:po,Pagination:yo,Sync:So,Wheel:bo,Live:Ao}),No={prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},Io={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:Wi,i18n:No,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Co(e,t,n){var r=t.Slides;function o(){Y(e).on([Me,Z],i)}function i(){r.forEach(function(c){c.style("transform","translateX(-"+100*c.index+"%)")})}function a(c,l){r.style("transition","opacity "+n.speed+"ms "+n.easing),Sr(l)}return{mount:o,start:a,cancel:nn}}function Po(e,t,n){var r=t.Move,o=t.Controller,i=t.Scroll,a=t.Elements.list,c=G(ue,a,"transition"),l;function u(){Y(e).bind(a,"transitionend",function(d){d.target===a&&l&&(s(),l())})}function f(d,v){var _=r.toPosition(d,!0),g=r.getPosition(),m=h(d);re(_-g)>=1&&m>=1?n.useScroll?i.scroll(_,m,!1,v):(c("transform "+m+"ms "+n.easing),r.translate(_,!0),l=v):(r.jump(d),v())}function s(){c(""),i.cancel()}function h(d){var v=n.rewindSpeed;if(e.is(We)&&v){var _=o.getIndex(!0),g=o.getEnd();if(_===0&&d>=g||_>=g&&d===0)return v}return n.speed}return{mount:u,start:f,cancel:s}}var Ro=(function(){function e(n,r){this.event=Y(),this.Components={},this.state=Ri(Ve),this.splides=[],this._o={},this._E={};var o=Te(n)?Ir(document,n):n;Je(o,o+" is invalid."),this.root=o,r=Ae({label:le(o,se)||"",labelledby:le(o,An)||""},Io,e.defaults,r||{});try{Ae(r,JSON.parse(le(o,En)))}catch{Je(!1,"Invalid JSON")}this._o=Object.create(Ae({},r))}var t=e.prototype;return t.mount=function(r,o){var i=this,a=this.state,c=this.Components;Je(a.is([Ve,Pt]),"Already mounted!"),a.set(Ve),this._C=c,this._T=o||this._T||(this.is(gt)?Co:Po),this._E=r||this._E;var l=it({},To,this._E,{Transition:this._T});return xe(l,function(u,f){var s=u(i,c,i._o);c[f]=s,s.setup&&s.setup()}),xe(c,function(u){u.mount&&u.mount()}),this.emit(Me),_e(this.root,zi),a.set(He),this.emit(Jn),this},t.sync=function(r){return this.splides.push({splide:r}),r.splides.push({splide:this,isParent:!0}),this.state.is(He)&&(this._C.Sync.remount(),r.Components.Sync.remount()),this},t.go=function(r){return this._C.Controller.go(r),this},t.on=function(r,o){return this.event.on(r,o),this},t.off=function(r){return this.event.off(r),this},t.emit=function(r){var o;return(o=this.event).emit.apply(o,[r].concat(Ce(arguments,1))),this},t.add=function(r,o){return this._C.Slides.add(r,o),this},t.remove=function(r){return this._C.Slides.remove(r),this},t.is=function(r){return this._o.type===r},t.refresh=function(){return this.emit(Z),this},t.destroy=function(r){r===void 0&&(r=!0);var o=this.event,i=this.state;return i.is(Ve)?Y(this).on(Jn,this.destroy.bind(this,r)):(xe(this._C,function(a){a.destroy&&a.destroy(r)},!0),o.emit(Lr),o.destroy(),r&&be(this.splides),i.set(Pt)),this},di(e,[{key:"options",get:function(){return this._o},set:function(r){this._C.Media.set(r,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}]),e})(),Pn=Ro;Pn.defaults={};Pn.STATES=hi;function ir(e,t,n={}){const{showSymbol:r=!0,decimals:o=2,locale:i="en-US"}=n,a=t&&t.trim()?t:"USD";return r?new Intl.NumberFormat(i,{style:"currency",currency:a,minimumFractionDigits:o,maximumFractionDigits:o}).format(e):new Intl.NumberFormat(i,{minimumFractionDigits:o,maximumFractionDigits:o}).format(e)}const Lo="_phoenixCarousel_vxhf8_2",ko="_productCard_vxhf8_75",xo="_imageSection_vxhf8_100",Do="_productImage_vxhf8_107",Oo="_productImg_vxhf8_116",Mo="_seeMoreBtn_vxhf8_128",$o="_discountBadge_vxhf8_151",Fo="_imagePagination_vxhf8_167",Vo="_paginationArrow_vxhf8_182",Uo="_paginationDots_vxhf8_204",Bo="_paginationDot_vxhf8_204",zo="_paginationDotActive_vxhf8_241",Ho="_contentSection_vxhf8_247",Wo="_productTitle_vxhf8_256",qo="_priceSection_vxhf8_270",Go="_priceGroup_vxhf8_278",Ko="_currentPrice_vxhf8_286",Yo="_originalPrice_vxhf8_293",Jo="_discountPercent_vxhf8_300",Xo="_qtyGroup_vxhf8_309",jo="_qtyLabel_vxhf8_317",Zo="_qtyControls_vxhf8_325",Qo="_qtyBtn_vxhf8_333",ea="_qtyValue_vxhf8_357",ta="_variantsRow_vxhf8_371",na="_variantSelect_vxhf8_377",ra="_addToCartBtn_vxhf8_402",ia="_disabled_vxhf8_423",oa="_loading_vxhf8_428",aa="_spinner_vxhf8_433",sa="_carouselPagination_vxhf8_453",ca="_carouselArrow_vxhf8_467",ua="_carouselDots_vxhf8_490",la="_carouselDot_vxhf8_490",fa="_error_vxhf8_526",V={phoenixCarousel:Lo,productCard:ko,imageSection:xo,productImage:Do,productImg:Oo,seeMoreBtn:Mo,discountBadge:$o,imagePagination:Fo,paginationArrow:Vo,paginationDots:Uo,paginationDot:Bo,paginationDotActive:zo,contentSection:Ho,productTitle:Wo,priceSection:qo,priceGroup:Go,currentPrice:Ko,originalPrice:Yo,discountPercent:Jo,qtyGroup:Xo,qtyLabel:jo,qtyControls:Zo,qtyBtn:Qo,qtyValue:ea,variantsRow:ta,variantSelect:na,addToCartBtn:ra,disabled:ia,loading:oa,spinner:aa,carouselPagination:sa,carouselArrow:ca,carouselDots:ua,carouselDot:la,error:fa},_a=({product:e,position:t,currency:n,onClick:r,onAddToCart:o})=>{const[i,a]=oe(1),[c,l]=oe(!1),[u,f]=oe(0),[s,h]=oe(!1),[d,v]=oe(!1),_=en(null),g=et(()=>{const P=[e.image];if(e.images&&e.images.length>0){const b=e.images.filter(B=>B!==e.image);P.push(...b)}return P.filter(Boolean)},[e.image,e.images]),[m,y]=oe(()=>{if(e.options?.length&&e.variants.length){const P=e.variants.find(B=>B.available)||e.variants[0],b={};return e.options.forEach((B,z)=>{const F=`option${z+1}`,D=P[F];D&&(b[B.name]=String(D))}),b}return{}}),p=et(()=>e.options?.length?e.variants?.find(P=>e.options.every((b,B)=>{const z=`option${B+1}`;return String(P[z])===m[b.name]})):e.variants?.[0],[e.variants,e.options,m]);pe(()=>(d&&s&&g.length>1?_.current=setInterval(()=>{f(P=>(P+1)%g.length)},2e3):_.current&&(clearInterval(_.current),_.current=null),()=>{_.current&&clearInterval(_.current)}),[d,s,g.length]),pe(()=>{!d&&s&&(h(!1),f(0))},[d,s]);const w=()=>{r(e.id,t,e.url)},C=P=>{P.stopPropagation(),h(!0)},T=P=>{P.stopPropagation(),f(b=>(b-1+g.length)%g.length)},E=P=>{P.stopPropagation(),f(b=>(b+1)%g.length)},R=(P,b)=>{b.stopPropagation(),f(P)},O=(P,b)=>{y(B=>({...B,[P]:b}))},k=async()=>{if(!(!p||c)){l(!0);try{await o(e.id,p.variant_id,t)}finally{l(!1)}}},S=p?.compare_at_price&&p.compare_at_price>(p.price||e.price),A=g[u]||e.image,L=g.length>1;return $("article",{className:V.productCard,"data-product-id":e.id,children:[$("div",{className:V.imageSection,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[$("div",{className:V.productImage,onClick:w,role:"button",tabIndex:0,children:[$("img",{src:A,alt:`${e.title} - ${u+1}`,loading:"lazy",className:V.productImg}),L&&!s&&$("button",{className:V.seeMoreBtn,onClick:C,"aria-label":"View more images",children:["+",g.length-1," more"]}),S&&$("span",{className:V.discountBadge,children:[Math.round((p.compare_at_price-(p.price||e.price))/p.compare_at_price*100),"% OFF"]})]}),L&&s&&$("div",{className:V.imagePagination,children:[$("button",{className:V.paginationArrow,onClick:T,"aria-label":"Previous image",children:"‹"}),$("div",{className:V.paginationDots,children:g.map((P,b)=>$("button",{className:`${V.paginationDot} ${b===u?V.paginationDotActive:""}`,onClick:B=>R(b,B),"aria-label":`View image ${b+1}`},b))}),$("button",{className:V.paginationArrow,onClick:E,"aria-label":"Next image",children:"›"})]})]}),$("div",{className:V.contentSection,children:[$("h3",{className:V.productTitle,children:e.title}),$("div",{className:V.priceSection,children:[$("div",{className:V.priceGroup,children:[$("span",{className:V.currentPrice,children:ir(p?.price??e.price,n,{showSymbol:!0})}),S&&$("span",{className:V.originalPrice,children:ir(p.compare_at_price,n,{showSymbol:!0})}),S&&$("span",{className:V.discountPercent,children:[Math.round((p.compare_at_price-(p.price||e.price))/p.compare_at_price*100),"% off"]})]}),$("div",{className:V.qtyGroup,children:[$("span",{className:V.qtyLabel,children:"Qty"}),$("div",{className:V.qtyControls,children:[$("button",{className:V.qtyBtn,onClick:()=>a(Math.max(1,i-1)),disabled:i<=1,children:"−"}),$("span",{className:V.qtyValue,children:i}),$("button",{className:V.qtyBtn,onClick:()=>a(i+1),children:"+"})]})]})]}),e.options?.length?$("div",{className:V.variantsRow,children:e.options.map(P=>$("select",{className:V.variantSelect,value:m[P.name]||"",onChange:b=>O(P.name,b.currentTarget.value),children:P.values.map(b=>$("option",{value:b,children:b},b))},P.name))}):null,$("button",{className:`${V.addToCartBtn} ${c?V.loading:""} ${p?.available?"":V.disabled}`,disabled:!p?.available||c,onClick:k,children:c?$("span",{className:V.spinner}):p?.available?"Add to Cart":"Out of Stock"})]})]})},qt="https://nonconscientious-annette-saddeningly.ngrok-free.dev";class Rn{constructor(t={}){this.levels={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},this.logBuffer=[],this.batchTimeout=null,this.trace=this.createLogMethod("trace",this.levels.trace),this.debug=this.createLogMethod("debug",this.levels.debug),this.info=this.createLogMethod("info",this.levels.info),this.warn=this.createLogMethod("warn",this.levels.warn),this.error=this.createLogMethod("error",this.levels.error),this.fatal=this.createLogMethod("fatal",this.levels.fatal),this.currentLevel=this.levels[t.level||"info"],this.base={service:"phoenix-extension",env:"development",...t.base},this.batchSize=t.batchSize||5,this.interval=t.interval||3e3}createLogMethod(t,n){return(r,o,...i)=>{if(n<this.currentLevel)return;const a=new Date().toISOString(),c={level:n,time:a,...this.base,...typeof r=="object"&&r!==null?r:{},msg:o||(typeof r=="string"?r:""),...i.length>0?{args:i}:{}};this.sendToBackend(c)}}async sendToBackend(t){this.logBuffer.push(t),this.logBuffer.length>=this.batchSize?await this.flushLogs():this.batchTimeout||(this.batchTimeout=setTimeout(()=>{this.flushLogs(),this.batchTimeout=null},this.interval))}async flushLogs(){if(this.logBuffer.length===0)return;const n=`${qt}/logs`;await fetch(n,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({logs:this.logBuffer,source:"phoenix-extension",timestamp:new Date().toISOString()})}),this.logBuffer=[]}child(t){return new Rn({level:"info",base:{...this.base,...t},batchSize:this.batchSize,interval:this.interval})}async flush(){this.batchTimeout&&(clearTimeout(this.batchTimeout),this.batchTimeout=null),await this.flushLogs()}}const me=new Rn({level:"info",base:{service:"phoenix-extension",env:"development"},batchSize:5,interval:3e3});class da{constructor(){this.makeAuthenticatedRequest=null,this.baseUrl=qt,this.logger=me}setJWT(t){this.makeAuthenticatedRequest=t}async getRecommendations(t){try{if(!this.makeAuthenticatedRequest)throw new Error("JWT authentication not initialized");const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/v1/recommendations`,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw n.status===403?new Error("Services suspended"):(this.logger.error({error:new Error(`HTTP error! status: ${n.status}`),shop_domain:t.shop_domain},"Failed to fetch recommendations"),new Error(`HTTP error! status: ${n.status}`));return await n.json()}catch(n){throw this.logger.error({error:n instanceof Error?n.message:String(n),shop_domain:t.shop_domain},"Failed to fetch recommendations"),n}}}const or=new da;class va{constructor(){this.makeAuthenticatedRequest=null,this.baseUrl=qt,this.logger=me}setJWT(t){this.makeAuthenticatedRequest=t}getCurrentSessionId(){return null}async getOrCreateSession(t,n){try{if(!this.makeAuthenticatedRequest)throw new Error("JWT authentication not initialized");const r=`${this.baseUrl}/api/phoenix/get-or-create-session`,o={shop_domain:t,customer_id:n,user_agent:navigator.userAgent,ip_address:void 0,referrer:void 0},i=await this.makeAuthenticatedRequest(r,{method:"POST",body:JSON.stringify(o),keepalive:!0});if(!i.ok)throw i.status===403?new Error("Services suspended"):new Error(`Session creation failed: ${i.status}`);const a=await i.json();if(a.success&&a.data&&a.data.session_id)return a.data.session_id;throw this.logger.error({message:a.message,shop_domain:t},"Failed to create session"),new Error(a.message||"Failed to create session")}catch(r){throw this.logger.error({error:r instanceof Error?r.message:String(r),shop_domain:t},"Session creation error"),r}}async trackUnifiedInteraction(t){try{if(!this.makeAuthenticatedRequest)return{success:!1};const n=`${this.baseUrl}/api/phoenix/track-interaction`,r=await this.makeAuthenticatedRequest(n,{method:"POST",body:JSON.stringify(t),keepalive:!0});if(!r.ok)throw new Error(`Interaction tracking failed: ${r.status}`);const o=await r.json();if(o.success)return{success:!0,sessionRecovery:o.session_recovery||null};throw this.logger.error({message:o.message,shop_domain:t.shop_domain},"Failed to track interaction"),new Error(o.message||"Failed to track interaction")}catch(n){return this.logger.error({error:n instanceof Error?n.message:String(n),shop_domain:t.shop_domain},"Interaction tracking error"),{success:!1}}}buildRecommendationMetadata(t){const{extensionType:n,source:r="phoenix_theme_extension",cartProductCount:o,recommendationCount:i,recommendations:a,widget:c="phoenix_recommendation",algorithm:l="phoenix_algorithm",extra:u={}}=t;return{source:r,cart_product_count:o??u.cart_product_count??0,recommendation_count:i,extension_type:n,data:{recommendations:a.map(f=>({id:String(f.id),position:f.position})),type:"recommendation",widget:u.widget??c,algorithm:u.algorithm??l},...u}}async trackRecommendationView(t,n,r,o,i,a){try{const c=(i||[]).map((u,f)=>({id:u,position:f+1})),l={session_id:r,shop_domain:t,context:n,interaction_type:"recommendation_viewed",customer_id:o,page_url:null,referrer:null,metadata:this.buildRecommendationMetadata({extensionType:"phoenix",recommendationCount:c.length,recommendations:c,cartProductCount:a?.cart_product_count,extra:a})};return await this.trackUnifiedInteraction(l)}catch(c){return this.logger.error({error:c instanceof Error?c.message:String(c),shop_domain:t},"Failed to track recommendation view"),{success:!1}}}async trackRecommendationClick(t,n,r,o,i,a,c){try{const l={session_id:i,shop_domain:t,context:n,interaction_type:"recommendation_clicked",customer_id:a,product_id:r,page_url:null,referrer:null,metadata:{source:c?.source||"phoenix_recommendation",cart_product_count:c?.cart_product_count??0,recommendation_count:1,extension_type:"phoenix",data:{product:{id:r},position:o,type:"recommendation",widget:c?.widget||"phoenix_recommendation",algorithm:c?.algorithm||"phoenix_algorithm"},...c}};return await this.trackUnifiedInteraction(l)}catch(l){return this.logger.error({error:l instanceof Error?l.message:String(l),shop_domain:t},"Failed to track recommendation click"),{success:!1}}}}const Et=new va;function ha(e,t){const[n,r]=oe(null),[o,i]=oe(!1),a="betterbundle_jwt_token",c="betterbundle_jwt_expiry",l="betterbundle_shop_domain",u=_=>{if(!_||!_.expiresIn)return!1;const g=Date.now()/1e3;return _.expiresIn-g>60},f=async()=>{try{const _=localStorage.getItem(a),g=localStorage.getItem(l);return!_||!g?null:{token:_,expiresIn:parseInt(localStorage.getItem(c)||"0"),shopDomain:g,shopStatus:"unknown",permissions:[]}}catch{return null}},s=async _=>{try{localStorage.setItem(a,_.token);const g=Math.floor(Date.now()/1e3)+_.expiresIn;localStorage.setItem(c,g.toString()),localStorage.setItem(l,_.shopDomain)}catch{}},h=async(_,g)=>{const m={};if(_)m.shop_domain=_;else if(g)m.customer_id=g;else throw new Error("Either shopDomain or customerId must be provided");const y=await fetch(`${qt}/api/v1/auth/shop-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!y.ok)throw new Error(`Token generation failed: ${y.status}`);const p=await y.json();return{token:p.token,expiresIn:p.expires_in,shopDomain:p.shop_domain,shopStatus:p.shop_status,permissions:p.permissions}},d=ui(async(_,g)=>{try{const m=await f();if(m&&m.token&&u(m)&&(!_||m.shopDomain===_))return m.token;const y=await h(_,g);return await s(y),y.token}catch(m){return me.error({error:m instanceof Error?m.message:String(m),shop_domain:_,customer_id:g},"Failed to get JWT token"),null}},[]),v=async(_,g={})=>n?fetch(_,{...g,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...g.headers}}):new Response(JSON.stringify({error:"No token available"}),{status:401});return pe(()=>{(async()=>{if(!(!e&&!t))try{const g=await d(e,t);g?(r(g),i(!0)):i(!1)}catch(g){me.error({error:g instanceof Error?g.message:String(g),shop_domain:e,customer_id:t},"Failed to initialize JWT"),i(!1)}})()},[e,t,d]),{token:n,isReady:o,makeAuthenticatedRequest:v}}const ma=()=>window.Shopify?.designMode||!1,jr=(e,t)=>{try{const n=parseFloat(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:t==="JPY"||t==="KRW"?0:2,maximumFractionDigits:t==="JPY"||t==="KRW"?0:2}).format(n)}catch{return`${{USD:"$",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$",JPY:"¥",INR:"₹",KRW:"₩",BRL:"R$",MXN:"$"}[t]||t}${e}`}},ga=(e,t="USD")=>Array.from({length:e},(n,r)=>{const o=29.99+r*10,i=`https://via.placeholder.com/300x300/4a90e2/ffffff?text=Product+${r+1}`;return{id:`dummy-${r}`,title:`Sample Product ${r+1}`,handle:`sample-product-${r+1}`,price:jr(String(o),t),image:{url:i,alt_text:`Sample Product ${r+1}`},images:[{url:i,alt_text:`Sample Product ${r+1}`,position:0},{url:`https://via.placeholder.com/300x300/ff6b6b/ffffff?text=Alt+${r+1}`,alt_text:`Alternative view ${r+1}`,position:1}],inStock:!0,url:"#",variant_id:`var-${r}-1`}});function pa({context:e,limit:t,customerId:n,shopDomain:r,currency:o="USD"}){const{makeAuthenticatedRequest:i,isReady:a}=ha(r,n),[c,l]=oe(!1),[u,f]=oe(null),[s,h]=oe(null),[d,v]=oe(null),[_,g]=oe(!1);pe(()=>{const p=ma();if(g(p),p){f(ga(t,o)),l(!1);return}},[t,o]),pe(()=>{a&&i&&(or.setJWT(i),Et.setJWT(i))},[a,i]),pe(()=>{if(_)return;a&&(async()=>{try{const w=sessionStorage.getItem("unified_session_id");if(w){v(w);return}const C=await Et.getOrCreateSession(r,n);sessionStorage.setItem("unified_session_id",C),v(C)}catch(w){me.error({error:w instanceof Error?w.message:String(w),shop_domain:r},"Failed to initialize session"),h("Failed to initialize session")}})()},[r,n,a,_]);const m=async(p,w,C)=>{if(_)return C;try{const T=await Et.trackRecommendationClick(r,e,p,w,d,n,{source:`${e}_recommendation`});T.success&&T.sessionRecovery&&(sessionStorage.setItem("unified_session_id",T.sessionRecovery.new_session_id),v(T.sessionRecovery.new_session_id))}catch(T){me.error({error:T instanceof Error?T.message:String(T),shop_domain:r},"Failed to track recommendation click")}return C},y=async()=>{if(!(_||!u||u.length===0))try{const p=u.map(C=>C.id),w=await Et.trackRecommendationView(r,e,d,n,p,{source:`${e}_page`});w.success&&w.sessionRecovery&&(sessionStorage.setItem("unified_session_id",w.sessionRecovery.new_session_id),v(w.sessionRecovery.new_session_id))}catch(p){me.error({error:p instanceof Error?p.message:String(p),shop_domain:r},"Failed to track recommendation view")}};return pe(()=>{if(_)return;if(!d||!a){me.error({shop_domain:r},"Waiting for session and JWT initialization");return}(async()=>{try{l(!0),h(null);const w=await or.getRecommendations({context:e,limit:t,user_id:n,session_id:d,...r&&{shop_domain:r}});if(w.success&&w.recommendations){const C=w.recommendations.map(T=>({id:T.id,title:T.title,handle:T.handle,price:jr(T.price.amount,T.price.currency_code),image:T.image,images:T.images||[],inStock:T.available??!0,url:T.url||(r?`https://${r}/products/${T.handle}`:T.handle),variants:T.variants||[],options:T.options||[]}));f(C)}else throw new Error(`Failed to fetch ${e} recommendations`)}catch(w){me.error({error:w instanceof Error?w.message:String(w),shop_domain:r},"Failed to fetch recommendations"),h("Failed to load recommendations")}finally{l(!1)}})()},[n,e,t,d,r,a,_]),{loading:c,products:u,error:s,isDesignMode:_,trackRecommendationClick:m,trackRecommendationView:y}}const ya=({productIds:e,customerId:t,shopDomain:n,limit:r,context:o,enableAutoplay:i,autoplayDelay:a,showArrows:c,showPagination:l,currency:u})=>{const f=en(null),s=en(null),{products:h,error:d,isDesignMode:v,trackRecommendationClick:_,trackRecommendationView:g}=pa({context:o,limit:r,customerId:t||"",shopDomain:n,currency:u}),m=et(()=>h?h.map(E=>{const R=E.price.match(/[\d.]+/),O=R?parseFloat(R[0]):0,k=E,S=k.options||[],L=(k.variants||[]).map(b=>{const B=b.title?.split(" / ")||[],z={};return S.forEach((F,D)=>{const N=`option${D+1}`;z[N]=B[D]||""}),{variant_id:b.variant_id||b.variantId,title:b.title||"",price:typeof b.price=="number"?b.price:parseFloat(String(b.price||"0")),compare_at_price:b.compare_at_price??null,available:(b.inventory??0)>0,inventory:b.inventory??null,option1:z.option1||null,option2:z.option2||null,option3:z.option3||null,image:b.image||null}}),P=S.map(b=>({name:b.name||"",values:b.values||[]}));return{id:E.id,title:E.title,image:E.image?.url||"",url:E.url||"#",price:O,compare_at_price:L[0]?.compare_at_price??null,currency:u,variants:L,options:P.length>0?P:void 0,images:E.images?.map(b=>b.url)||[]}}):null,[h,u]);pe(()=>{m&&m.length>0&&!v&&g()},[m,v,g]),pe(()=>{if(!(!m?.length||!f.current||s.current))return s.current=new Pn(f.current,{type:m.length>4?"loop":"slide",perPage:4,perMove:1,gap:"0.5rem",arrows:!1,pagination:!1,autoplay:i,interval:a,pauseOnHover:!0,pauseOnFocus:!0,breakpoints:{1200:{perPage:3},768:{perPage:2},480:{perPage:1}},lazyLoad:"nearby",preloadPages:1}),s.current.mount(),()=>{s.current&&(s.current.destroy(),s.current=null)}},[m,i,a]);const y=()=>{s.current&&s.current.go("<")},p=()=>{s.current&&s.current.go(">")},w=async(E,R,O)=>{if(v)return;const k=await _(String(E),R,O);window.location.href=k},C=async(E,R,O)=>{if(v){alert("Add to cart works in live preview only");return}try{const k=window.Shopify;if(k?.analytics?.addToCart){const S={_bb_rec_product_id:String(E),_bb_rec_extension:"phoenix",_bb_rec_context:o,_bb_rec_position:String(O),_bb_rec_timestamp:new Date().toISOString(),_bb_rec_source:"betterbundle"};await k.analytics.addToCart(R,1,S),window.location.reload()}else{const S=m?.find(A=>A.id===E);S&&(window.location.href=S.url)}}catch{}};if(d)return $("div",{className:V.phoenixCarousel,children:$("div",{className:V.error,children:["Failed to load recommendations: ",d]})});if(!m)return $("div",{className:V.phoenixCarousel,children:$("div",{className:V.loading,children:"Loading recommendations..."})});if(m.length===0)return null;const T=m.length>4;return $("div",{className:V.phoenixCarousel,children:[$("div",{ref:f,className:"splide",children:$("div",{className:"splide__track",children:$("ul",{className:"splide__list",children:m.map((E,R)=>$("li",{className:"splide__slide",children:$(_a,{product:E,position:R+1,currency:u,onClick:w,onAddToCart:C})},String(E.id)))})})}),T&&(c||l)&&$("div",{className:V.carouselPagination,children:[c&&$("button",{className:V.carouselArrow,onClick:y,"aria-label":"Previous products",children:"‹"}),l&&$("div",{className:V.carouselDots,children:[$("div",{className:V.carouselDot}),$("div",{className:V.carouselDot}),$("div",{className:V.carouselDot})]}),c&&$("button",{className:V.carouselArrow,onClick:p,"aria-label":"Next products",children:"›"})]})]})},Ea=({title:e})=>$("h4",{children:e}),Sa=({type:e,settings:t,shopify:n})=>{const r=t,o=n;if(e==="product-recommendations"||e==="collection-recommendations"||e==="homepage-recommendations"||e==="cart-recommendations")return $("div",{className:"phoenix-extension",children:[$(Ea,{title:String(r.title)}),$(ya,{productIds:r.product_ids||(o.productId?[o.productId]:[]),customerId:o.customerId,shopDomain:String(o.shop||""),limit:Number(r.limit??6),context:r.context||"product_page",enableAutoplay:!!r.enable_autoplay,autoplayDelay:Number(r.autoplay_delay??2500),showArrows:!!r.show_arrows,showPagination:!!r.show_pagination,currency:String(r.currency||"USD")})]})},ar=()=>{const e=document.querySelectorAll("[data-phoenix-component]");return e.length===0?!1:(e.forEach((t,n)=>{try{const r=t.getAttribute("data-phoenix-component"),o=t.getAttribute("data-phoenix-props");if(!r)return;const i=o?JSON.parse(o):{},a={productId:t.getAttribute("data-product-id"),collectionId:t.getAttribute("data-collection-id"),customerId:window.meta?.customer?.id,shop:window.Shopify?.shop};t&&t.nodeType===Node.ELEMENT_NODE&&ai($(Sa,{type:r,settings:i,shopify:a}),t)}catch{}}),!0)},un=()=>{ar()||setTimeout(()=>{ar()},100)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",un):(document.readyState==="interactive"||document.readyState==="complete")&&un();window.addEventListener("load",()=>{const e=document.querySelectorAll("[data-phoenix-component]");e.length>0&&Array.from(e).filter(n=>!n.querySelector(".phoenix-extension, .phoenix-component-error")).length>0&&un()});
