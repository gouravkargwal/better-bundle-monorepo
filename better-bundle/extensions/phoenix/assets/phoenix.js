var Dt,W,sr,ke,kn,cr,ur,lr,ln,jt,Zt,je={},fr=[],ei=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Ot=Array.isArray;function ge(e,t){for(var n in t)e[n]=t[n];return e}function fn(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function ti(e,t,n){var r,i,o,a={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?Dt.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)a[o]===void 0&&(a[o]=e.defaultProps[o]);return St(e,a,r,i,null)}function St(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++sr,__i:-1,__u:0};return i==null&&W.vnode!=null&&W.vnode(o),o}function xt(e){return e.children}function bt(e,t){this.props=e,this.context=t}function Be(e,t){if(t==null)return e.__?Be(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Be(e):null}function _r(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return _r(e)}}function Dn(e){(!e.__d&&(e.__d=!0)&&ke.push(e)&&!Pt.__r++||kn!=W.debounceRendering)&&((kn=W.debounceRendering)||cr)(Pt)}function Pt(){for(var e,t,n,r,i,o,a,c=1;ke.length;)ke.length>c&&ke.sort(ur),e=ke.shift(),c=ke.length,e.__d&&(n=void 0,r=void 0,i=(r=(t=e).__v).__e,o=[],a=[],t.__P&&((n=ge({},r)).__v=r.__v+1,W.vnode&&W.vnode(n),_n(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,o,i??Be(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,hr(o,n,a),r.__e=r.__=null,n.__e!=i&&_r(n)));Pt.__r=0}function dr(e,t,n,r,i,o,a,c,l,u,f){var s,h,d,v,_,g,m,y=r&&r.__k||fr,p=t.length;for(l=ni(n,t,y,l,p),s=0;s<p;s++)(d=n.__k[s])!=null&&(h=d.__i==-1?je:y[d.__i]||je,d.__i=s,g=_n(e,d,h,i,o,a,c,l,u,f),v=d.__e,d.ref&&h.ref!=d.ref&&(h.ref&&dn(h.ref,null,d),f.push(d.ref,d.__c||v,d)),_==null&&v!=null&&(_=v),(m=!!(4&d.__u))||h.__k===d.__k?l=vr(d,l,e,m):typeof d.type=="function"&&g!==void 0?l=g:v&&(l=v.nextSibling),d.__u&=-7);return n.__e=_,l}function ni(e,t,n,r,i){var o,a,c,l,u,f=n.length,s=f,h=0;for(e.__k=new Array(i),o=0;o<i;o++)(a=t[o])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=o+h,(a=e.__k[o]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?St(null,a,null,null,null):Ot(a)?St(xt,{children:a},null,null,null):a.constructor==null&&a.__b>0?St(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,c=null,(u=a.__i=ri(a,n,l,s))!=-1&&(s--,(c=n[u])&&(c.__u|=2)),c==null||c.__v==null?(u==-1&&(i>f?h--:i<f&&h++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?h--:u==l+1?h++:(u>l?h--:h++,a.__u|=4))):e.__k[o]=null;if(s)for(o=0;o<f;o++)(c=n[o])!=null&&(2&c.__u)==0&&(c.__e==r&&(r=Be(c)),gr(c,c));return r}function vr(e,t,n,r){var i,o;if(typeof e.type=="function"){for(i=e.__k,o=0;i&&o<i.length;o++)i[o]&&(i[o].__=e,t=vr(i[o],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=Be(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ri(e,t,n,r){var i,o,a,c=e.key,l=e.type,u=t[n],f=u!=null&&(2&u.__u)==0;if(u===null&&e.key==null||f&&c==u.key&&l==u.type)return n;if(r>(f?1:0)){for(i=n-1,o=n+1;i>=0||o<t.length;)if((u=t[a=i>=0?i--:o++])!=null&&(2&u.__u)==0&&c==u.key&&l==u.type)return a}return-1}function On(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||ei.test(t)?n:n+"px"}function pt(e,t,n,r,i){var o,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||On(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||On(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(lr,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=ln,e.addEventListener(t,o?Zt:jt,o)):e.removeEventListener(t,o?Zt:jt,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function xn(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ln++;else if(t.t<n.u)return;return n(W.event?W.event(t):t)}}}function _n(e,t,n,r,i,o,a,c,l,u){var f,s,h,d,v,_,g,m,y,p,w,P,T,E,R,M,k,S=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),o=[c=t.__e=n.__e]),(f=W.__b)&&f(t);e:if(typeof S=="function")try{if(m=t.props,y="prototype"in S&&S.prototype.render,p=(f=S.contextType)&&r[f.__c],w=f?p?p.props.value:f.__:r,n.__c?g=(s=t.__c=n.__c).__=s.__E:(y?t.__c=s=new S(m,w):(t.__c=s=new bt(m,w),s.constructor=S,s.render=oi),p&&p.sub(s),s.props=m,s.state||(s.state={}),s.context=w,s.__n=r,h=s.__d=!0,s.__h=[],s._sb=[]),y&&s.__s==null&&(s.__s=s.state),y&&S.getDerivedStateFromProps!=null&&(s.__s==s.state&&(s.__s=ge({},s.__s)),ge(s.__s,S.getDerivedStateFromProps(m,s.__s))),d=s.props,v=s.state,s.__v=t,h)y&&S.getDerivedStateFromProps==null&&s.componentWillMount!=null&&s.componentWillMount(),y&&s.componentDidMount!=null&&s.__h.push(s.componentDidMount);else{if(y&&S.getDerivedStateFromProps==null&&m!==d&&s.componentWillReceiveProps!=null&&s.componentWillReceiveProps(m,w),!s.__e&&s.shouldComponentUpdate!=null&&s.shouldComponentUpdate(m,s.__s,w)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(s.props=m,s.state=s.__s,s.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(A){A&&(A.__=t)}),P=0;P<s._sb.length;P++)s.__h.push(s._sb[P]);s._sb=[],s.__h.length&&a.push(s);break e}s.componentWillUpdate!=null&&s.componentWillUpdate(m,s.__s,w),y&&s.componentDidUpdate!=null&&s.__h.push(function(){s.componentDidUpdate(d,v,_)})}if(s.context=w,s.props=m,s.__P=e,s.__e=!1,T=W.__r,E=0,y){for(s.state=s.__s,s.__d=!1,T&&T(t),f=s.render(s.props,s.state,s.context),R=0;R<s._sb.length;R++)s.__h.push(s._sb[R]);s._sb=[]}else do s.__d=!1,T&&T(t),f=s.render(s.props,s.state,s.context),s.state=s.__s;while(s.__d&&++E<25);s.state=s.__s,s.getChildContext!=null&&(r=ge(ge({},r),s.getChildContext())),y&&!h&&s.getSnapshotBeforeUpdate!=null&&(_=s.getSnapshotBeforeUpdate(d,v)),M=f,f!=null&&f.type===xt&&f.key==null&&(M=mr(f.props.children)),c=dr(e,Ot(M)?M:[M],t,n,r,i,o,a,c,l,u),s.base=t.__e,t.__u&=-161,s.__h.length&&a.push(s),g&&(s.__E=s.__=null)}catch(A){if(t.__v=null,l||o!=null)if(A.then){for(t.__u|=l?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;o[o.indexOf(c)]=null,t.__e=c}else{for(k=o.length;k--;)fn(o[k]);Qt(t)}else t.__e=n.__e,t.__k=n.__k,A.then||Qt(t);W.__e(A,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):c=t.__e=ii(n.__e,t,n,r,i,o,a,l,u);return(f=W.diffed)&&f(t),128&t.__u?void 0:c}function Qt(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(Qt)}function hr(e,t,n){for(var r=0;r<n.length;r++)dn(n[r],n[++r],n[++r]);W.__c&&W.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){W.__e(o,i.__v)}})}function mr(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:Ot(e)?e.map(mr):ge({},e)}function ii(e,t,n,r,i,o,a,c,l){var u,f,s,h,d,v,_,g=n.props,m=t.props,y=t.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(u=0;u<o.length;u++)if((d=o[u])&&"setAttribute"in d==!!y&&(y?d.localName==y:d.nodeType==3)){e=d,o[u]=null;break}}if(e==null){if(y==null)return document.createTextNode(m);e=document.createElementNS(i,y,m.is&&m),c&&(W.__m&&W.__m(t,o),c=!1),o=null}if(y==null)g===m||c&&e.data==m||(e.data=m);else{if(o=o&&Dt.call(e.childNodes),g=n.props||je,!c&&o!=null)for(g={},u=0;u<e.attributes.length;u++)g[(d=e.attributes[u]).name]=d.value;for(u in g)if(d=g[u],u!="children"){if(u=="dangerouslySetInnerHTML")s=d;else if(!(u in m)){if(u=="value"&&"defaultValue"in m||u=="checked"&&"defaultChecked"in m)continue;pt(e,u,null,d,i)}}for(u in m)d=m[u],u=="children"?h=d:u=="dangerouslySetInnerHTML"?f=d:u=="value"?v=d:u=="checked"?_=d:c&&typeof d!="function"||g[u]===d||pt(e,u,d,g[u],i);if(f)c||s&&(f.__html==s.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),t.__k=[];else if(s&&(e.innerHTML=""),dr(t.type=="template"?e.content:e,Ot(h)?h:[h],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,a,o?o[0]:n.__k&&Be(n,0),c,l),o!=null)for(u=o.length;u--;)fn(o[u]);c||(u="value",y=="progress"&&v==null?e.removeAttribute("value"):v!=null&&(v!==e[u]||y=="progress"&&!v||y=="option"&&v!=g[u])&&pt(e,u,v,g[u],i),u="checked",_!=null&&_!=e[u]&&pt(e,u,_,g[u],i))}return e}function dn(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){W.__e(i,n)}}function gr(e,t,n){var r,i;if(W.unmount&&W.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||dn(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){W.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&gr(r[i],t,n||typeof e.type!="function");n||fn(e.__e),e.__c=e.__=e.__e=void 0}function oi(e,t,n){return this.constructor(e,n)}function ai(e,t,n){var r,i,o,a;t==document&&(t=document.documentElement),W.__&&W.__(e,t),i=(r=!1)?null:t.__k,o=[],a=[],_n(t,e=t.__k=ti(xt,null,[e]),i||je,je,t.namespaceURI,i?null:t.firstChild?Dt.call(t.childNodes):null,o,i?i.__e:t.firstChild,r,a),hr(o,e,a)}Dt=fr.slice,W={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(c){e=c}throw e}},sr=0,bt.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ge({},this.state),typeof e=="function"&&(e=e(ge({},n),this.props)),e&&ge(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Dn(this))},bt.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Dn(this))},bt.prototype.render=xt,ke=[],cr=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ur=function(e,t){return e.__v.__b-t.__v.__b},Pt.__r=0,lr=/(PointerCapture)$|Capture$/i,ln=0,jt=xn(!1),Zt=xn(!0);var si=0;function O(e,t,n,r,i,o){t||(t={});var a,c,l=t;if("ref"in l)for(c in l={},t)c=="ref"?a=t[c]:l[c]=t[c];var u={type:e,props:l,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--si,__i:-1,__u:0,__source:i,__self:o};if(typeof e=="function"&&(a=e.defaultProps))for(c in a)l[c]===void 0&&(l[c]=a[c]);return W.vnode&&W.vnode(u),u}var Ze,J,Gt,Mn,Qe=0,pr=[],j=W,$n=j.__b,qn=j.__r,Fn=j.diffed,Vn=j.__c,Un=j.unmount,Bn=j.__;function vn(e,t){j.__h&&j.__h(J,e,Qe||t),Qe=0;var n=J.__H||(J.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function oe(e){return Qe=1,ci(Er,e)}function ci(e,t,n){var r=vn(Ze++,2);if(r.t=e,!r.__c&&(r.__=[Er(void 0,t),function(c){var l=r.__N?r.__N[0]:r.__[0],u=r.t(l,c);l!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=J,!J.__f)){var i=function(c,l,u){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(h){return!!h.__c});if(f.every(function(h){return!h.__N}))return!o||o.call(this,c,l,u);var s=r.__c.props!==c;return f.forEach(function(h){if(h.__N){var d=h.__[0];h.__=h.__N,h.__N=void 0,d!==h.__[0]&&(s=!0)}}),o&&o.call(this,c,l,u)||s};J.__f=!0;var o=J.shouldComponentUpdate,a=J.componentWillUpdate;J.componentWillUpdate=function(c,l,u){if(this.__e){var f=o;o=void 0,i(c,l,u),o=f}a&&a.call(this,c,l,u)},J.shouldComponentUpdate=i}return r.__N||r.__}function pe(e,t){var n=vn(Ze++,3);!j.__s&&yr(n.__H,t)&&(n.__=e,n.u=t,J.__H.__h.push(n))}function en(e){return Qe=5,et(function(){return{current:e}},[])}function et(e,t){var n=vn(Ze++,7);return yr(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function ui(e,t){return Qe=8,et(function(){return e},t)}function li(){for(var e;e=pr.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(wt),e.__H.__h.forEach(tn),e.__H.__h=[]}catch(t){e.__H.__h=[],j.__e(t,e.__v)}}j.__b=function(e){J=null,$n&&$n(e)},j.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Bn&&Bn(e,t)},j.__r=function(e){qn&&qn(e),Ze=0;var t=(J=e.__c).__H;t&&(Gt===J?(t.__h=[],J.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(wt),t.__h.forEach(tn),t.__h=[],Ze=0)),Gt=J},j.diffed=function(e){Fn&&Fn(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(pr.push(t)!==1&&Mn===j.requestAnimationFrame||((Mn=j.requestAnimationFrame)||fi)(li)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),Gt=J=null},j.__c=function(e,t){t.some(function(n){try{n.__h.forEach(wt),n.__h=n.__h.filter(function(r){return!r.__||tn(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],j.__e(r,n.__v)}}),Vn&&Vn(e,t)},j.unmount=function(e){Un&&Un(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{wt(r)}catch(i){t=i}}),n.__H=void 0,t&&j.__e(t,n.__v))};var zn=typeof requestAnimationFrame=="function";function fi(e){var t,n=function(){clearTimeout(r),zn&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);zn&&(t=requestAnimationFrame(n))}function wt(e){var t=J,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),J=t}function tn(e){var t=J;e.__c=e.__(),J=t}function yr(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Er(e,t){return typeof t=="function"?t(e):t}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function di(e,t,n){return t&&_i(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}var Wn="(prefers-reduced-motion: reduce)",Fe=1,vi=2,ze=3,He=4,ut=5,At=6,Ct=7,hi={CREATED:Fe,MOUNTED:vi,IDLE:ze,MOVING:He,SCROLLING:ut,DRAGGING:At,DESTROYED:Ct};function be(e){e.length=0}function Pe(e,t,n){return Array.prototype.slice.call(e,t,n)}function G(e){return e.bind.apply(e,[null].concat(Pe(arguments,1)))}var Sr=setTimeout,nn=function(){};function Hn(e){return requestAnimationFrame(e)}function Mt(e,t){return typeof t===e}function tt(e){return!mn(e)&&Mt("object",e)}var hn=Array.isArray,br=G(Mt,"function"),Te=G(Mt,"string"),lt=G(Mt,"undefined");function mn(e){return e===null}function wr(e){try{return e instanceof(e.ownerDocument.defaultView||window).HTMLElement}catch{return!1}}function ft(e){return hn(e)?e:[e]}function ce(e,t){ft(e).forEach(t)}function gn(e,t){return e.indexOf(t)>-1}function Tt(e,t){return e.push.apply(e,ft(t)),e}function ye(e,t,n){e&&ce(t,function(r){r&&e.classList[n?"add":"remove"](r)})}function _e(e,t){ye(e,Te(t)?t.split(" "):t,!0)}function _t(e,t){ce(t,e.appendChild.bind(e))}function pn(e,t){ce(e,function(n){var r=(t||n).parentNode;r&&r.insertBefore(n,t)})}function nt(e,t){return wr(e)&&(e.msMatchesSelector||e.matches).call(e,t)}function Ar(e,t){var n=e?Pe(e.children):[];return t?n.filter(function(r){return nt(r,t)}):n}function dt(e,t){return t?Ar(e,t)[0]:e.firstElementChild}var rt=Object.keys;function De(e,t,n){return e&&(n?rt(e).reverse():rt(e)).forEach(function(r){r!=="__proto__"&&t(e[r],r)}),e}function it(e){return Pe(arguments,1).forEach(function(t){De(t,function(n,r){e[r]=t[r]})}),e}function Ae(e){return Pe(arguments,1).forEach(function(t){De(t,function(n,r){hn(n)?e[r]=n.slice():tt(n)?e[r]=Ae({},tt(e[r])?e[r]:{},n):e[r]=n})}),e}function Gn(e,t){ce(t||rt(e),function(n){delete e[n]})}function de(e,t){ce(e,function(n){ce(t,function(r){n&&n.removeAttribute(r)})})}function V(e,t,n){tt(t)?De(t,function(r,i){V(e,i,r)}):ce(e,function(r){mn(n)||n===""?de(r,t):r.setAttribute(t,String(n))})}function Ve(e,t,n){var r=document.createElement(e);return t&&(Te(t)?_e(r,t):V(r,t)),n&&_t(n,r),r}function ue(e,t,n){if(lt(n))return getComputedStyle(e)[t];mn(n)||(e.style[t]=""+n)}function ot(e,t){ue(e,"display",t)}function Tr(e){e.setActive&&e.setActive()||e.focus({preventScroll:!0})}function le(e,t){return e.getAttribute(t)}function Kn(e,t){return e&&e.classList.contains(t)}function ae(e){return e.getBoundingClientRect()}function Oe(e){ce(e,function(t){t&&t.parentNode&&t.parentNode.removeChild(t)})}function Nr(e){return dt(new DOMParser().parseFromString(e,"text/html").body)}function he(e,t){e.preventDefault(),t&&(e.stopPropagation(),e.stopImmediatePropagation())}function Ir(e,t){return e&&e.querySelector(t)}function yn(e,t){return t?Pe(e.querySelectorAll(t)):[]}function Ee(e,t){ye(e,t,!1)}function rn(e){return e.timeStamp}function Le(e){return Te(e)?e:e?e+"px":""}var vt="splide",En="data-"+vt;function Je(e,t){if(!e)throw new Error("["+vt+"] "+(t||""))}var Ne=Math.min,Rt=Math.max,Lt=Math.floor,at=Math.ceil,re=Math.abs;function Pr(e,t,n){return re(e-t)<n}function Nt(e,t,n,r){var i=Ne(t,n),o=Rt(t,n);return r?i<e&&e<o:i<=e&&e<=o}function $e(e,t,n){var r=Ne(t,n),i=Rt(t,n);return Ne(Rt(r,e),i)}function on(e){return+(e>0)-+(e<0)}function an(e,t){return ce(t,function(n){e=e.replace("%s",""+n)}),e}function Sn(e){return e<10?"0"+e:""+e}var Yn={};function mi(e){return""+e+Sn(Yn[e]=(Yn[e]||0)+1)}function Cr(){var e=[];function t(a,c,l,u){i(a,c,function(f,s,h){var d="addEventListener"in f,v=d?f.removeEventListener.bind(f,s,l,u):f.removeListener.bind(f,l);d?f.addEventListener(s,l,u):f.addListener(l),e.push([f,s,h,l,v])})}function n(a,c,l){i(a,c,function(u,f,s){e=e.filter(function(h){return h[0]===u&&h[1]===f&&h[2]===s&&(!l||h[3]===l)?(h[4](),!1):!0})})}function r(a,c,l){var u,f=!0;return typeof CustomEvent=="function"?u=new CustomEvent(c,{bubbles:f,detail:l}):(u=document.createEvent("CustomEvent"),u.initCustomEvent(c,f,!1,l)),a.dispatchEvent(u),u}function i(a,c,l){ce(a,function(u){u&&ce(c,function(f){f.split(" ").forEach(function(s){var h=s.split(".");l(u,h[0],h[1])})})})}function o(){e.forEach(function(a){a[4]()}),be(e)}return{bind:t,unbind:n,dispatch:r,destroy:o}}var Me="mounted",Jn="ready",Ie="move",ht="moved",Rr="click",gi="active",pi="inactive",yi="visible",Ei="hidden",Z="refresh",ie="updated",st="resize",bn="resized",Si="drag",bi="dragging",wi="dragged",wn="scroll",Ge="scrolled",Ai="overflow",Lr="destroy",Ti="arrows:mounted",Ni="arrows:updated",Ii="pagination:mounted",Pi="pagination:updated",kr="navigation:mounted",Dr="autoplay:play",Ci="autoplay:playing",Or="autoplay:pause",xr="lazyload:loaded",Mr="sk",$r="sh",kt="ei";function Y(e){var t=e?e.event.bus:document.createDocumentFragment(),n=Cr();function r(o,a){n.bind(t,ft(o).join(" "),function(c){a.apply(a,hn(c.detail)?c.detail:[])})}function i(o){n.dispatch(t,o,Pe(arguments,1))}return e&&e.event.on(Lr,n.destroy),it(n,{bus:t,on:r,off:G(n.unbind,t),emit:i})}function $t(e,t,n,r){var i=Date.now,o,a=0,c,l=!0,u=0;function f(){if(!l){if(a=e?Ne((i()-o)/e,1):1,n&&n(a),a>=1&&(t(),o=i(),r&&++u>=r))return h();c=Hn(f)}}function s(m){m||v(),o=i()-(m?a*e:0),l=!1,c=Hn(f)}function h(){l=!0}function d(){o=i(),a=0,n&&n(a)}function v(){c&&cancelAnimationFrame(c),a=0,c=0,l=!0}function _(m){e=m}function g(){return l}return{start:s,rewind:d,pause:h,cancel:v,set:_,isPaused:g}}function Ri(e){var t=e;function n(i){t=i}function r(i){return gn(ft(i),t)}return{set:n,is:r}}function Li(e,t){var n=$t(0,e,null,1);return function(){n.isPaused()&&n.start()}}function ki(e,t,n){var r=e.state,i=n.breakpoints||{},o=n.reducedMotion||{},a=Cr(),c=[];function l(){var v=n.mediaQuery==="min";rt(i).sort(function(_,g){return v?+_-+g:+g-+_}).forEach(function(_){f(i[_],"("+(v?"min":"max")+"-width:"+_+"px)")}),f(o,Wn),s()}function u(v){v&&a.destroy()}function f(v,_){var g=matchMedia(_);a.bind(g,"change",s),c.push([v,g])}function s(){var v=r.is(Ct),_=n.direction,g=c.reduce(function(m,y){return Ae(m,y[1].matches?y[0]:{})},{});Gn(n),d(g),n.destroy?e.destroy(n.destroy==="completely"):v?(u(!0),e.mount()):_!==n.direction&&e.refresh()}function h(v){matchMedia(Wn).matches&&(v?Ae(n,o):Gn(n,rt(o)))}function d(v,_,g){Ae(n,v),_&&Ae(Object.getPrototypeOf(n),v),(g||!r.is(Fe))&&e.emit(ie,n)}return{setup:l,destroy:u,reduce:h,set:d}}var qt="Arrow",Ft=qt+"Left",Vt=qt+"Right",qr=qt+"Up",Fr=qt+"Down",Xn="rtl",Ut="ttb",Kt={width:["height"],left:["top","right"],right:["bottom","left"],x:["y"],X:["Y"],Y:["X"],ArrowLeft:[qr,Vt],ArrowRight:[Fr,Ft]};function Di(e,t,n){function r(o,a,c){c=c||n.direction;var l=c===Xn&&!a?1:c===Ut?0:-1;return Kt[o]&&Kt[o][l]||o.replace(/width|left|right/i,function(u,f){var s=Kt[u.toLowerCase()][l]||u;return f>0?s.charAt(0).toUpperCase()+s.slice(1):s})}function i(o){return o*(n.direction===Xn?1:-1)}return{resolve:r,orient:i}}var Se="role",Ue="tabindex",Oi="disabled",fe="aria-",mt=fe+"controls",Vr=fe+"current",jn=fe+"selected",se=fe+"label",An=fe+"labelledby",Ur=fe+"hidden",Tn=fe+"orientation",ct=fe+"roledescription",Zn=fe+"live",Qn=fe+"busy",er=fe+"atomic",Nn=[Se,Ue,Oi,mt,Vr,se,An,Ur,Tn,ct],ve=vt+"__",Ce="is-",Yt=vt,tr=ve+"track",xi=ve+"list",Bt=ve+"slide",Br=Bt+"--clone",Mi=Bt+"__container",In=ve+"arrows",zt=ve+"arrow",zr=zt+"--prev",Wr=zt+"--next",Wt=ve+"pagination",Hr=Wt+"__page",$i=ve+"progress",qi=$i+"__bar",Fi=ve+"toggle",Vi=ve+"spinner",Ui=ve+"sr",Bi=Ce+"initialized",xe=Ce+"active",Gr=Ce+"prev",Kr=Ce+"next",sn=Ce+"visible",cn=Ce+"loading",Yr=Ce+"focus-in",Jr=Ce+"overflow",zi=[xe,sn,Gr,Kr,cn,Yr,Jr],Wi={slide:Bt,clone:Br,arrows:In,arrow:zt,prev:zr,next:Wr,pagination:Wt,page:Hr,spinner:Vi};function Hi(e,t){if(br(e.closest))return e.closest(t);for(var n=e;n&&n.nodeType===1&&!nt(n,t);)n=n.parentElement;return n}var Gi=5,nr=200,Xr="touchstart mousedown",Jt="touchmove mousemove",Xt="touchend touchcancel mouseup click";function Ki(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=e.root,c=n.i18n,l={},u=[],f=[],s=[],h,d,v;function _(){p(),w(),y()}function g(){i(Z,m),i(Z,_),i(ie,y),o(document,Xr+" keydown",function(E){v=E.type==="keydown"},{capture:!0}),o(a,"focusin",function(){ye(a,Yr,!!v)})}function m(E){var R=Nn.concat("style");be(u),Ee(a,f),Ee(h,s),de([h,d],R),de(a,E?R:["style",ct])}function y(){Ee(a,f),Ee(h,s),f=T(Yt),s=T(tr),_e(a,f),_e(h,s),V(a,se,n.label),V(a,An,n.labelledby)}function p(){h=P("."+tr),d=dt(h,"."+xi),Je(h&&d,"A track/list element is missing."),Tt(u,Ar(d,"."+Bt+":not(."+Br+")")),De({arrows:In,pagination:Wt,prev:zr,next:Wr,bar:qi,toggle:Fi},function(E,R){l[R]=P("."+E)}),it(l,{root:a,track:h,list:d,slides:u})}function w(){var E=a.id||mi(vt),R=n.role;a.id=E,h.id=h.id||E+"-track",d.id=d.id||E+"-list",!le(a,Se)&&a.tagName!=="SECTION"&&R&&V(a,Se,R),V(a,ct,c.carousel),V(d,Se,"presentation")}function P(E){var R=Ir(a,E);return R&&Hi(R,"."+Yt)===a?R:void 0}function T(E){return[E+"--"+n.type,E+"--"+n.direction,n.drag&&E+"--draggable",n.isNavigation&&E+"--nav",E===Yt&&xe]}return it(l,{setup:_,mount:g,destroy:m})}var We="slide",Ke="loop",gt="fade";function Yi(e,t,n,r){var i=Y(e),o=i.on,a=i.emit,c=i.bind,l=e.Components,u=e.root,f=e.options,s=f.isNavigation,h=f.updateOnMove,d=f.i18n,v=f.pagination,_=f.slideFocus,g=l.Direction.resolve,m=le(r,"style"),y=le(r,se),p=n>-1,w=dt(r,"."+Mi),P;function T(){p||(r.id=u.id+"-slide"+Sn(t+1),V(r,Se,v?"tabpanel":"group"),V(r,ct,d.slide),V(r,se,y||an(d.slideLabel,[t+1,e.length]))),E()}function E(){c(r,"click",G(a,Rr,q)),c(r,"keydown",G(a,Mr,q)),o([ht,$r,Ge],S),o(kr,M),h&&o(Ie,k)}function R(){P=!0,i.destroy(),Ee(r,zi),de(r,Nn),V(r,"style",m),V(r,se,y||"")}function M(){var x=e.splides.map(function(N){var $=N.splide.Components.Slides.getAt(t);return $?$.slide.id:""}).join(" ");V(r,se,an(d.slideX,(p?n:t)+1)),V(r,mt,x),V(r,Se,_?"button":""),_&&de(r,ct)}function k(){P||S()}function S(){if(!P){var x=e.index;A(),L(),ye(r,Gr,t===x-1),ye(r,Kr,t===x+1)}}function A(){var x=b();x!==Kn(r,xe)&&(ye(r,xe,x),V(r,Vr,s&&x||""),a(x?gi:pi,q))}function L(){var x=U(),N=!x&&(!b()||p);if(e.state.is([He,ut])||V(r,Ur,N||""),V(yn(r,f.focusableNodes||""),Ue,N?-1:""),_&&V(r,Ue,N?-1:0),x!==Kn(r,sn)&&(ye(r,sn,x),a(x?yi:Ei,q)),!x&&document.activeElement===r){var $=l.Slides.getAt(e.index);$&&Tr($.slide)}}function C(x,N,$){ue($&&w||r,x,N)}function b(){var x=e.index;return x===t||f.cloneStatus&&x===n}function U(){if(e.is(gt))return b();var x=ae(l.Elements.track),N=ae(r),$=g("left",!0),z=g("right",!0);return Lt(x[$])<=at(N[$])&&Lt(N[z])<=at(x[z])}function B(x,N){var $=re(x-t);return!p&&(f.rewind||e.is(Ke))&&($=Ne($,e.length-$)),$<=N}var q={index:t,slideIndex:n,slide:r,container:w,isClone:p,mount:T,destroy:R,update:S,style:C,isWithin:B};return q}function Ji(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=r.bind,c=t.Elements,l=c.slides,u=c.list,f=[];function s(){h(),i(Z,d),i(Z,h)}function h(){l.forEach(function(S,A){_(S,A,-1)})}function d(){P(function(S){S.destroy()}),be(f)}function v(){P(function(S){S.update()})}function _(S,A,L){var C=Yi(e,A,L,S);C.mount(),f.push(C),f.sort(function(b,U){return b.index-U.index})}function g(S){return S?T(function(A){return!A.isClone}):f}function m(S){var A=t.Controller,L=A.toIndex(S),C=A.hasFocus()?1:n.perPage;return T(function(b){return Nt(b.index,L,L+C-1)})}function y(S){return T(S)[0]}function p(S,A){ce(S,function(L){if(Te(L)&&(L=Nr(L)),wr(L)){var C=l[A];C?pn(L,C):_t(u,L),_e(L,n.classes.slide),R(L,G(o,st))}}),o(Z)}function w(S){Oe(T(S).map(function(A){return A.slide})),o(Z)}function P(S,A){g(A).forEach(S)}function T(S){return f.filter(br(S)?S:function(A){return Te(S)?nt(A.slide,S):gn(ft(S),A.index)})}function E(S,A,L){P(function(C){C.style(S,A,L)})}function R(S,A){var L=yn(S,"img"),C=L.length;C?L.forEach(function(b){a(b,"load error",function(){--C||A()})}):A()}function M(S){return S?l.length:f.length}function k(){return f.length>n.perPage}return{mount:s,destroy:d,update:v,register:_,get:g,getIn:m,getAt:y,add:p,remove:w,forEach:P,filter:T,style:E,getLength:M,isEnough:k}}function Xi(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=r.emit,c=t.Slides,l=t.Direction.resolve,u=t.Elements,f=u.root,s=u.track,h=u.list,d=c.getAt,v=c.style,_,g,m;function y(){p(),o(window,"resize load",Li(G(a,st))),i([ie,Z],p),i(st,w)}function p(){_=n.direction===Ut,ue(f,"maxWidth",Le(n.width)),ue(s,l("paddingLeft"),P(!1)),ue(s,l("paddingRight"),P(!0)),w(!0)}function w(q){var x=ae(f);(q||g.width!==x.width||g.height!==x.height)&&(ue(s,"height",T()),v(l("marginRight"),Le(n.gap)),v("width",R()),v("height",M(),!0),g=x,a(bn),m!==(m=B())&&(ye(f,Jr,m),a(Ai,m)))}function P(q){var x=n.padding,N=l(q?"right":"left");return x&&Le(x[N]||(tt(x)?0:x))||"0px"}function T(){var q="";return _&&(q=E(),Je(q,"height or heightRatio is missing."),q="calc("+q+" - "+P(!1)+" - "+P(!0)+")"),q}function E(){return Le(n.height||ae(h).width*n.heightRatio)}function R(){return n.autoWidth?null:Le(n.fixedWidth)||(_?"":k())}function M(){return Le(n.fixedHeight)||(_?n.autoHeight?null:k():E())}function k(){var q=Le(n.gap);return"calc((100%"+(q&&" + "+q)+")/"+(n.perPage||1)+(q&&" - "+q)+")"}function S(){return ae(h)[l("width")]}function A(q,x){var N=d(q||0);return N?ae(N.slide)[l("width")]+(x?0:b()):0}function L(q,x){var N=d(q);if(N){var $=ae(N.slide)[l("right")],z=ae(h)[l("left")];return re($-z)+(x?0:b())}return 0}function C(q){return L(e.length-1)-L(0)+A(0,q)}function b(){var q=d(0);return q&&parseFloat(ue(q.slide,l("marginRight")))||0}function U(q){return parseFloat(ue(s,l("padding"+(q?"Right":"Left"))))||0}function B(){return e.is(gt)||C(!0)>S()}return{mount:y,resize:w,listSize:S,slideSize:A,sliderSize:C,totalSize:L,getPadding:U,isOverflow:B}}var ji=2;function Zi(e,t,n){var r=Y(e),i=r.on,o=t.Elements,a=t.Slides,c=t.Direction.resolve,l=[],u;function f(){i(Z,s),i([ie,st],d),(u=g())&&(v(u),t.Layout.resize(!0))}function s(){h(),f()}function h(){Oe(l),be(l),r.destroy()}function d(){var m=g();u!==m&&(u<m||!m)&&r.emit(Z)}function v(m){var y=a.get().slice(),p=y.length;if(p){for(;y.length<m;)Tt(y,y);Tt(y.slice(-m),y.slice(0,m)).forEach(function(w,P){var T=P<m,E=_(w.slide,P);T?pn(E,y[0].slide):_t(o.list,E),Tt(l,E),a.register(E,P-m+(T?0:p),w.index)})}}function _(m,y){var p=m.cloneNode(!0);return _e(p,n.classes.clone),p.id=e.root.id+"-clone"+Sn(y+1),p}function g(){var m=n.clones;if(!e.is(Ke))m=0;else if(lt(m)){var y=n[c("fixedWidth")]&&t.Layout.slideSize(0),p=y&&at(ae(o.track)[c("width")]/y);m=p||n[c("autoWidth")]&&e.length||n.perPage*ji}return m}return{mount:f,destroy:h}}function Qi(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=e.state.set,c=t.Layout,l=c.slideSize,u=c.getPadding,f=c.totalSize,s=c.listSize,h=c.sliderSize,d=t.Direction,v=d.resolve,_=d.orient,g=t.Elements,m=g.list,y=g.track,p;function w(){p=t.Transition,i([Me,bn,ie,Z],P)}function P(){t.Controller.isBusy()||(t.Scroll.cancel(),E(e.index),t.Slides.update())}function T(N,$,z,ee){N!==$&&q(N>z)&&(S(),R(k(C(),N>z),!0)),a(He),o(Ie,$,z,N),p.start($,function(){a(ze),o(ht,$,z,N),ee&&ee()})}function E(N){R(L(N,!0))}function R(N,$){if(!e.is(gt)){var z=$?N:M(N);ue(m,"transform","translate"+v("X")+"("+z+"px)"),N!==z&&o($r)}}function M(N){if(e.is(Ke)){var $=A(N),z=$>t.Controller.getEnd(),ee=$<0;(ee||z)&&(N=k(N,z))}return N}function k(N,$){var z=N-B($),ee=h();return N-=_(ee*(at(re(z)/ee)||1))*($?1:-1),N}function S(){R(C(),!0),p.cancel()}function A(N){for(var $=t.Slides.get(),z=0,ee=1/0,Q=0;Q<$.length;Q++){var we=$[Q].index,I=re(L(we,!0)-N);if(I<=ee)ee=I,z=we;else break}return z}function L(N,$){var z=_(f(N-1)-U(N));return $?b(z):z}function C(){var N=v("left");return ae(m)[N]-ae(y)[N]+_(u(!1))}function b(N){return n.trimSpace&&e.is(We)&&(N=$e(N,0,_(h(!0)-s()))),N}function U(N){var $=n.focus;return $==="center"?(s()-l(N,!0))/2:+$*l(N)||0}function B(N){return L(N?t.Controller.getEnd():0,!!n.trimSpace)}function q(N){var $=_(k(C(),N));return N?$>=0:$<=m[v("scrollWidth")]-ae(y)[v("width")]}function x(N,$){$=lt($)?C():$;var z=N!==!0&&_($)<_(B(!1)),ee=N!==!1&&_($)>_(B(!0));return z||ee}return{mount:w,move:T,jump:E,translate:R,shift:k,cancel:S,toIndex:A,toPosition:L,getPosition:C,getLimit:B,exceededLimit:x,reposition:P}}function eo(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=t.Move,c=a.getPosition,l=a.getLimit,u=a.toPosition,f=t.Slides,s=f.isEnough,h=f.getLength,d=n.omitEnd,v=e.is(Ke),_=e.is(We),g=G(C,!1),m=G(C,!0),y=n.start||0,p,w=y,P,T,E;function R(){M(),i([ie,Z,kt],M),i(bn,k)}function M(){P=h(!0),T=n.perMove,E=n.perPage,p=q();var I=$e(y,0,d?p:P-1);I!==y&&(y=I,a.reposition())}function k(){p!==q()&&o(kt)}function S(I,H,ne){if(!we()){var X=L(I),te=B(X);te>-1&&(H||te!==y)&&(z(te),a.move(X,te,w,ne))}}function A(I,H,ne,X){t.Scroll.scroll(I,H,ne,function(){var te=B(a.toIndex(c()));z(d?Ne(te,p):te),X&&X()})}function L(I){var H=y;if(Te(I)){var ne=I.match(/([+\-<>])(\d+)?/)||[],X=ne[1],te=ne[2];X==="+"||X==="-"?H=b(y+ +(""+X+(+te||1)),y):X===">"?H=te?x(+te):g(!0):X==="<"&&(H=m(!0))}else H=v?I:$e(I,0,p);return H}function C(I,H){var ne=T||(Q()?1:E),X=b(y+ne*(I?-1:1),y,!(T||Q()));return X===-1&&_&&!Pr(c(),l(!I),1)?I?0:p:H?X:B(X)}function b(I,H,ne){if(s()||Q()){var X=U(I);X!==I&&(H=I,I=X,ne=!1),I<0||I>p?!T&&(Nt(0,I,H,!0)||Nt(p,H,I,!0))?I=x(N(I)):v?I=ne?I<0?-(P%E||E):P:I:n.rewind?I=I<0?p:0:I=-1:ne&&I!==H&&(I=x(N(H)+(I<H?-1:1)))}else I=-1;return I}function U(I){if(_&&n.trimSpace==="move"&&I!==y)for(var H=c();H===u(I,!0)&&Nt(I,0,e.length-1,!n.rewind);)I<y?--I:++I;return I}function B(I){return v?(I+P)%P||0:I}function q(){for(var I=P-(Q()||v&&T?1:E);d&&I-- >0;)if(u(P-1,!0)!==u(I,!0)){I++;break}return $e(I,0,P-1)}function x(I){return $e(Q()?I:E*I,0,p)}function N(I){return Q()?Ne(I,p):Lt((I>=p?P-1:I)/E)}function $(I){var H=a.toIndex(I);return _?$e(H,0,p):H}function z(I){I!==y&&(w=y,y=I)}function ee(I){return I?w:y}function Q(){return!lt(n.focus)||n.isNavigation}function we(){return e.state.is([He,ut])&&!!n.waitForTransition}return{mount:R,go:S,scroll:A,getNext:g,getPrev:m,getAdjacent:C,getEnd:q,setIndex:z,getIndex:ee,toIndex:x,toPage:N,toDest:$,hasFocus:Q,isBusy:we}}var to="http://www.w3.org/2000/svg",no="m15.5 0.932-4.3 4.38 14.5 14.6-14.5 14.5 4.3 4.4 14.6-14.6 4.4-4.3-4.4-4.4-14.6-14.6z",yt=40;function ro(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=r.emit,c=n.classes,l=n.i18n,u=t.Elements,f=t.Controller,s=u.arrows,h=u.track,d=s,v=u.prev,_=u.next,g,m,y={};function p(){P(),i(ie,w)}function w(){T(),p()}function P(){var A=n.arrows;A&&!(v&&_)&&M(),v&&_&&(it(y,{prev:v,next:_}),ot(d,A?"":"none"),_e(d,m=In+"--"+n.direction),A&&(E(),S(),V([v,_],mt,h.id),a(Ti,v,_)))}function T(){r.destroy(),Ee(d,m),g?(Oe(s?[v,_]:d),v=_=null):de([v,_],Nn)}function E(){i([Me,ht,Z,Ge,kt],S),o(_,"click",G(R,">")),o(v,"click",G(R,"<"))}function R(A){f.go(A,!0)}function M(){d=s||Ve("div",c.arrows),v=k(!0),_=k(!1),g=!0,_t(d,[v,_]),!s&&pn(d,h)}function k(A){var L='<button class="'+c.arrow+" "+(A?c.prev:c.next)+'" type="button"><svg xmlns="'+to+'" viewBox="0 0 '+yt+" "+yt+'" width="'+yt+'" height="'+yt+'" focusable="false"><path d="'+(n.arrowPath||no)+'" />';return Nr(L)}function S(){if(v&&_){var A=e.index,L=f.getPrev(),C=f.getNext(),b=L>-1&&A<L?l.last:l.prev,U=C>-1&&A>C?l.first:l.next;v.disabled=L<0,_.disabled=C<0,V(v,se,b),V(_,se,U),a(Ni,v,_,L,C)}}return{arrows:y,mount:p,destroy:T,update:S}}var io=En+"-interval";function oo(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=r.emit,c=$t(n.interval,e.go.bind(e,">"),E),l=c.isPaused,u=t.Elements,f=t.Elements,s=f.root,h=f.toggle,d=n.autoplay,v,_,g=d==="pause";function m(){d&&(y(),h&&V(h,mt,u.track.id),g||p(),T())}function y(){n.pauseOnHover&&o(s,"mouseenter mouseleave",function(M){v=M.type==="mouseenter",P()}),n.pauseOnFocus&&o(s,"focusin focusout",function(M){_=M.type==="focusin",P()}),h&&o(h,"click",function(){g?p():w(!0)}),i([Ie,wn,Z],c.rewind),i(Ie,R)}function p(){l()&&t.Slides.isEnough()&&(c.start(!n.resetProgress),_=v=g=!1,T(),a(Dr))}function w(M){M===void 0&&(M=!0),g=!!M,T(),l()||(c.pause(),a(Or))}function P(){g||(v||_?w(!1):p())}function T(){h&&(ye(h,xe,!g),V(h,se,n.i18n[g?"play":"pause"]))}function E(M){var k=u.bar;k&&ue(k,"width",M*100+"%"),a(Ci,M)}function R(M){var k=t.Slides.getAt(M);c.set(k&&+le(k.slide,io)||n.interval)}return{mount:m,destroy:c.cancel,play:p,pause:w,isPaused:l}}function ao(e,t,n){var r=Y(e),i=r.on;function o(){n.cover&&(i(xr,G(c,!0)),i([Me,ie,Z],G(a,!0)))}function a(l){t.Slides.forEach(function(u){var f=dt(u.container||u.slide,"img");f&&f.src&&c(l,f,u)})}function c(l,u,f){f.style("background",l?'center/cover no-repeat url("'+u.src+'")':"",!0),ot(u,l?"none":"")}return{mount:o,destroy:G(a,!1)}}var so=10,co=600,uo=.6,lo=1.5,fo=800;function _o(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=e.state.set,c=t.Move,l=c.getPosition,u=c.getLimit,f=c.exceededLimit,s=c.translate,h=e.is(We),d,v,_=1;function g(){i(Ie,w),i([ie,Z],P)}function m(E,R,M,k,S){var A=l();if(w(),M&&(!h||!f())){var L=t.Layout.sliderSize(),C=on(E)*L*Lt(re(E)/L)||0;E=c.toPosition(t.Controller.toDest(E%L))+C}var b=Pr(A,E,1);_=1,R=b?0:R||Rt(re(E-A)/lo,fo),v=k,d=$t(R,y,G(p,A,E,S),1),a(ut),o(wn),d.start()}function y(){a(ze),v&&v(),o(Ge)}function p(E,R,M,k){var S=l(),A=E+(R-E)*T(k),L=(A-S)*_;s(S+L),h&&!M&&f()&&(_*=uo,re(L)<so&&m(u(f(!0)),co,!1,v,!0))}function w(){d&&d.cancel()}function P(){d&&!d.isPaused()&&(w(),y())}function T(E){var R=n.easingFunc;return R?R(E):1-Math.pow(1-E,4)}return{mount:g,destroy:w,scroll:m,cancel:P}}var qe={passive:!1,capture:!0};function vo(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=r.bind,c=r.unbind,l=e.state,u=t.Move,f=t.Scroll,s=t.Controller,h=t.Elements.track,d=t.Media.reduce,v=t.Direction,_=v.resolve,g=v.orient,m=u.getPosition,y=u.exceededLimit,p,w,P,T,E,R=!1,M,k,S;function A(){a(h,Jt,nn,qe),a(h,Xt,nn,qe),a(h,Xr,C,qe),a(h,"click",B,{capture:!0}),a(h,"dragstart",he),i([Me,ie],L)}function L(){var D=n.drag;Ln(!D),T=D==="free"}function C(D){if(M=!1,!k){var K=te(D);X(D.target)&&(K||!D.button)&&(s.isBusy()?he(D,!0):(S=K?h:window,E=l.is([He,ut]),P=null,a(S,Jt,b,qe),a(S,Xt,U,qe),u.cancel(),f.cancel(),q(D)))}}function b(D){if(l.is(At)||(l.set(At),o(Si)),D.cancelable)if(E){u.translate(p+ne(Q(D)));var K=we(D)>nr,Re=R!==(R=y());(K||Re)&&q(D),M=!0,o(bi),he(D)}else $(D)&&(E=N(D),he(D))}function U(D){l.is(At)&&(l.set(ze),o(wi)),E&&(x(D),he(D)),c(S,Jt,b),c(S,Xt,U),E=!1}function B(D){!k&&M&&he(D,!0)}function q(D){P=w,w=D,p=m()}function x(D){var K=z(D),Re=ee(K),Ye=n.rewind&&n.rewindByDrag;d(!1),T?s.scroll(Re,0,n.snap):e.is(gt)?s.go(g(on(K))<0?Ye?"<":"-":Ye?">":"+"):e.is(We)&&R&&Ye?s.go(y(!0)?">":"<"):s.go(s.toDest(Re),!0),d(!0)}function N(D){var K=n.dragMinThreshold,Re=tt(K),Ye=Re&&K.mouse||0,Qr=(Re?K.touch:+K)||10;return re(Q(D))>(te(D)?Qr:Ye)}function $(D){return re(Q(D))>re(Q(D,!0))}function z(D){if(e.is(Ke)||!R){var K=we(D);if(K&&K<nr)return Q(D)/K}return 0}function ee(D){return m()+on(D)*Ne(re(D)*(n.flickPower||600),T?1/0:t.Layout.listSize()*(n.flickMaxPages||1))}function Q(D,K){return H(D,K)-H(I(D),K)}function we(D){return rn(D)-rn(I(D))}function I(D){return w===D&&P||w}function H(D,K){return(te(D)?D.changedTouches[0]:D)["page"+_(K?"Y":"X")]}function ne(D){return D/(R&&e.is(We)?Gi:1)}function X(D){var K=n.noDrag;return!nt(D,"."+Hr+", ."+zt)&&(!K||!nt(D,K))}function te(D){return typeof TouchEvent<"u"&&D instanceof TouchEvent}function Zr(){return E}function Ln(D){k=D}return{mount:A,disable:Ln,isDragging:Zr}}var ho={Spacebar:" ",Right:Vt,Left:Ft,Up:qr,Down:Fr};function Pn(e){return e=Te(e)?e:e.key,ho[e]||e}var rr="keydown";function mo(e,t,n){var r=Y(e),i=r.on,o=r.bind,a=r.unbind,c=e.root,l=t.Direction.resolve,u,f;function s(){h(),i(ie,d),i(ie,h),i(Ie,_)}function h(){var m=n.keyboard;m&&(u=m==="global"?window:c,o(u,rr,g))}function d(){a(u,rr)}function v(m){f=m}function _(){var m=f;f=!0,Sr(function(){f=m})}function g(m){if(!f){var y=Pn(m);y===l(Ft)?e.go("<"):y===l(Vt)&&e.go(">")}}return{mount:s,destroy:d,disable:v}}var Xe=En+"-lazy",It=Xe+"-srcset",go="["+Xe+"], ["+It+"]";function po(e,t,n){var r=Y(e),i=r.on,o=r.off,a=r.bind,c=r.emit,l=n.lazyLoad==="sequential",u=[ht,Ge],f=[];function s(){n.lazyLoad&&(h(),i(Z,h))}function h(){be(f),d(),l?m():(o(u),i(u,v),v())}function d(){t.Slides.forEach(function(y){yn(y.slide,go).forEach(function(p){var w=le(p,Xe),P=le(p,It);if(w!==p.src||P!==p.srcset){var T=n.classes.spinner,E=p.parentElement,R=dt(E,"."+T)||Ve("span",T,E);f.push([p,y,R]),p.src||ot(p,"none")}})})}function v(){f=f.filter(function(y){var p=n.perPage*((n.preloadPages||1)+1)-1;return y[1].isWithin(e.index,p)?_(y):!0}),f.length||o(u)}function _(y){var p=y[0];_e(y[1].slide,cn),a(p,"load error",G(g,y)),V(p,"src",le(p,Xe)),V(p,"srcset",le(p,It)),de(p,Xe),de(p,It)}function g(y,p){var w=y[0],P=y[1];Ee(P.slide,cn),p.type!=="error"&&(Oe(y[2]),ot(w,""),c(xr,w,P),c(st)),l&&m()}function m(){f.length&&_(f.shift())}return{mount:s,destroy:G(be,f),check:v}}function yo(e,t,n){var r=Y(e),i=r.on,o=r.emit,a=r.bind,c=t.Slides,l=t.Elements,u=t.Controller,f=u.hasFocus,s=u.getIndex,h=u.go,d=t.Direction.resolve,v=l.pagination,_=[],g,m;function y(){p(),i([ie,Z,kt],y);var k=n.pagination;v&&ot(v,k?"":"none"),k&&(i([Ie,wn,Ge],M),w(),M(),o(Ii,{list:g,items:_},R(e.index)))}function p(){g&&(Oe(v?Pe(g.children):g),Ee(g,m),be(_),g=null),r.destroy()}function w(){var k=e.length,S=n.classes,A=n.i18n,L=n.perPage,C=f()?u.getEnd()+1:at(k/L);g=v||Ve("ul",S.pagination,l.track.parentElement),_e(g,m=Wt+"--"+E()),V(g,Se,"tablist"),V(g,se,A.select),V(g,Tn,E()===Ut?"vertical":"");for(var b=0;b<C;b++){var U=Ve("li",null,g),B=Ve("button",{class:S.page,type:"button"},U),q=c.getIn(b).map(function(N){return N.slide.id}),x=!f()&&L>1?A.pageX:A.slideX;a(B,"click",G(P,b)),n.paginationKeyboard&&a(B,"keydown",G(T,b)),V(U,Se,"presentation"),V(B,Se,"tab"),V(B,mt,q.join(" ")),V(B,se,an(x,b+1)),V(B,Ue,-1),_.push({li:U,button:B,page:b})}}function P(k){h(">"+k,!0)}function T(k,S){var A=_.length,L=Pn(S),C=E(),b=-1;L===d(Vt,!1,C)?b=++k%A:L===d(Ft,!1,C)?b=(--k+A)%A:L==="Home"?b=0:L==="End"&&(b=A-1);var U=_[b];U&&(Tr(U.button),h(">"+b),he(S,!0))}function E(){return n.paginationDirection||n.direction}function R(k){return _[u.toPage(k)]}function M(){var k=R(s(!0)),S=R(s());if(k){var A=k.button;Ee(A,xe),de(A,jn),V(A,Ue,-1)}if(S){var L=S.button;_e(L,xe),V(L,jn,!0),V(L,Ue,"")}o(Pi,{list:g,items:_},k,S)}return{items:_,mount:y,destroy:p,getAt:R,update:M}}var Eo=[" ","Enter"];function So(e,t,n){var r=n.isNavigation,i=n.slideFocus,o=[];function a(){e.splides.forEach(function(v){v.isParent||(u(e,v.splide),u(v.splide,e))}),r&&f()}function c(){o.forEach(function(v){v.destroy()}),be(o)}function l(){c(),a()}function u(v,_){var g=Y(v);g.on(Ie,function(m,y,p){_.go(_.is(Ke)?p:m)}),o.push(g)}function f(){var v=Y(e),_=v.on;_(Rr,h),_(Mr,d),_([Me,ie],s),o.push(v),v.emit(kr,e.splides)}function s(){V(t.Elements.list,Tn,n.direction===Ut?"vertical":"")}function h(v){e.go(v.index)}function d(v,_){gn(Eo,Pn(_))&&(h(v),he(_))}return{setup:G(t.Media.set,{slideFocus:lt(i)?r:i},!0),mount:a,destroy:c,remount:l}}function bo(e,t,n){var r=Y(e),i=r.bind,o=0;function a(){n.wheel&&i(t.Elements.track,"wheel",c,qe)}function c(u){if(u.cancelable){var f=u.deltaY,s=f<0,h=rn(u),d=n.wheelMinThreshold||0,v=n.wheelSleep||0;re(f)>d&&h-o>v&&(e.go(s?"<":">"),o=h),l(s)&&he(u)}}function l(u){return!n.releaseWheel||e.state.is(He)||t.Controller.getAdjacent(u)!==-1}return{mount:a}}var wo=90;function Ao(e,t,n){var r=Y(e),i=r.on,o=t.Elements.track,a=n.live&&!n.isNavigation,c=Ve("span",Ui),l=$t(wo,G(f,!1));function u(){a&&(h(!t.Autoplay.isPaused()),V(o,er,!0),c.textContent="…",i(Dr,G(h,!0)),i(Or,G(h,!1)),i([ht,Ge],G(f,!0)))}function f(d){V(o,Qn,d),d?(_t(o,c),l.start()):(Oe(c),l.cancel())}function s(){de(o,[Zn,er,Qn]),Oe(c)}function h(d){a&&V(o,Zn,d?"off":"polite")}return{mount:u,disable:h,destroy:s}}var To=Object.freeze({__proto__:null,Media:ki,Direction:Di,Elements:Ki,Slides:Ji,Layout:Xi,Clones:Zi,Move:Qi,Controller:eo,Arrows:ro,Autoplay:oo,Cover:ao,Scroll:_o,Drag:vo,Keyboard:mo,LazyLoad:po,Pagination:yo,Sync:So,Wheel:bo,Live:Ao}),No={prev:"Previous slide",next:"Next slide",first:"Go to first slide",last:"Go to last slide",slideX:"Go to slide %s",pageX:"Go to page %s",play:"Start autoplay",pause:"Pause autoplay",carousel:"carousel",slide:"slide",select:"Select a slide to show",slideLabel:"%s of %s"},Io={type:"slide",role:"region",speed:400,perPage:1,cloneStatus:!0,arrows:!0,pagination:!0,paginationKeyboard:!0,interval:5e3,pauseOnHover:!0,pauseOnFocus:!0,resetProgress:!0,easing:"cubic-bezier(0.25, 1, 0.5, 1)",drag:!0,direction:"ltr",trimSpace:!0,focusableNodes:"a, button, textarea, input, select, iframe",live:!0,classes:Wi,i18n:No,reducedMotion:{speed:0,rewindSpeed:0,autoplay:"pause"}};function Po(e,t,n){var r=t.Slides;function i(){Y(e).on([Me,Z],o)}function o(){r.forEach(function(c){c.style("transform","translateX(-"+100*c.index+"%)")})}function a(c,l){r.style("transition","opacity "+n.speed+"ms "+n.easing),Sr(l)}return{mount:i,start:a,cancel:nn}}function Co(e,t,n){var r=t.Move,i=t.Controller,o=t.Scroll,a=t.Elements.list,c=G(ue,a,"transition"),l;function u(){Y(e).bind(a,"transitionend",function(d){d.target===a&&l&&(s(),l())})}function f(d,v){var _=r.toPosition(d,!0),g=r.getPosition(),m=h(d);re(_-g)>=1&&m>=1?n.useScroll?o.scroll(_,m,!1,v):(c("transform "+m+"ms "+n.easing),r.translate(_,!0),l=v):(r.jump(d),v())}function s(){c(""),o.cancel()}function h(d){var v=n.rewindSpeed;if(e.is(We)&&v){var _=i.getIndex(!0),g=i.getEnd();if(_===0&&d>=g||_>=g&&d===0)return v}return n.speed}return{mount:u,start:f,cancel:s}}var Ro=(function(){function e(n,r){this.event=Y(),this.Components={},this.state=Ri(Fe),this.splides=[],this._o={},this._E={};var i=Te(n)?Ir(document,n):n;Je(i,i+" is invalid."),this.root=i,r=Ae({label:le(i,se)||"",labelledby:le(i,An)||""},Io,e.defaults,r||{});try{Ae(r,JSON.parse(le(i,En)))}catch{Je(!1,"Invalid JSON")}this._o=Object.create(Ae({},r))}var t=e.prototype;return t.mount=function(r,i){var o=this,a=this.state,c=this.Components;Je(a.is([Fe,Ct]),"Already mounted!"),a.set(Fe),this._C=c,this._T=i||this._T||(this.is(gt)?Po:Co),this._E=r||this._E;var l=it({},To,this._E,{Transition:this._T});return De(l,function(u,f){var s=u(o,c,o._o);c[f]=s,s.setup&&s.setup()}),De(c,function(u){u.mount&&u.mount()}),this.emit(Me),_e(this.root,Bi),a.set(ze),this.emit(Jn),this},t.sync=function(r){return this.splides.push({splide:r}),r.splides.push({splide:this,isParent:!0}),this.state.is(ze)&&(this._C.Sync.remount(),r.Components.Sync.remount()),this},t.go=function(r){return this._C.Controller.go(r),this},t.on=function(r,i){return this.event.on(r,i),this},t.off=function(r){return this.event.off(r),this},t.emit=function(r){var i;return(i=this.event).emit.apply(i,[r].concat(Pe(arguments,1))),this},t.add=function(r,i){return this._C.Slides.add(r,i),this},t.remove=function(r){return this._C.Slides.remove(r),this},t.is=function(r){return this._o.type===r},t.refresh=function(){return this.emit(Z),this},t.destroy=function(r){r===void 0&&(r=!0);var i=this.event,o=this.state;return o.is(Fe)?Y(this).on(Jn,this.destroy.bind(this,r)):(De(this._C,function(a){a.destroy&&a.destroy(r)},!0),i.emit(Lr),i.destroy(),r&&be(this.splides),o.set(Ct)),this},di(e,[{key:"options",get:function(){return this._o},set:function(r){this._C.Media.set(r,!0,!0)}},{key:"length",get:function(){return this._C.Slides.getLength(!0)}},{key:"index",get:function(){return this._C.Controller.getIndex()}}]),e})(),Cn=Ro;Cn.defaults={};Cn.STATES=hi;function ir(e,t){const n=t==="JPY"||t==="KRW";let i=new Intl.NumberFormat(void 0,{style:"currency",currency:t,minimumFractionDigits:n?0:2,maximumFractionDigits:n?0:2}).format(e);return t==="INR"&&(i=i.replace("₹","Rs. ")),i}const Lo="_phoenixCarousel_1cqsi_2",ko="_productCard_1cqsi_75",Do="_imageSection_1cqsi_96",Oo="_productImage_1cqsi_103",xo="_productImg_1cqsi_112",Mo="_seeMoreBtn_1cqsi_124",$o="_discountBadge_1cqsi_147",qo="_imagePagination_1cqsi_163",Fo="_paginationArrow_1cqsi_178",Vo="_paginationDots_1cqsi_200",Uo="_paginationDot_1cqsi_200",Bo="_paginationDotActive_1cqsi_237",zo="_contentSection_1cqsi_243",Wo="_productTitle_1cqsi_252",Ho="_priceSection_1cqsi_266",Go="_priceGroup_1cqsi_274",Ko="_currentPrice_1cqsi_282",Yo="_originalPrice_1cqsi_289",Jo="_discountPercent_1cqsi_296",Xo="_qtyGroup_1cqsi_305",jo="_qtyLabel_1cqsi_313",Zo="_qtyControls_1cqsi_321",Qo="_qtyBtn_1cqsi_329",ea="_qtyValue_1cqsi_353",ta="_variantsRow_1cqsi_367",na="_variantSelect_1cqsi_373",ra="_addToCartBtn_1cqsi_398",ia="_disabled_1cqsi_419",oa="_loading_1cqsi_424",aa="_spinner_1cqsi_429",sa="_carouselPagination_1cqsi_449",ca="_carouselArrow_1cqsi_463",ua="_carouselDots_1cqsi_486",la="_carouselDot_1cqsi_486",fa="_error_1cqsi_522",F={phoenixCarousel:Lo,productCard:ko,imageSection:Do,productImage:Oo,productImg:xo,seeMoreBtn:Mo,discountBadge:$o,imagePagination:qo,paginationArrow:Fo,paginationDots:Vo,paginationDot:Uo,paginationDotActive:Bo,contentSection:zo,productTitle:Wo,priceSection:Ho,priceGroup:Go,currentPrice:Ko,originalPrice:Yo,discountPercent:Jo,qtyGroup:Xo,qtyLabel:jo,qtyControls:Zo,qtyBtn:Qo,qtyValue:ea,variantsRow:ta,variantSelect:na,addToCartBtn:ra,disabled:ia,loading:oa,spinner:aa,carouselPagination:sa,carouselArrow:ca,carouselDots:ua,carouselDot:la,error:fa},_a=({product:e,position:t,currency:n,onClick:r,onAddToCart:i})=>{const[o,a]=oe(1),[c,l]=oe(!1),[u,f]=oe(0),[s,h]=oe(!1),[d,v]=oe(!1),_=en(null),g=et(()=>{const C=[e.image];if(e.images&&e.images.length>0){const b=e.images.filter(U=>U!==e.image);C.push(...b)}return C.filter(Boolean)},[e.image,e.images]),[m,y]=oe(()=>{if(e.options?.length&&e.variants.length){const C=e.variants.find(U=>U.available)||e.variants[0],b={};return e.options.forEach((U,B)=>{const q=`option${B+1}`,x=C[q];x&&(b[U.name]=String(x))}),b}return{}}),p=et(()=>e.options?.length?e.variants?.find(C=>e.options.every((b,U)=>{const B=`option${U+1}`;return String(C[B])===m[b.name]})):e.variants?.[0],[e.variants,e.options,m]);pe(()=>(d&&s&&g.length>1?_.current=setInterval(()=>{f(C=>(C+1)%g.length)},2e3):_.current&&(clearInterval(_.current),_.current=null),()=>{_.current&&clearInterval(_.current)}),[d,s,g.length]),pe(()=>{!d&&s&&(h(!1),f(0))},[d,s]);const w=()=>{r(e.id,t,e.url)},P=C=>{C.stopPropagation(),h(!0)},T=C=>{C.stopPropagation(),f(b=>(b-1+g.length)%g.length)},E=C=>{C.stopPropagation(),f(b=>(b+1)%g.length)},R=(C,b)=>{b.stopPropagation(),f(C)},M=(C,b)=>{y(U=>({...U,[C]:b}))},k=async()=>{if(!(!p||c)){l(!0);try{await i(e.id,p.variant_id,t)}finally{l(!1)}}},S=p?.compare_at_price&&p.compare_at_price>(p.price||e.price),A=g[u]||e.image,L=g.length>1;return O("article",{className:F.productCard,"data-product-id":e.id,children:[O("div",{className:F.imageSection,onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),children:[O("div",{className:F.productImage,onClick:w,role:"button",tabIndex:0,children:[O("img",{src:A,alt:`${e.title} - ${u+1}`,loading:"lazy",className:F.productImg}),L&&!s&&O("button",{className:F.seeMoreBtn,onClick:P,"aria-label":"View more images",children:["+",g.length-1," more"]}),S&&O("span",{className:F.discountBadge,children:[Math.round((p.compare_at_price-(p.price||e.price))/p.compare_at_price*100),"% OFF"]})]}),L&&s&&O("div",{className:F.imagePagination,children:[O("button",{className:F.paginationArrow,onClick:T,"aria-label":"Previous image",children:"‹"}),O("div",{className:F.paginationDots,children:g.map((C,b)=>O("button",{className:`${F.paginationDot} ${b===u?F.paginationDotActive:""}`,onClick:U=>R(b,U),"aria-label":`View image ${b+1}`},b))}),O("button",{className:F.paginationArrow,onClick:E,"aria-label":"Next image",children:"›"})]})]}),O("div",{className:F.contentSection,children:[O("h3",{className:F.productTitle,children:e.title}),O("div",{className:F.priceSection,children:[O("div",{className:F.priceGroup,children:[O("span",{className:F.currentPrice,children:ir(p?.price??e.price,n)}),S&&O("span",{className:F.originalPrice,children:ir(p.compare_at_price,n)}),S&&O("span",{className:F.discountPercent,children:[Math.round((p.compare_at_price-(p.price||e.price))/p.compare_at_price*100),"% off"]})]}),O("div",{className:F.qtyGroup,children:[O("span",{className:F.qtyLabel,children:"Qty"}),O("div",{className:F.qtyControls,children:[O("button",{className:F.qtyBtn,onClick:()=>a(Math.max(1,o-1)),disabled:o<=1,children:"−"}),O("span",{className:F.qtyValue,children:o}),O("button",{className:F.qtyBtn,onClick:()=>a(o+1),children:"+"})]})]})]}),e.options?.length?O("div",{className:F.variantsRow,children:e.options.map(C=>O("select",{className:F.variantSelect,value:m[C.name]||"",onChange:b=>M(C.name,b.currentTarget.value),children:C.values.map(b=>O("option",{value:b,children:b},b))},C.name))}):null,O("button",{className:`${F.addToCartBtn} ${c?F.loading:""} ${p?.available?"":F.disabled}`,disabled:!p?.available||c,onClick:k,children:c?O("span",{className:F.spinner}):p?.available?"Add to Cart":"Out of Stock"})]})]})},Ht="https://nonconscientious-annette-saddeningly.ngrok-free.dev";class Rn{constructor(t={}){this.levels={trace:10,debug:20,info:30,warn:40,error:50,fatal:60},this.logBuffer=[],this.batchTimeout=null,this.trace=this.createLogMethod("trace",this.levels.trace),this.debug=this.createLogMethod("debug",this.levels.debug),this.info=this.createLogMethod("info",this.levels.info),this.warn=this.createLogMethod("warn",this.levels.warn),this.error=this.createLogMethod("error",this.levels.error),this.fatal=this.createLogMethod("fatal",this.levels.fatal),this.currentLevel=this.levels[t.level||"info"],this.base={service:"phoenix-extension",env:"development",...t.base},this.batchSize=t.batchSize||5,this.interval=t.interval||3e3}createLogMethod(t,n){return(r,i,...o)=>{if(n<this.currentLevel)return;const a=new Date().toISOString(),c={level:n,time:a,...this.base,...typeof r=="object"&&r!==null?r:{},msg:i||(typeof r=="string"?r:""),...o.length>0?{args:o}:{}};this.sendToBackend(c)}}async sendToBackend(t){this.logBuffer.push(t),this.logBuffer.length>=this.batchSize?await this.flushLogs():this.batchTimeout||(this.batchTimeout=setTimeout(()=>{this.flushLogs(),this.batchTimeout=null},this.interval))}async flushLogs(){if(this.logBuffer.length===0)return;const n=`${Ht}/logs`;await fetch(n,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({logs:this.logBuffer,source:"phoenix-extension",timestamp:new Date().toISOString()})}),this.logBuffer=[]}child(t){return new Rn({level:"info",base:{...this.base,...t},batchSize:this.batchSize,interval:this.interval})}async flush(){this.batchTimeout&&(clearTimeout(this.batchTimeout),this.batchTimeout=null),await this.flushLogs()}}const me=new Rn({level:"info",base:{service:"phoenix-extension",env:"development"},batchSize:5,interval:3e3});class da{constructor(){this.makeAuthenticatedRequest=null,this.baseUrl=Ht,this.logger=me}setJWT(t){this.makeAuthenticatedRequest=t}async getRecommendations(t){try{if(!this.makeAuthenticatedRequest)throw new Error("JWT authentication not initialized");const n=await this.makeAuthenticatedRequest(`${this.baseUrl}/api/v1/recommendations`,{method:"POST",body:JSON.stringify(t)});if(!n.ok)throw n.status===403?new Error("Services suspended"):(this.logger.error({error:new Error(`HTTP error! status: ${n.status}`),shop_domain:t.shop_domain},"Failed to fetch recommendations"),new Error(`HTTP error! status: ${n.status}`));return await n.json()}catch(n){throw this.logger.error({error:n instanceof Error?n.message:String(n),shop_domain:t.shop_domain},"Failed to fetch recommendations"),n}}}const or=new da;class va{constructor(){this.makeAuthenticatedRequest=null,this.baseUrl=Ht,this.logger=me}setJWT(t){this.makeAuthenticatedRequest=t}getCurrentSessionId(){return null}async getOrCreateSession(t,n){try{if(!this.makeAuthenticatedRequest)throw new Error("JWT authentication not initialized");const r=`${this.baseUrl}/api/phoenix/get-or-create-session`,i={shop_domain:t,customer_id:n,user_agent:navigator.userAgent,ip_address:void 0,referrer:void 0},o=await this.makeAuthenticatedRequest(r,{method:"POST",body:JSON.stringify(i),keepalive:!0});if(!o.ok)throw o.status===403?new Error("Services suspended"):new Error(`Session creation failed: ${o.status}`);const a=await o.json();if(a.success&&a.data&&a.data.session_id)return a.data.session_id;throw this.logger.error({message:a.message,shop_domain:t},"Failed to create session"),new Error(a.message||"Failed to create session")}catch(r){throw this.logger.error({error:r instanceof Error?r.message:String(r),shop_domain:t},"Session creation error"),r}}async trackUnifiedInteraction(t){try{if(!this.makeAuthenticatedRequest)return{success:!1};const n=`${this.baseUrl}/api/phoenix/track-interaction`,r=await this.makeAuthenticatedRequest(n,{method:"POST",body:JSON.stringify(t),keepalive:!0});if(!r.ok)throw new Error(`Interaction tracking failed: ${r.status}`);const i=await r.json();if(i.success)return{success:!0,sessionRecovery:i.session_recovery||null};throw this.logger.error({message:i.message,shop_domain:t.shop_domain},"Failed to track interaction"),new Error(i.message||"Failed to track interaction")}catch(n){return this.logger.error({error:n instanceof Error?n.message:String(n),shop_domain:t.shop_domain},"Interaction tracking error"),{success:!1}}}buildRecommendationMetadata(t){const{extensionType:n,source:r="phoenix_theme_extension",cartProductCount:i,recommendationCount:o,recommendations:a,widget:c="phoenix_recommendation",algorithm:l="phoenix_algorithm",extra:u={}}=t;return{source:r,cart_product_count:i??u.cart_product_count??0,recommendation_count:o,extension_type:n,data:{recommendations:a.map(f=>({id:String(f.id),position:f.position})),type:"recommendation",widget:u.widget??c,algorithm:u.algorithm??l},...u}}async trackRecommendationView(t,n,r,i,o,a){try{const c=(o||[]).map((u,f)=>({id:u,position:f+1})),l={session_id:r,shop_domain:t,context:n,interaction_type:"recommendation_viewed",customer_id:i,page_url:null,referrer:null,metadata:this.buildRecommendationMetadata({extensionType:"phoenix",recommendationCount:c.length,recommendations:c,cartProductCount:a?.cart_product_count,extra:a})};return await this.trackUnifiedInteraction(l)}catch(c){return this.logger.error({error:c instanceof Error?c.message:String(c),shop_domain:t},"Failed to track recommendation view"),{success:!1}}}async trackRecommendationClick(t,n,r,i,o,a,c){try{const l={session_id:o,shop_domain:t,context:n,interaction_type:"recommendation_clicked",customer_id:a,product_id:r,page_url:null,referrer:null,metadata:{source:c?.source||"phoenix_recommendation",cart_product_count:c?.cart_product_count??0,recommendation_count:1,extension_type:"phoenix",data:{product:{id:r},position:i,type:"recommendation",widget:c?.widget||"phoenix_recommendation",algorithm:c?.algorithm||"phoenix_algorithm"},...c}};return await this.trackUnifiedInteraction(l)}catch(l){return this.logger.error({error:l instanceof Error?l.message:String(l),shop_domain:t},"Failed to track recommendation click"),{success:!1}}}}const Et=new va;function ha(e,t){const[n,r]=oe(null),[i,o]=oe(!1),a="betterbundle_jwt_token",c="betterbundle_jwt_expiry",l="betterbundle_shop_domain",u=_=>{if(!_||!_.expiresIn)return!1;const g=Date.now()/1e3;return _.expiresIn-g>60},f=async()=>{try{const _=localStorage.getItem(a),g=localStorage.getItem(l);return!_||!g?null:{token:_,expiresIn:parseInt(localStorage.getItem(c)||"0"),shopDomain:g,shopStatus:"unknown",permissions:[]}}catch{return null}},s=async _=>{try{localStorage.setItem(a,_.token);const g=Math.floor(Date.now()/1e3)+_.expiresIn;localStorage.setItem(c,g.toString()),localStorage.setItem(l,_.shopDomain)}catch{}},h=async(_,g)=>{const m={};if(_)m.shop_domain=_;else if(g)m.customer_id=g;else throw new Error("Either shopDomain or customerId must be provided");const y=await fetch(`${Ht}/api/v1/auth/shop-token`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)});if(!y.ok)throw new Error(`Token generation failed: ${y.status}`);const p=await y.json();return{token:p.token,expiresIn:p.expires_in,shopDomain:p.shop_domain,shopStatus:p.shop_status,permissions:p.permissions}},d=ui(async(_,g)=>{try{const m=await f();if(m&&m.token&&u(m)&&(!_||m.shopDomain===_))return m.token;const y=await h(_,g);return await s(y),y.token}catch(m){return me.error({error:m instanceof Error?m.message:String(m),shop_domain:_,customer_id:g},"Failed to get JWT token"),null}},[]),v=async(_,g={})=>n?fetch(_,{...g,headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`,...g.headers}}):new Response(JSON.stringify({error:"No token available"}),{status:401});return pe(()=>{(async()=>{if(!(!e&&!t))try{const g=await d(e,t);g?(r(g),o(!0)):o(!1)}catch(g){me.error({error:g instanceof Error?g.message:String(g),shop_domain:e,customer_id:t},"Failed to initialize JWT"),o(!1)}})()},[e,t,d]),{token:n,isReady:i,makeAuthenticatedRequest:v}}const ma=()=>window.Shopify?.designMode||!1,jr=(e,t)=>{try{const n=parseFloat(e);return new Intl.NumberFormat("en-US",{style:"currency",currency:t,minimumFractionDigits:t==="JPY"||t==="KRW"?0:2,maximumFractionDigits:t==="JPY"||t==="KRW"?0:2}).format(n)}catch{return`${{USD:"$",EUR:"€",GBP:"£",CAD:"C$",AUD:"A$",JPY:"¥",INR:"₹",KRW:"₩",BRL:"R$",MXN:"$"}[t]||t}${e}`}},ga=(e,t="USD")=>Array.from({length:e},(n,r)=>{const i=29.99+r*10,o=`https://via.placeholder.com/300x300/4a90e2/ffffff?text=Product+${r+1}`;return{id:`dummy-${r}`,title:`Sample Product ${r+1}`,handle:`sample-product-${r+1}`,price:jr(String(i),t),image:{url:o,alt_text:`Sample Product ${r+1}`},images:[{url:o,alt_text:`Sample Product ${r+1}`,position:0},{url:`https://via.placeholder.com/300x300/ff6b6b/ffffff?text=Alt+${r+1}`,alt_text:`Alternative view ${r+1}`,position:1}],inStock:!0,url:"#",variant_id:`var-${r}-1`}});function pa({context:e,limit:t,customerId:n,shopDomain:r,currency:i="USD"}){const{makeAuthenticatedRequest:o,isReady:a}=ha(r,n),[c,l]=oe(!1),[u,f]=oe(null),[s,h]=oe(null),[d,v]=oe(null),[_,g]=oe(!1);pe(()=>{const p=ma();if(g(p),p){f(ga(t,i)),l(!1);return}},[t,i]),pe(()=>{a&&o&&(or.setJWT(o),Et.setJWT(o))},[a,o]),pe(()=>{if(_)return;a&&(async()=>{try{const w=sessionStorage.getItem("unified_session_id");if(w){v(w);return}const P=await Et.getOrCreateSession(r,n);sessionStorage.setItem("unified_session_id",P),v(P)}catch(w){me.error({error:w instanceof Error?w.message:String(w),shop_domain:r},"Failed to initialize session"),h("Failed to initialize session")}})()},[r,n,a,_]);const m=async(p,w,P)=>{if(_)return P;try{const T=await Et.trackRecommendationClick(r,e,p,w,d,n,{source:`${e}_recommendation`});T.success&&T.sessionRecovery&&(sessionStorage.setItem("unified_session_id",T.sessionRecovery.new_session_id),v(T.sessionRecovery.new_session_id))}catch(T){me.error({error:T instanceof Error?T.message:String(T),shop_domain:r},"Failed to track recommendation click")}return P},y=async()=>{if(!(_||!u||u.length===0))try{const p=u.map(P=>P.id),w=await Et.trackRecommendationView(r,e,d,n,p,{source:`${e}_page`});w.success&&w.sessionRecovery&&(sessionStorage.setItem("unified_session_id",w.sessionRecovery.new_session_id),v(w.sessionRecovery.new_session_id))}catch(p){me.error({error:p instanceof Error?p.message:String(p),shop_domain:r},"Failed to track recommendation view")}};return pe(()=>{if(_)return;if(!d||!a){me.error({shop_domain:r},"Waiting for session and JWT initialization");return}(async()=>{try{l(!0),h(null);const w=await or.getRecommendations({context:e,limit:t,user_id:n,session_id:d,...r&&{shop_domain:r}});if(w.success&&w.recommendations){const P=w.recommendations.map(T=>({id:T.id,title:T.title,handle:T.handle,price:jr(T.price.amount,T.price.currency_code),image:T.image,images:T.images||[],inStock:T.available??!0,url:T.url||(r?`https://${r}/products/${T.handle}`:T.handle),variants:T.variants||[],options:T.options||[]}));f(P)}else throw new Error(`Failed to fetch ${e} recommendations`)}catch(w){me.error({error:w instanceof Error?w.message:String(w),shop_domain:r},"Failed to fetch recommendations"),h("Failed to load recommendations")}finally{l(!1)}})()},[n,e,t,d,r,a,_]),{loading:c,products:u,error:s,isDesignMode:_,trackRecommendationClick:m,trackRecommendationView:y}}const ya=({productIds:e,customerId:t,shopDomain:n,limit:r,context:i,enableAutoplay:o,autoplayDelay:a,showArrows:c,showPagination:l,currency:u})=>{const f=en(null),s=en(null),{products:h,error:d,isDesignMode:v,trackRecommendationClick:_,trackRecommendationView:g}=pa({context:i,limit:r,customerId:t||"",shopDomain:n,currency:u}),m=et(()=>h?h.map(E=>{const R=E.price.match(/[\d.]+/),M=R?parseFloat(R[0]):0,k=E,S=k.options||[],L=(k.variants||[]).map(b=>{const U=b.title?.split(" / ")||[],B={};return S.forEach((q,x)=>{const N=`option${x+1}`;B[N]=U[x]||""}),{variant_id:b.variant_id||b.variantId,title:b.title||"",price:typeof b.price=="number"?b.price:parseFloat(String(b.price||"0")),compare_at_price:b.compare_at_price??null,available:(b.inventory??0)>0,inventory:b.inventory??null,option1:B.option1||null,option2:B.option2||null,option3:B.option3||null,image:b.image||null}}),C=S.map(b=>({name:b.name||"",values:b.values||[]}));return{id:E.id,title:E.title,image:E.image?.url||"",url:E.url||"#",price:M,compare_at_price:L[0]?.compare_at_price??null,currency:u,variants:L,options:C.length>0?C:void 0,images:E.images?.map(b=>b.url)||[]}}):null,[h,u]);pe(()=>{m&&m.length>0&&!v&&g()},[m,v,g]),pe(()=>{if(!(!m?.length||!f.current||s.current))return s.current=new Cn(f.current,{type:m.length>4?"loop":"slide",perPage:4,perMove:1,gap:"0.5rem",arrows:!1,pagination:!1,autoplay:o,interval:a,pauseOnHover:!0,pauseOnFocus:!0,breakpoints:{1200:{perPage:3},768:{perPage:2},480:{perPage:1}},lazyLoad:"nearby",preloadPages:1}),s.current.mount(),()=>{s.current&&(s.current.destroy(),s.current=null)}},[m,o,a]);const y=()=>{s.current&&s.current.go("<")},p=()=>{s.current&&s.current.go(">")},w=async(E,R,M)=>{if(v)return;const k=await _(String(E),R,M);window.location.href=k},P=async(E,R,M)=>{if(v){alert("Add to cart works in live preview only");return}try{const k=window.Shopify;if(k?.analytics?.addToCart){const S={_bb_rec_product_id:String(E),_bb_rec_extension:"phoenix",_bb_rec_context:i,_bb_rec_position:String(M),_bb_rec_timestamp:new Date().toISOString(),_bb_rec_source:"betterbundle"};await k.analytics.addToCart(R,1,S),window.location.reload()}else{const S=m?.find(A=>A.id===E);S&&(window.location.href=S.url)}}catch{}};if(d)return O("div",{className:F.phoenixCarousel,children:O("div",{className:F.error,children:["Failed to load recommendations: ",d]})});if(!m)return O("div",{className:F.phoenixCarousel,children:O("div",{className:F.loading,children:"Loading recommendations..."})});if(m.length===0)return null;const T=m.length>4;return O("div",{className:F.phoenixCarousel,children:[O("div",{ref:f,className:"splide",children:O("div",{className:"splide__track",children:O("ul",{className:"splide__list",children:m.map((E,R)=>O("li",{className:"splide__slide",children:O(_a,{product:E,position:R+1,currency:u,onClick:w,onAddToCart:P})},String(E.id)))})})}),T&&(c||l)&&O("div",{className:F.carouselPagination,children:[c&&O("button",{className:F.carouselArrow,onClick:y,"aria-label":"Previous products",children:"‹"}),l&&O("div",{className:F.carouselDots,children:[O("div",{className:F.carouselDot}),O("div",{className:F.carouselDot}),O("div",{className:F.carouselDot})]}),c&&O("button",{className:F.carouselArrow,onClick:p,"aria-label":"Next products",children:"›"})]})]})},Ea=({type:e,settings:t,shopify:n})=>{const r=t,i=n;return e==="product-carousel"?O("div",{className:"phoenix-extension",children:O(ya,{productIds:r.product_ids||(i.productId?[i.productId]:[]),customerId:i.customerId,shopDomain:String(i.shop||""),limit:Number(r.limit??6),context:r.context||"product_page",enableAutoplay:!!r.enable_autoplay,autoplayDelay:Number(r.autoplay_delay??2500),showArrows:!!r.show_arrows,showPagination:!!r.show_pagination,currency:String(r.currency||"USD")})}):e==="test-component"?O("div",{style:{padding:"20px",backgroundColor:String(r.background_color||"#f0f0f0"),color:String(r.primary_color||"#333"),borderRadius:"8px",border:"2px solid #007acc"},children:[O("h3",{children:String(r.title||"Phoenix Test Component")}),O("p",{children:["Preact is working with hot reload! Updated"," ",new Date().toLocaleTimeString()]}),O("p",{children:["Product ID: ",String(i.productId||"None")]}),O("div",{style:{fontSize:"12px",marginTop:"10px"},children:[O("strong",{children:"Settings:"})," ",JSON.stringify(r,null,2)]})]}):O("div",{className:"phoenix-component-error",children:[O("h3",{children:['Component "',e,'" not found']}),O("p",{children:"Available: product-carousel, test-component"})]})},ar=()=>{const e=document.querySelectorAll("[data-phoenix-component]");return e.length===0?!1:(e.forEach((t,n)=>{try{const r=t.getAttribute("data-phoenix-component"),i=t.getAttribute("data-phoenix-props");if(!r)return;const o=i?JSON.parse(i):{},a={productId:t.getAttribute("data-product-id"),collectionId:t.getAttribute("data-collection-id"),customerId:window.meta?.customer?.id,shop:window.Shopify?.shop};t&&t.nodeType===Node.ELEMENT_NODE&&ai(O(Ea,{type:r,settings:o,shopify:a}),t)}catch{}}),!0)},un=()=>{ar()||setTimeout(()=>{ar()},100)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",un):(document.readyState==="interactive"||document.readyState==="complete")&&un();window.addEventListener("load",()=>{const e=document.querySelectorAll("[data-phoenix-component]");e.length>0&&Array.from(e).filter(n=>!n.querySelector(".phoenix-extension, .phoenix-component-error")).length>0&&un()});
